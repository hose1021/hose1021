/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=rt.type(t);return"function"===i||rt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(rt.isFunction(e))return rt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return rt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(ft.test(e))return rt.filter(e,t,i);e=rt.filter(e,t)}return rt.grep(t,function(t){return rt.inArray(t,e)>=0!==i})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=xt[t]={};return rt.each(t.match(yt)||[],function(t,i){e[i]=!0}),e}function a(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(pt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(a(),rt.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Mt,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?rt.parseJSON(i):i}catch(r){}rt.data(t,e,i)}else i=void 0}return i}function u(t){var e;for(e in t)if(("data"!==e||!rt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(t,e,i,n){if(rt.acceptData(t)){var r,o,a=rt.expando,s=t.nodeType,l=s?rt.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof e)return u||(u=s?t[a]=G.pop()||rt.guid++:a),l[u]||(l[u]=s?{}:{toJSON:rt.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[u]=rt.extend(l[u],e):l[u].data=rt.extend(l[u].data,e)),o=l[u],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[rt.camelCase(e)]=i),"string"==typeof e?(r=o[e],null==r&&(r=o[rt.camelCase(e)])):r=o,r}}function c(t,e,i){if(rt.acceptData(t)){var n,r,o=t.nodeType,a=o?rt.cache:t,s=o?t[rt.expando]:rt.expando;if(a[s]){if(e&&(n=i?a[s]:a[s].data)){rt.isArray(e)?e=e.concat(rt.map(e,rt.camelCase)):e in n?e=[e]:(e=rt.camelCase(e),e=e in n?[e]:e.split(" ")),r=e.length;for(;r--;)delete n[e[r]];if(i?!u(n):!rt.isEmptyObject(n))return}(i||(delete a[s].data,u(a[s])))&&(o?rt.cleanData([t],!0):it.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function d(){return!1}function p(){try{return pt.activeElement}catch(t){}}function m(t){var e=Ft.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function _(t,e){var i,n,r=0,o=typeof t.getElementsByTagName!==Tt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Tt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[r]);r++)!e||rt.nodeName(n,e)?o.push(n):rt.merge(o,_(n,e));return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],o):o}function v(t){zt.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==rt.find.attr(t,"type"))+"/"+t.type,t}function x(t){var e=Yt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){for(var i,n=0;null!=(i=t[n]);n++)rt._data(i,"globalEval",!e||rt._data(e[n],"globalEval"))}function w(t,e){if(1===e.nodeType&&rt.hasData(t)){var i,n,r,o=rt._data(t),a=rt._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,r=s[i].length;r>n;n++)rt.event.add(e,i,s[i][n])}a.data&&(a.data=rt.extend({},a.data))}}function T(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!it.noCloneEvent&&e[rt.expando]){r=rt._data(e);for(n in r.events)rt.removeEvent(e,n,r.handle);e.removeAttribute(rt.expando)}"script"===i&&e.text!==t.text?(y(e).text=t.text,x(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),it.html5Clone&&t.innerHTML&&!rt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&zt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function S(e,i){var n,r=rt(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:rt.css(r[0],"display");return r.detach(),o}function M(t){var e=pt,i=Qt[t];return i||(i=S(t,e),"none"!==i&&i||(Kt=(Kt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Kt[0].contentWindow||Kt[0].contentDocument).document,e.write(),e.close(),i=S(t,e),Kt.detach()),Qt[t]=i),i}function E(t,e){return{get:function(){var i=t();return null!=i?i?void delete this.get:(this.get=e).apply(this,arguments):void 0}}}function D(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=fe.length;r--;)if(e=fe[r]+i,e in t)return e;return n}function I(t,e){for(var i,n,r,o=[],a=0,s=t.length;s>a;a++)n=t[a],n.style&&(o[a]=rt._data(n,"olddisplay"),i=n.style.display,e?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&It(n)&&(o[a]=rt._data(n,"olddisplay",M(n.nodeName)))):(r=It(n),(i&&"none"!==i||!r)&&rt._data(n,"olddisplay",r?i:rt.css(n,"display"))));for(a=0;s>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[a]||"":"none"));return t}function P(t,e,i){var n=le.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function z(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===i&&(a+=rt.css(t,i+Dt[o],!0,r)),n?("content"===i&&(a-=rt.css(t,"padding"+Dt[o],!0,r)),"margin"!==i&&(a-=rt.css(t,"border"+Dt[o]+"Width",!0,r))):(a+=rt.css(t,"padding"+Dt[o],!0,r),"padding"!==i&&(a+=rt.css(t,"border"+Dt[o]+"Width",!0,r)));return a}function A(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=te(t),a=it.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=ee(t,e,o),(0>r||null==r)&&(r=t.style[e]),ne.test(r))return r;n=a&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+z(t,e,i||(a?"border":"content"),n,o)+"px"}function k(t,e,i,n,r){return new k.prototype.init(t,e,i,n,r)}function C(){return setTimeout(function(){de=void 0}),de=rt.now()}function L(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=Dt[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function R(t,e,i){for(var n,r=(ye[e]||[]).concat(ye["*"]),o=0,a=r.length;a>o;o++)if(n=r[o].call(i,e,t))return n}function F(t,e,i){var n,r,o,a,s,l,u,h,c=this,f={},d=t.style,p=t.nodeType&&It(t),m=rt._data(t,"fxshow");i.queue||(s=rt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,rt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],u=rt.css(t,"display"),h="none"===u?rt._data(t,"olddisplay")||M(t.nodeName):u,"inline"===h&&"none"===rt.css(t,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",it.shrinkWrapBlocks()||c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],me.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;p=!0}f[n]=m&&m[n]||rt.style(t,n)}else u=void 0;if(rt.isEmptyObject(f))"inline"===("none"===u?M(t.nodeName):u)&&(d.display=u);else{m?"hidden"in m&&(p=m.hidden):m=rt._data(t,"fxshow",{}),o&&(m.hidden=!p),p?rt(t).show():c.done(function(){rt(t).hide()}),c.done(function(){var e;rt._removeData(t,"fxshow");for(e in f)rt.style(t,e,f[e])});for(n in f)a=R(p?m[n]:0,n,c),n in m||(m[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function O(t,e){var i,n,r,o,a;for(i in t)if(n=rt.camelCase(i),r=e[n],o=t[i],rt.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),a=rt.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function N(t,e,i){var n,r,o=0,a=ge.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=de||C(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,o=1-n,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,i]),1>o&&l?i:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:de||C(),duration:i.duration,tweens:[],createTween:function(e,i){var n=rt.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),h=u.props;for(O(h,u.opts.specialEasing);a>o;o++)if(n=ge[o].call(u,t,h,u.opts))return n;return rt.map(h,R,u),rt.isFunction(u.opts.start)&&u.opts.start.call(t,u),rt.fx.timer(rt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function j(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(yt)||[];if(rt.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function B(t,e,i,n){function r(s){var l;return o[s]=!0,rt.each(t[s]||[],function(t,s){var u=s(e,i,n);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===Ve;return r(e.dataTypes[0])||!o["*"]&&r("*")}function q(t,e){var i,n,r=rt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&rt.extend(!0,t,i),t}function U(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}n||(n=a)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function V(t,e,i,n){var r,o,a,s,l,u={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function X(t,e,i,n){var r;if(rt.isArray(e))rt.each(e,function(e,r){i||Ye.test(t)?n(t,r):X(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==rt.type(e))n(t,e);else for(r in e)X(t+"["+r+"]",e[r],i,n)}function H(){try{return new t.XMLHttpRequest}catch(e){}}function $(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Y(t){return rt.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var G=[],W=G.slice,Z=G.concat,J=G.push,K=G.indexOf,Q={},tt=Q.toString,et=Q.hasOwnProperty,it={},nt="1.11.1",rt=function(t,e){return new rt.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:nt,constructor:rt,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:G.sort,splice:G.splice},rt.extend=rt.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||rt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(n in r)t=a[n],i=r[n],a!==i&&(u&&i&&(rt.isPlainObject(i)||(e=rt.isArray(i)))?(e?(e=!1,o=t&&rt.isArray(t)?t:[]):o=t&&rt.isPlainObject(t)?t:{},a[n]=rt.extend(u,o,i)):void 0!==i&&(a[n]=i));return a},rt.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray||function(t){return"array"===rt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;try{if(t.constructor&&!et.call(t,"constructor")&&!et.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(e in t)return et.call(t,e);for(e in t);return void 0===e||et.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[tt.call(t)]||"object":typeof t},globalEval:function(e){e&&rt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(at,"ms-").replace(st,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,a=t.length,s=i(t);if(n){if(s)for(;a>o&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?rt.merge(n,"string"==typeof t?[t]:t):J.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(K)return K.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;)t[r++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,a=t.length,s=!i;a>o;o++)n=!e(t[o],o),n!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,a=t.length,s=i(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,n),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&l.push(r);return Z.apply([],l)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(r=t[e],e=t,t=r),rt.isFunction(t)?(i=W.call(arguments,2),n=function(){return t.apply(e||this,i.concat(W.call(arguments)))},n.guid=t.guid=t.guid||rt.guid++,n):void 0},now:function(){return+new Date},support:it}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,i,n){var r,o,a,s,l,u,c,d,p,m;if((e?e.ownerDocument||e:B)!==k&&A(e),e=e||k,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(L&&!n){if(r=gt.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&N(e,o)&&o.id===a)return i.push(o),i}else{if(r[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((a=r[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(a)),i}if(b.qsa&&(!R||!R.test(t))){if(d=c=j,p=e,m=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=M(t),(c=e.getAttribute("id"))?d=c.replace(xt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+f(u[l]);p=yt.test(t)&&h(e.parentNode)||e,m=u.join(",")}if(m)try{return Q.apply(i,p.querySelectorAll(m)),i}catch(_){}finally{c||e.removeAttribute("id")}}}return D(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[j]=!0,t}function r(t){var e=k.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&typeof t.getElementsByTagName!==Y&&t}function c(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=U++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,a){var s,l,u=[q,o];if(a){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[j]||(e[j]={}),(s=l[n])&&s[0]===q&&s[1]===o)return u[2]=s[2];if(l[n]=u,u[2]=t(e,i,a))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var r=0,o=i.length;o>r;r++)e(t,i[r],n);return n}function _(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!i||i(o,n,r))&&(a.push(o),u&&e.push(s));return a}function v(t,e,i,r,o,a){return r&&!r[j]&&(r=v(r)),o&&!o[j]&&(o=v(o,a)),n(function(n,a,s,l){var u,h,c,f=[],d=[],p=a.length,v=n||m(e||"*",s.nodeType?[s]:s,[]),g=!t||!n&&e?v:_(v,f,t,s,l),y=i?o||(n?t:p||r)?[]:a:g;if(i&&i(g,y,s,l),r)for(u=_(y,d),r(u,[],s,l),h=u.length;h--;)(c=u[h])&&(y[d[h]]=!(g[d[h]]=c));if(n){if(o||t){if(o){for(u=[],h=y.length;h--;)(c=y[h])&&u.push(g[h]=c);o(null,y=[],u,l)}for(h=y.length;h--;)(c=y[h])&&(u=o?et.call(n,c):f[h])>-1&&(n[u]=!(a[u]=c))}}else y=_(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):Q.apply(a,y)})}function g(t){for(var e,i,n,r=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,l=d(function(t){return t===e},a,!0),u=d(function(t){return et.call(e,t)>-1},a,!0),h=[function(t,i,n){return!o&&(n||i!==I)||((e=i).nodeType?l(t,i,n):u(t,i,n))}];r>s;s++)if(i=w.relative[t[s].type])h=[d(p(h),i)];else{if(i=w.filter[t[s].type].apply(null,t[s].matches),i[j]){for(n=++s;r>n&&!w.relative[t[n].type];n++);return v(s>1&&p(h),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),i,n>s&&g(t.slice(s,n)),r>n&&g(t=t.slice(n)),r>n&&f(t))}h.push(i)}return p(h)}function y(t,i){var r=i.length>0,o=t.length>0,a=function(n,a,s,l,u){var h,c,f,d=0,p="0",m=n&&[],v=[],g=I,y=n||o&&w.find.TAG("*",u),x=q+=null==g?1:Math.random()||.1,b=y.length;for(u&&(I=a!==k&&a);p!==b&&null!=(h=y[p]);p++){if(o&&h){for(c=0;f=t[c++];)if(f(h,a,s)){l.push(h);break}u&&(q=x)}r&&((h=!f&&h)&&d--,n&&m.push(h))}if(d+=p,r&&p!==d){for(c=0;f=i[c++];)f(m,v,a,s);if(n){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=J.call(l));v=_(v)}Q.apply(l,v),u&&!n&&v.length>0&&d+i.length>1&&e.uniqueSort(l)}return u&&(q=x,I=g),m};return r?n(a):a}var x,b,w,T,S,M,E,D,I,P,z,A,k,C,L,R,F,O,N,j="sizzle"+-new Date,B=t.document,q=0,U=0,V=i(),X=i(),H=i(),$=function(t,e){return t===e&&(z=!0),0},Y="undefined",G=1<<31,W={}.hasOwnProperty,Z=[],J=Z.pop,K=Z.push,Q=Z.push,tt=Z.slice,et=Z.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=rt.replace("w","w#"),at="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ht=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(st),dt=new RegExp("^"+ot+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.apply(Z=tt.call(B.childNodes),B.childNodes),Z[B.childNodes.length].nodeType}catch(Tt){Q={apply:Z.length?function(t,e){K.apply(t,tt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:B,n=i.defaultView;return i!==k&&9===i.nodeType&&i.documentElement?(k=i,C=i.documentElement,L=!S(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){A()},!1):n.attachEvent&&n.attachEvent("onunload",function(){A()})),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=vt.test(i.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),b.getById=r(function(t){return C.appendChild(t).id=j,!i.getElementsByName||!i.getElementsByName(j).length}),b.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==Y&&L){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var i=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&L?e.getElementsByClassName(t):void 0},F=[],R=[],(b.qsa=vt.test(i.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+it+")"),t.querySelectorAll(":checked").length||R.push(":checked")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(b.matchesSelector=vt.test(O=C.matches||C.webkitMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector||C.msMatchesSelector))&&r(function(t){b.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),F.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),F=F.length&&new RegExp(F.join("|")),e=vt.test(C.compareDocumentPosition),N=e||vt.test(C.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return z=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===B&&N(B,t)?-1:e===i||e.ownerDocument===B&&N(B,e)?1:P?et.call(P,t)-et.call(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return z=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:P?et.call(P,t)-et.call(P,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===B?-1:u[r]===B?1:0},i):k},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==k&&A(t),i=i.replace(ct,"='$1']"),!(!b.matchesSelector||!L||F&&F.test(i)||R&&R.test(i)))try{var n=O.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,k,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==k&&A(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==k&&A(t);var i=w.attrHandle[e.toLowerCase()],n=i&&W.call(w.attrHandle,e.toLowerCase())?i(t,e,!L):void 0;return void 0!==n?n:b.attributes||!L?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(z=!b.detectDuplicates,P=!b.sortStable&&t.slice(0),t.sort($),z){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return P=null,t},T=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=T(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ft.test(i)&&(e=M(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,h,c,f,d,p,m=o!==a?"nextSibling":"previousSibling",_=e.parentNode,v=s&&e.nodeName.toLowerCase(),g=!l&&!s;if(_){if(o){for(;m;){for(c=e;c=c[m];)if(s?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&g){for(h=_[j]||(_[j]={}),u=h[t]||[],d=u[0]===q&&u[1],f=u[0]===q&&u[2],c=d&&_.childNodes[d];c=++d&&c&&c[m]||(f=d=0)||p.pop();)if(1===c.nodeType&&++f&&c===e){h[t]=[q,d,f];break}}else if(g&&(u=(e[j]||(e[j]={}))[t])&&u[0]===q)f=u[1];else for(;(c=++d&&c&&c[m]||(f=d=0)||p.pop())&&((s?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++f||(g&&((c[j]||(c[j]={}))[t]=[q,f]),c!==e)););return f-=r,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(t,i){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(i):o.length>1?(r=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),a=r.length;a--;)n=et.call(t,r[a]),t[n]=!(e[n]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=E(t.replace(lt,"$1"));return r[j]?n(function(t,e,i,n){for(var o,a=r(t,null,n,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===C},focus:function(t){return t===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return _t.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[0>i?i+e:i]}),even:u(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,M=e.tokenize=function(t,i){var n,r,o,a,s,l,u,h=X[t+" "];if(h)return i?0:h.slice(0);for(s=t,l=[],u=w.preFilter;s;){(!n||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=ht.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(lt," ")}),s=s.slice(n.length));for(a in w.filter)!(r=pt[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):X(t,l).slice(0)},E=e.compile=function(t,e){var i,n=[],r=[],o=H[t+" "];if(!o){for(e||(e=M(t)),i=e.length;i--;)o=g(e[i]),o[j]?n.push(o):r.push(o);o=H(t,y(r,n)),o.selector=t}return o},D=e.select=function(t,e,i,n){var r,o,a,s,l,u="function"==typeof t&&t,c=!n&&M(t=u.selector||t);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===e.nodeType&&L&&w.relative[o[1].type]){if(e=(w.find.ID(a.matches[0].replace(bt,wt),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(n=l(a.matches[0].replace(bt,wt),yt.test(o[0].type)&&h(e.parentNode)||e))){
if(o.splice(r,1),t=n.length&&f(o),!t)return Q.apply(i,n),i;break}}return(u||E(t,c))(n,e,!L,i,yt.test(t)&&h(e.parentNode)||e),i},b.sortStable=j.split("").sort($).join("")===j,b.detectDuplicates=!!z,A(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(k.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(it,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ht=rt.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?rt.find.matchesSelector(n,t)?[n]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;r>e;e++)if(rt.contains(n[e],this))return!0}));for(e=0;r>e;e++)rt.find(t,n[e],i);return i=this.pushStack(r>1?rt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ht.test(t)?rt(t):t||[],!1).length}});var dt,pt=t.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_t=rt.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:mt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||dt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:pt,!0)),ct.test(i[1])&&rt.isPlainObject(e))for(i in e)rt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=pt.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return dt.find(t);this.length=1,this[0]=n}return this.context=pt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?"undefined"!=typeof dt.ready?dt.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};_t.prototype=rt.fn,dt=rt(pt);var vt=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,i){for(var n=[],r=t[e];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!rt(r).is(i));)1===r.nodeType&&n.push(r),r=r[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),rt.fn.extend({has:function(t){var e,i=rt(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(rt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],a=ht.test(t)||"string"!=typeof t?rt(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(t){return t?"string"==typeof t?rt.inArray(this[0],rt(t)):rt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,i){return rt.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,i){return rt.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return rt.dir(t,"previousSibling",i)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return rt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(i,n){var r=rt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=rt.filter(n,r)),this.length>1&&(gt[t]||(r=rt.unique(r)),vt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var yt=/\S+/g,xt={};rt.Callbacks=function(t){t="string"==typeof t?xt[t]||o(t):rt.extend({},t);var e,i,n,r,a,s,l=[],u=!t.once&&[],h=function(o){for(i=t.memory&&o,n=!0,a=s||0,s=0,r=l.length,e=!0;l&&r>a;a++)if(l[a].apply(o[0],o[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(u?u.length&&h(u.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var n=l.length;!function o(e){rt.each(e,function(e,i){var n=rt.type(i);"function"===n?t.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),e?r=l.length:i&&(s=n,h(i))}return this},remove:function(){return l&&rt.each(arguments,function(t,i){for(var n;(n=rt.inArray(i,l,n))>-1;)l.splice(n,1),e&&(r>=n&&r--,a>=n&&a--)}),this},has:function(t){return t?rt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=i=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,i||c.disable(),this},locked:function(){return!u},fireWith:function(t,i){return!l||n&&!u||(i=i||[],i=[t,i.slice?i.slice():i],e?u.push(i):h(i)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(i){rt.each(e,function(e,o){var a=rt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,n):n}},r={};return n.pipe=n.then,rt.each(e,function(t,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=W.call(arguments),a=o.length,s=1!==a||t&&rt.isFunction(t.promise)?a:0,l=1===s?t:rt.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?W.call(arguments):r,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,i,e)):--s;return s||l.resolveWith(n,o),l.promise()}});var bt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){if(t===!0?!--rt.readyWait:!rt.isReady){if(!pt.body)return setTimeout(rt.ready);rt.isReady=!0,t!==!0&&--rt.readyWait>0||(bt.resolveWith(pt,[rt]),rt.fn.triggerHandler&&(rt(pt).triggerHandler("ready"),rt(pt).off("ready")))}}}),rt.ready.promise=function(e){if(!bt)if(bt=rt.Deferred(),"complete"===pt.readyState)setTimeout(rt.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{pt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var i=!1;try{i=null==t.frameElement&&pt.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!rt.isReady){try{i.doScroll("left")}catch(t){return setTimeout(r,50)}a(),rt.ready()}}()}return bt.promise(e)};var wt,Tt="undefined";for(wt in rt(it))break;it.ownLast="0"!==wt,it.inlineBlockNeedsLayout=!1,rt(function(){var t,e,i,n;i=pt.getElementsByTagName("body")[0],i&&i.style&&(e=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Tt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=pt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(e){it.deleteExpando=!1}}t=null}(),rt.acceptData=function(t){var e=rt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?rt.cache[t[rt.expando]]:t[rt.expando],!!t&&!u(t)},data:function(t,e,i){return h(t,e,i)},removeData:function(t,e){return c(t,e)},_data:function(t,e,i){return h(t,e,i,!0)},_removeData:function(t,e){return c(t,e,!0)}}),rt.fn.extend({data:function(t,e){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=rt.camelCase(n.slice(5)),l(o,n,r[n])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){rt.data(this,t)}):arguments.length>1?this.each(function(){rt.data(this,t,e)}):o?l(o,t,rt.data(o,t)):void 0},removeData:function(t){return this.each(function(){rt.removeData(this,t)})}}),rt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=rt._data(t,e),i&&(!n||rt.isArray(i)?n=rt._data(t,e,rt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=rt.queue(t,e),n=i.length,r=i.shift(),o=rt._queueHooks(t,e),a=function(){rt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return rt._data(t,i)||rt._data(t,i,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(t,e+"queue"),rt._removeData(t,i)})})}}),rt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?rt.queue(this[0],t):void 0===e?this:this.each(function(){var i=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=rt.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=rt._data(o[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=["Top","Right","Bottom","Left"],It=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},Pt=rt.access=function(t,e,i,n,r,o,a){var s=0,l=t.length,u=null==i;if("object"===rt.type(i)){r=!0;for(s in i)rt.access(t,e,s,i[s],!0,o,a)}else if(void 0!==n&&(r=!0,rt.isFunction(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(rt(t),i)})),e))for(;l>s;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return r?t:u?e.call(t):l?e(t[0],i):o},zt=/^(?:checkbox|radio)$/i;!function(){var t=pt.createElement("input"),e=pt.createElement("div"),i=pt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===e.firstChild.nodeType,it.tbody=!e.getElementsByTagName("tbody").length,it.htmlSerialize=!!e.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),it.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){it.noCloneEvent=!1}),e.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(n){it.deleteExpando=!1}}}(),function(){var e,i,n=pt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(it[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),it[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var At=/^(?:input|select|textarea)$/i,kt=/^key/,Ct=/^(?:mouse|pointer|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,u,h,c,f,d,p,m,_=rt._data(t);if(_){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=rt.guid++),(a=_.events)||(a=_.events={}),(h=_.handle)||(h=_.handle=function(t){return typeof rt===Tt||t&&rt.event.triggered===t.type?void 0:rt.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(yt)||[""],s=e.length;s--;)o=Rt.exec(e[s])||[],d=m=o[1],p=(o[2]||"").split(".").sort(),d&&(u=rt.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=rt.event.special[d]||{},c=rt.extend({type:d,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=a[d])||(f=a[d]=[],f.delegateCount=0,u.setup&&u.setup.call(t,n,p,h)!==!1||(t.addEventListener?t.addEventListener(d,h,!1):t.attachEvent&&t.attachEvent("on"+d,h))),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),rt.event.global[d]=!0);t=null}},remove:function(t,e,i,n,r){var o,a,s,l,u,h,c,f,d,p,m,_=rt.hasData(t)&&rt._data(t);if(_&&(h=_.events)){for(e=(e||"").match(yt)||[""],u=e.length;u--;)if(s=Rt.exec(e[u])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(c=rt.event.special[d]||{},d=(n?c.delegateType:c.bindType)||d,f=h[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,c.remove&&c.remove.call(t,a));l&&!f.length&&(c.teardown&&c.teardown.call(t,p,_.handle)!==!1||rt.removeEvent(t,d,_.handle),delete h[d])}else for(d in h)rt.event.remove(t,d+e[u],i,n,!0);rt.isEmptyObject(h)&&(delete _.handle,rt._removeData(t,"events"))}},trigger:function(e,i,n,r){var o,a,s,l,u,h,c,f=[n||pt],d=et.call(e,"type")?e.type:e,p=et.call(e,"namespace")?e.namespace.split("."):[];if(s=h=n=n||pt,3!==n.nodeType&&8!==n.nodeType&&!Lt.test(d+rt.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),a=d.indexOf(":")<0&&"on"+d,e=e[rt.expando]?e:new rt.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:rt.makeArray(i,[e]),u=rt.event.special[d]||{},r||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!r&&!u.noBubble&&!rt.isWindow(n)){for(l=u.delegateType||d,Lt.test(l+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),h=s;h===(n.ownerDocument||pt)&&f.push(h.defaultView||h.parentWindow||t)}for(c=0;(s=f[c++])&&!e.isPropagationStopped();)e.type=c>1?l:u.bindType||d,o=(rt._data(s,"events")||{})[e.type]&&rt._data(s,"handle"),o&&o.apply(s,i),o=a&&s[a],o&&o.apply&&rt.acceptData(s)&&(e.result=o.apply(s,i),e.result===!1&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),i)===!1)&&rt.acceptData(n)&&a&&n[d]&&!rt.isWindow(n)){h=n[a],h&&(n[a]=null),rt.event.triggered=d;try{n[d]()}catch(m){}rt.event.triggered=void 0,h&&(n[a]=h)}return e.result}},dispatch:function(t){t=rt.event.fix(t);var e,i,n,r,o,a=[],s=W.call(arguments),l=(rt._data(this,"events")||{})[t.type]||[],u=rt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=rt.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(n=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((rt.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],o=0;s>o;o++)n=e[o],i=n.selector+" ",void 0===r[i]&&(r[i]=n.needsContext?rt(i,this).index(l)>=0:rt.find(i,this,null,[l]).length),r[i]&&r.push(n);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[rt.expando])return t;var e,i,n,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ct.test(r)?this.mouseHooks:kt.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new rt.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||pt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||pt,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=rt.extend(new rt.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?rt.event.trigger(r,null,e):rt.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},rt.removeEvent=pt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===Tt&&(t[n]=null),t.detachEvent(n,i))},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:d):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==n&&!rt.contains(n,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),it.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=rt.nodeName(e,"input")||rt.nodeName(e,"button")?e.form:void 0;i&&!rt._data(i,"submitBubbles")&&(rt.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),rt._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&rt.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),it.changeBubbles||(rt.event.special.change={setup:function(){return At.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,t,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(t){var e=t.target;At.test(e.nodeName)&&!rt._data(e,"changeBubbles")&&(rt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||rt.event.simulate("change",this.parentNode,t,!0)}),rt._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!At.test(this.nodeName)}}),it.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=rt._data(n,e);r||n.addEventListener(t,i,!0),rt._data(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=rt._data(n,e)-1;r?rt._data(n,e,r):(n.removeEventListener(t,i,!0),rt._removeData(n,e))}}}),rt.fn.extend({on:function(t,e,i,n,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(o in t)this.on(o,e,i,t[o],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=d;else if(!n)return this;return 1===r&&(a=n,n=function(t){return rt().off(t),a.apply(this,arguments)},n.guid=a.guid||(a.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,rt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=d),this.each(function(){rt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?rt.event.trigger(t,e,i,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Nt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),jt=/^\s+/,Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Ut=/<tbody/i,Vt=/<|&#?\w+;/,Xt=/<(?:script|style|link)/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Wt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Zt=m(pt),Jt=Zt.appendChild(pt.createElement("div"));Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td,rt.extend({clone:function(t,e,i){var n,r,o,a,s,l=rt.contains(t.ownerDocument,t);if(it.html5Clone||rt.isXMLDoc(t)||!Nt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Jt.innerHTML=t.outerHTML,Jt.removeChild(o=Jt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(n=_(o),s=_(t),a=0;null!=(r=s[a]);++a)n[a]&&T(r,n[a]);if(e)if(i)for(s=s||_(t),n=n||_(o),a=0;null!=(r=s[a]);a++)w(r,n[a]);else w(t,o);return n=_(o,"script"),n.length>0&&b(n,!l&&_(t,"script")),n=s=r=null,o},buildFragment:function(t,e,i,n){for(var r,o,a,s,l,u,h,c=t.length,f=m(e),d=[],p=0;c>p;p++)if(o=t[p],o||0===o)if("object"===rt.type(o))rt.merge(d,o.nodeType?[o]:o);else if(Vt.test(o)){for(s=s||f.appendChild(e.createElement("div")),l=(qt.exec(o)||["",""])[1].toLowerCase(),h=Wt[l]||Wt._default,s.innerHTML=h[1]+o.replace(Bt,"<$1></$2>")+h[2],r=h[0];r--;)s=s.lastChild;if(!it.leadingWhitespace&&jt.test(o)&&d.push(e.createTextNode(jt.exec(o)[0])),!it.tbody)for(o="table"!==l||Ut.test(o)?"<table>"!==h[1]||Ut.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(rt.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(e.createTextNode(o));for(s&&f.removeChild(s),it.appendChecked||rt.grep(_(d,"input"),v),p=0;o=d[p++];)if((!n||-1===rt.inArray(o,n))&&(a=rt.contains(o.ownerDocument,o),s=_(f.appendChild(o),"script"),a&&b(s),i))for(r=0;o=s[r++];)$t.test(o.type||"")&&i.push(o);return s=null,f},cleanData:function(t,e){for(var i,n,r,o,a=0,s=rt.expando,l=rt.cache,u=it.deleteExpando,h=rt.event.special;null!=(i=t[a]);a++)if((e||rt.acceptData(i))&&(r=i[s],o=r&&l[r])){if(o.events)for(n in o.events)h[n]?rt.event.remove(i,n):rt.removeEvent(i,n,o.handle);l[r]&&(delete l[r],u?delete i[s]:typeof i.removeAttribute!==Tt?i.removeAttribute(s):i[s]=null,G.push(r))}}}),rt.fn.extend({text:function(t){return Pt(this,function(t){return void 0===t?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?rt.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||rt.cleanData(_(i)),i.parentNode&&(e&&rt.contains(i.ownerDocument,i)&&b(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&rt.cleanData(_(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&rt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return Pt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof t||Xt.test(t)||!it.htmlSerialize&&Nt.test(t)||!it.leadingWhitespace&&jt.test(t)||Wt[(qt.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Bt,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(rt.cleanData(_(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(_(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Z.apply([],t);var i,n,r,o,a,s,l=0,u=this.length,h=this,c=u-1,f=t[0],d=rt.isFunction(f);if(d||u>1&&"string"==typeof f&&!it.checkClone&&Ht.test(f))return this.each(function(i){var n=h.eq(i);d&&(t[0]=f.call(this,i,n.html())),n.domManip(t,e)});if(u&&(s=rt.buildFragment(t,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(o=rt.map(_(s,"script"),y),r=o.length;u>l;l++)n=s,l!==c&&(n=rt.clone(n,!0,!0),r&&rt.merge(o,_(n,"script"))),e.call(this[l],n,l);if(r)for(a=o[o.length-1].ownerDocument,rt.map(o,x),l=0;r>l;l++)n=o[l],$t.test(n.type||"")&&!rt._data(n,"globalEval")&&rt.contains(a,n)&&(n.src?rt._evalUrl&&rt._evalUrl(n.src):rt.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Gt,"")));s=i=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var i,n=0,r=[],o=rt(t),a=o.length-1;a>=n;n++)i=n===a?this:this.clone(!0),rt(o[n])[e](i),J.apply(r,i.get());return this.pushStack(r)}});var Kt,Qt={};!function(){var t;it.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=pt.getElementsByTagName("body")[0],i&&i.style?(e=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Tt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(pt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var te,ee,ie=/^margin/,ne=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),re=/^(top|right|bottom|left)$/;t.getComputedStyle?(te=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},ee=function(t,e,i){var n,r,o,a,s=t.style;return i=i||te(t),a=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==a||rt.contains(t.ownerDocument,t)||(a=rt.style(t,e)),ne.test(a)&&ie.test(e)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):pt.documentElement.currentStyle&&(te=function(t){return t.currentStyle},ee=function(t,e,i){var n,r,o,a,s=t.style;return i=i||te(t),a=i?i[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),ne.test(a)&&!re.test(e)&&(n=s.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),!function(){function e(){var e,i,n,r;i=pt.getElementsByTagName("body")[0],i&&i.style&&(e=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(pt.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),
i.removeChild(n))}var i,n,r,o,a,s,l;i=pt.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=i.getElementsByTagName("a")[0],(n=r&&r.style)&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,rt.extend(it,{reliableHiddenOffsets:function(){return null==s&&e(),s},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),rt.swap=function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=a[o];return r};var oe=/alpha\([^)]*\)/i,ae=/opacity\s*=\s*([^)]*)/,se=/^(none|table(?!-c[ea]).+)/,le=new RegExp("^("+Et+")(.*)$","i"),ue=new RegExp("^([+-])=("+Et+")","i"),he={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},fe=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ee(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=rt.camelCase(e),l=t.style;if(e=rt.cssProps[s]||(rt.cssProps[s]=D(l,s)),a=rt.cssHooks[e]||rt.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:l[e];if(o=typeof i,"string"===o&&(r=ue.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(rt.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||rt.cssNumber[s]||(i+="px"),it.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(t,i,n)))))try{l[e]=i}catch(u){}}},css:function(t,e,i,n){var r,o,a,s=rt.camelCase(e);return e=rt.cssProps[s]||(rt.cssProps[s]=D(t.style,s)),a=rt.cssHooks[e]||rt.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=ee(t,e,n)),"normal"===o&&e in ce&&(o=ce[e]),""===i||i?(r=parseFloat(o),i===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,i,n){return i?se.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,he,function(){return A(t,e,n)}):A(t,e,n):void 0},set:function(t,i,n){var r=n&&te(t);return P(t,i,n?z(t,e,n,it.boxSizing&&"border-box"===rt.css(t,"boxSizing",!1,r),r):0)}}}),it.opacity||(rt.cssHooks.opacity={get:function(t,e){return ae.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=rt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===rt.trim(o.replace(oe,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=oe.test(o)?o.replace(oe,r):o+" "+r)}}),rt.cssHooks.marginRight=E(it.reliableMarginRight,function(t,e){return e?rt.swap(t,{display:"inline-block"},ee,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+Dt[n]+e]=o[n]||o[n-2]||o[0];return r}},ie.test(t)||(rt.cssHooks[t+e].set=P)}),rt.fn.extend({css:function(t,e){return Pt(this,function(t,e,i){var n,r,o={},a=0;if(rt.isArray(e)){for(n=te(t),r=e.length;r>a;a++)o[e[a]]=rt.css(t,e[a],!1,n);return o}return void 0!==i?rt.style(t,e,i):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){It(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=k,k.prototype={constructor:k,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(rt.cssNumber[i]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,i=k.propHooks[this.prop];return this.pos=e=this.options.duration?rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=k.prototype.init,rt.fx.step={};var de,pe,me=/^(?:toggle|show|hide)$/,_e=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),ve=/queueHooks$/,ge=[F],ye={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=_e.exec(e),o=r&&r[3]||(rt.cssNumber[t]?"":"px"),a=(rt.cssNumber[t]||"px"!==o&&+n)&&_e.exec(rt.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+n||1;do s=s||".5",a/=s,rt.style(i.elem,t,a+o);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(a=i.start=+a||+n||0,i.unit=o,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};rt.Animation=rt.extend(N,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],ye[i]=ye[i]||[],ye[i].unshift(e)},prefilter:function(t,e){e?ge.unshift(t):ge.push(t)}}),rt.speed=function(t,e,i){var n=t&&"object"==typeof t?rt.extend({},t):{complete:i||!i&&e||rt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!rt.isFunction(e)&&e};return n.duration=rt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in rt.fx.speeds?rt.fx.speeds[n.duration]:rt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){rt.isFunction(n.old)&&n.old.call(this),n.queue&&rt.dequeue(this,n.queue)},n},rt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(It).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=rt.isEmptyObject(t),o=rt.speed(e,i,n),a=function(){var e=N(this,rt.extend({},t),o);(r||rt._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=rt.timers,a=rt._data(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&ve.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));(e||!i)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=rt._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=rt.timers,a=n?n.length:0;for(i.finish=!0,rt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var i=rt.fn[e];rt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(L(e,!0),t,n,r)}}),rt.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),rt.timers=[],rt.fx.tick=function(){var t,e=rt.timers,i=0;for(de=rt.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||rt.fx.stop(),de=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){pe||(pe=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(pe),pe=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,r;e=pt.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=pt.createElement("select"),r=i.appendChild(pt.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==e.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=r.selected,it.enctype=!!pt.createElement("form").enctype,i.disabled=!0,it.optDisabled=!r.disabled,t=pt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value}();var xe=/\r/g;rt.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=rt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,rt(this).val()):t,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(xe,""):null==i?"":i)):void 0}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:n.length,l=0>r?s:o?r:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==r||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&rt.nodeName(i.parentNode,"optgroup"))){if(e=rt(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=rt.makeArray(e),a=r.length;a--;)if(n=r[a],rt.inArray(rt.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(s){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>=0:void 0}},it.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var be,we,Te=rt.expr.attrHandle,Se=/^(?:checked|selected)$/i,Me=it.getSetAttribute,Ee=it.input;rt.fn.extend({attr:function(t,e){return Pt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;return t&&3!==o&&8!==o&&2!==o?typeof t.getAttribute===Tt?rt.prop(t,e,i):(1===o&&rt.isXMLDoc(t)||(e=e.toLowerCase(),n=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?we:be)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:(r=rt.find.attr(t,e),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void rt.removeAttr(t,e)):void 0},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(yt);if(o&&1===t.nodeType)for(;i=o[r++];)n=rt.propFix[i]||i,rt.expr.match.bool.test(i)?Ee&&Me||!Se.test(i)?t[n]=!1:t[rt.camelCase("default-"+i)]=t[n]=!1:rt.attr(t,i,""),t.removeAttribute(Me?i:n)},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),we={set:function(t,e,i){return e===!1?rt.removeAttr(t,i):Ee&&Me||!Se.test(i)?t.setAttribute(!Me&&rt.propFix[i]||i,i):t[rt.camelCase("default-"+i)]=t[i]=!0,i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Te[e]||rt.find.attr;Te[e]=Ee&&Me||!Se.test(e)?function(t,e,n){var r,o;return n||(o=Te[e],Te[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,Te[e]=o),r}:function(t,e,i){return i?void 0:t[rt.camelCase("default-"+e)]?e.toLowerCase():null}}),Ee&&Me||(rt.attrHooks.value={set:function(t,e,i){return rt.nodeName(t,"input")?void(t.defaultValue=e):be&&be.set(t,e,i)}}),Me||(be={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Te.id=Te.name=Te.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},rt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:be.set},rt.attrHooks.contenteditable={set:function(t,e,i){be.set(t,""===e?!1:e,i)}},rt.each(["width","height"],function(t,e){rt.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),it.style||(rt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var De=/^(?:input|select|textarea|button|object)$/i,Ie=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return Pt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=rt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,r,o,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(o=1!==a||!rt.isXMLDoc(t),o&&(e=rt.propFix[e]||e,r=rt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):De.test(t.nodeName)||Ie.test(t.nodeName)&&t.href?0:-1}}}}),it.hrefNormalized||rt.each(["href","src"],function(t,e){rt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),it.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),it.enctype||(rt.propFix.enctype="encoding");var Pe=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,i,n,r,o,a,s=0,l=this.length,u="string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(yt)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=rt.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,r,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(yt)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");a=t?rt.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(rt.isFunction(t)?function(i){rt(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,r=rt(this),o=t.match(yt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(i===Tt||"boolean"===i)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||t===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Pe," ").indexOf(e)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ze=rt.now(),Ae=/\?/,ke=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,r=rt.trim(e+"");return r&&!rt.trim(r.replace(ke,function(t,e,r,o){return i&&e&&(n=0),0===n?t:(i=r||e,n+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+e)},rt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),i};var Ce,Le,Re=/#.*$/,Fe=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,je=/^(?:GET|HEAD)$/,Be=/^\/\//,qe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ue={},Ve={},Xe="*/".concat("*");try{Le=location.href}catch(He){Le=pt.createElement("a"),Le.href="",Le=Le.href}Ce=qe.exec(Le.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Le,type:"GET",isLocal:Ne.test(Ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,rt.ajaxSettings),e):q(rt.ajaxSettings,t)},ajaxPrefilter:j(Ue),ajaxTransport:j(Ve),ajax:function(t,e){function i(t,e,i,n){var r,h,v,g,x,w=e;2!==y&&(y=2,s&&clearTimeout(s),u=void 0,a=n||"",b.readyState=t>0?4:0,r=t>=200&&300>t||304===t,i&&(g=U(c,b,i)),g=V(c,g,b,r),r?(c.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(rt.lastModified[o]=x),x=b.getResponseHeader("etag"),x&&(rt.etag[o]=x)),204===t||"HEAD"===c.type?w="nocontent":304===t?w="notmodified":(w=g.state,h=g.data,v=g.error,r=!v)):(v=w,(t||!w)&&(w="error",0>t&&(t=0))),b.status=t,b.statusText=(e||w)+"",r?p.resolveWith(f,[h,w,b]):p.rejectWith(f,[b,w,v]),b.statusCode(_),_=void 0,l&&d.trigger(r?"ajaxSuccess":"ajaxError",[b,c,r?h:v]),m.fireWith(f,[b,w]),l&&(d.trigger("ajaxComplete",[b,c]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,a,s,l,u,h,c=rt.ajaxSetup({},e),f=c.context||c,d=c.context&&(f.nodeType||f.jquery)?rt(f):rt.event,p=rt.Deferred(),m=rt.Callbacks("once memory"),_=c.statusCode||{},v={},g={},y=0,x="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!h)for(h={};e=Oe.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=g[i]=g[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)_[e]=[_[e],t[e]];else b.always(t[b.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),i(0,e),this}};if(p.promise(b).complete=m.add,b.success=b.done,b.error=b.fail,c.url=((t||c.url||Le)+"").replace(Re,"").replace(Be,Ce[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=rt.trim(c.dataType||"*").toLowerCase().match(yt)||[""],null==c.crossDomain&&(n=qe.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===Ce[1]&&n[2]===Ce[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ce[3]||("http:"===Ce[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=rt.param(c.data,c.traditional)),B(Ue,c,e,b),2===y)return b;l=c.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!je.test(c.type),o=c.url,c.hasContent||(c.data&&(o=c.url+=(Ae.test(o)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Fe.test(o)?o.replace(Fe,"$1_="+ze++):o+(Ae.test(o)?"&":"?")+"_="+ze++)),c.ifModified&&(rt.lastModified[o]&&b.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&b.setRequestHeader("If-None-Match",rt.etag[o])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&b.setRequestHeader("Content-Type",c.contentType),b.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Xe+"; q=0.01":""):c.accepts["*"]);for(r in c.headers)b.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(c.beforeSend.call(f,b,c)===!1||2===y))return b.abort();x="abort";for(r in{success:1,error:1,complete:1})b[r](c[r]);if(u=B(Ve,c,e,b)){b.readyState=1,l&&d.trigger("ajaxSend",[b,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},c.timeout));try{y=1,u.send(v,i)}catch(w){if(!(2>y))throw w;i(-1,w)}}else i(-1,"No Transport");return b},getJSON:function(t,e,i){return rt.get(t,e,i,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,i,n,r){return rt.isFunction(i)&&(r=r||n,n=i,i=void 0),rt.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){if(rt.isFunction(t))return this.each(function(e){rt(this).wrapAll(t.call(this,e))});if(this[0]){var e=rt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(rt.isFunction(t)?function(e){rt(this).wrapInner(t.call(this,e))}:function(){var e=rt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(i){rt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||rt.css(t,"display"))},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var $e=/%20/g,Ye=/\[\]$/,Ge=/\r?\n/g,We=/^(?:submit|button|image|reset|file)$/i,Ze=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var i,n=[],r=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){r(this.name,this.value)});else for(i in t)X(i,t[i],e,r);return n.join("&").replace($e,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Ze.test(this.nodeName)&&!We.test(t)&&(this.checked||!zt.test(t))}).map(function(t,e){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(t){return{name:e.name,value:t.replace(Ge,"\r\n")}}):{name:e.name,value:i.replace(Ge,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&H()||$()}:H;var Je=0,Ke={},Qe=rt.ajaxSettings.xhr();t.ActiveXObject&&rt(t).on("unload",function(){for(var t in Ke)Ke[t](void 0,!0)}),it.cors=!!Qe&&"withCredentials"in Qe,Qe=it.ajax=!!Qe,Qe&&rt.ajaxTransport(function(t){if(!t.crossDomain||it.cors){var e;return{send:function(i,n){var r,o=t.xhr(),a=++Je;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&o.setRequestHeader(r,i[r]+"");o.send(t.hasContent&&t.data||null),e=function(i,r){var s,l,u;if(e&&(r||4===o.readyState))if(delete Ke[a],e=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(h){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&n(s,l,u,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Ke[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=pt.head||rt("head")[0]||pt.documentElement;return{send:function(n,r){e=pt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ti=[],ei=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ti.pop()||rt.expando+"_"+ze++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,a,s=e.jsonp!==!1&&(ei.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ei.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ei,"$1"+r):e.jsonp!==!1&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||rt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},n.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,ti.push(r)),a&&rt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),rt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||pt;var n=ct.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=rt.buildFragment([t],e,r),r&&r.length&&rt(r).remove(),rt.merge([],n.childNodes))};var ii=rt.fn.load;rt.fn.load=function(t,e,i){if("string"!=typeof t&&ii)return ii.apply(this,arguments);var n,r,o,a=this,s=t.indexOf(" ");return s>=0&&(n=rt.trim(t.slice(s,t.length)),t=t.slice(0,s)),rt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&rt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?rt("<div>").append(rt.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,r||[t.responseText,e,t])}),this},rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var ni=t.document.documentElement;rt.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,u,h=rt.css(t,"position"),c=rt(t),f={};"static"===h&&(t.style.position="relative"),s=c.offset(),o=rt.css(t,"top"),l=rt.css(t,"left"),u=("absolute"===h||"fixed"===h)&&rt.inArray("auto",[o,l])>-1,u?(n=c.position(),a=n.top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):c.css(f)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==Tt&&(n=r.getBoundingClientRect()),i=Y(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===rt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(i=t.offset()),i.top+=rt.css(t[0],"borderTopWidth",!0),i.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-rt.css(n,"marginTop",!0),left:e.left-i.left-rt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ni;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||ni})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);rt.fn[t]=function(n){return Pt(this,function(t,n,r){var o=Y(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[n]:t[n]:void(o?o.scrollTo(i?rt(o).scrollLeft():r,i?r:rt(o).scrollTop()):t[n]=r)},t,n,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=E(it.pixelPosition,function(t,i){return i?(i=ee(t,e),ne.test(i)?rt(t).position()[e]+"px":i):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){rt.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||r===!0?"margin":"border");return Pt(this,function(e,i,n){var r;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?rt.css(e,i,a):rt.style(e,i,n,a)},e,o?n:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var ri=t.jQuery,oi=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=oi),e&&t.jQuery===rt&&(t.jQuery=ri),rt},typeof e===Tt&&(t.jQuery=t.$=rt),rt}),jQuery.fn.shuffle=function(){for(var t,e=0;e<this.length;e++)t=Math.floor(Math.random()*this.length),$(this[e]).before($(this[t]));return this},/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function(t,e){var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,r,o){function a(){function n(){l=+new Date,r.apply(u,c)}function a(){s=e}var u=this,h=+new Date-l,c=arguments;o&&!s&&n(),s&&clearTimeout(s),o===e&&h>t?n():i!==!0&&(s=setTimeout(o?a:n,o===e?t-h:t))}var s,l=0;return"boolean"!=typeof i&&(o=r,r=i,i=e),n.guid&&(a.guid=r.guid=r.guid||n.guid++),a},n.debounce=function(t,n,r){return r===e?i(t,n,!1):i(t,r,n!==!1)}}(this),function(t,e,i,n){"use strict";function r(e,i){this.element=e;var n={};t.each(t(this.element).data(),function(t,e){var i=function(t){return t&&t[0].toLowerCase()+t.slice(1)},r=i(t.replace("fluidbox",""));(""!==r||null!==r)&&(e="false"==e?!1:!0,n[r]=e)}),this.settings=t.extend({},s,i,n),this.settings.viewportFill=Math.max(Math.min(parseFloat(this.settings.viewportFill),1),0),this.settings.stackIndex<this.settings.stackIndexDelta&&(settings.stackIndexDelta=settings.stackIndex),this._name=a,this.init()}var o=t(e),a=(t(i),"fluidbox"),s={immediateOpen:!1,loader:!1,maxWidth:0,maxHeight:0,resizeThrottle:500,stackIndex:1e3,stackIndexDelta:10,viewportFill:.95},l={},u=0;("undefined"==typeof console||"undefined"===console.warn)&&(console={},console.warn=function(){}),t.isFunction(t.throttle)||console.warn("Fluidbox: The jQuery debounce/throttle plugin is not found/loaded. Even though Fluidbox works without it, the window resize event will fire extremely rapidly in browsers, resulting in significant degradation in performance upon viewport resize.");var h=function(){var t,e=i.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(e.style[t]!==n)return r[t]},c=h(),f={dom:function(){var e=t("<div />",{"class":"fluidbox__wrap",css:{zIndex:this.settings.stackIndex-this.settings.stackIndexDelta}});if(t(this.element).addClass("fluidbox--closed").wrapInner(e).find("img").first().addClass("fluidbox__thumb").after('<div class="fluidbox__ghost" />'),this.settings.loader){var i=t("<div />",{"class":"fluidbox__loader",css:{zIndex:2}});t(this.element).find(".fluidbox__wrap").append(i)}},prepareFb:function(){var e=this,i=t(this.element);i.trigger("thumbloaddone.fluidbox"),f.measure.fbElements.call(this),e.bindEvents(),i.addClass("fluidbox--ready"),e.bindListeners(),i.trigger("ready.fluidbox")},measure:{viewport:function(){l.viewport={w:o.width(),h:o.height()}},fbElements:function(){var e=this,i=t(this.element),n=i.find("img").first(),r=i.find(".fluidbox__ghost"),o=i.find(".fluidbox__wrap");e.instanceData.thumb={natW:n[0].naturalWidth,natH:n[0].naturalHeight,w:n.width(),h:n.height()},r.css({width:n.width(),height:n.height(),top:n.offset().top-o.offset().top+parseInt(n.css("borderTopWidth"))+parseInt(n.css("paddingTop")),left:n.offset().left-o.offset().left+parseInt(n.css("borderLeftWidth"))+parseInt(n.css("paddingLeft"))})}},checkURL:function(t){var e=0;return/[\s+]/g.test(t)?(console.warn("Fluidbox: Fluidbox opening is halted because it has detected characters in your URL string that need to be properly encoded/escaped. Whitespace(s) have to be escaped manually. See RFC3986 documentation."),e=1):/[\"\'\(\)]/g.test(t)&&(console.warn("Fluidbox: Fluidbox opening will proceed, but it has detected characters in your URL string that need to be properly encoded/escaped. These will be escaped for you. See RFC3986 documentation."),e=0),e},formatURL:function(t){return t.replace(/"/g,"%22").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}};t.extend(r.prototype,{init:function(){var e=this,i=t(this.element),n=i.find("img").first();if(f.measure.viewport(),(!e.instanceData||!e.instanceData.initialized)&&i.is("a")&&1===i.children().length&&(i.children().is("img")||i.children().is("picture")&&1===i.find("img").length)&&"none"!==i.css("display")&&"none"!==i.children().css("display")&&"none"!==i.parents().css("display")){i.removeClass("fluidbox--destroyed"),e.instanceData={},e.instanceData.initialized=!0,e.instanceData.originalNode=i.html(),u+=1,e.instanceData.id=u,i.addClass("fluidbox__instance-"+u),i.addClass("fluidbox--initialized"),f.dom.call(e),i.trigger("init.fluidbox");var r=new Image;n.width()>0&&n.height()>0?f.prepareFb.call(e):(r.onload=function(){f.prepareFb.call(e)},r.onerror=function(){i.trigger("thumbloadfail.fluidbox")},r.src=n.attr("src"))}},open:function(){var e=this,i=t(this.element),n=i.find("img").first(),r=i.find(".fluidbox__ghost"),o=i.find(".fluidbox__wrap");e.instanceData.state=1,r.off(c),t(".fluidbox--opened").fluidbox("close");var a=t("<div />",{"class":"fluidbox__overlay",css:{zIndex:-1}});if(o.append(a),i.removeClass("fluidbox--closed").addClass("fluidbox--loading"),f.checkURL(n.attr("src")))return e.close(),!1;r.css({"background-image":"url("+f.formatURL(n.attr("src"))+")",opacity:1}),f.measure.fbElements.call(e);var s;e.settings.immediateOpen?(i.addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:e.settings.stackIndex+e.settings.stackIndexDelta}),i.trigger("openstart.fluidbox"),e.compute(),n.css({opacity:0}),t(".fluidbox__overlay").css({opacity:1}),r.one(c,function(){i.trigger("openend.fluidbox")}),s=new Image,s.onload=function(){if(1===e.instanceData.state){if(e.instanceData.thumb.natW=s.naturalWidth,e.instanceData.thumb.natH=s.naturalHeight,i.removeClass("fluidbox--loading"),f.checkURL(s.src))return e.close(),!1;r.css({"background-image":"url("+f.formatURL(s.src)+")"}),e.compute()}},s.onerror=function(){e.close(),i.trigger("imageloadfail.fluidbox"),i.trigger("delayedloadfail.fluidbox")},s.src=i.attr("href")):(s=new Image,s.onload=function(){return i.removeClass("fluidbox--loading").addClass("fluidbox--opened fluidbox--loaded").find(".fluidbox__wrap").css({zIndex:e.settings.stackIndex+e.settings.stackIndexDelta}),i.trigger("openstart.fluidbox"),f.checkURL(s.src)?(e.close(),!1):(r.css({"background-image":"url("+f.formatURL(s.src)+")"}),e.instanceData.thumb.natW=s.naturalWidth,e.instanceData.thumb.natH=s.naturalHeight,e.compute(),n.css({opacity:0}),t(".fluidbox__overlay").css({opacity:1}),void r.one(c,function(){i.trigger("openend.fluidbox")}))},s.onerror=function(){e.close(),i.trigger("imageloadfail.fluidbox")},s.src=i.attr("href"))},compute:function(){var e=this,i=t(this.element),n=i.find("img").first(),r=i.find(".fluidbox__ghost"),a=i.find(".fluidbox__wrap"),s=e.instanceData.thumb.natW,u=e.instanceData.thumb.natH,h=e.instanceData.thumb.w,c=e.instanceData.thumb.h,f=s/u,d=l.viewport.w/l.viewport.h;e.settings.maxWidth>0?(s=e.settings.maxWidth,u=s/f):e.settings.maxHeight>0&&(u=e.settings.maxHeight,s=u*f);var p,m,_,v,g;d>f?(p=u<l.viewport.h?u:l.viewport.h*e.settings.viewportFill,_=p/c,v=s*(c*_/u)/h,g=_):(m=s<l.viewport.w?s:l.viewport.w*e.settings.viewportFill,v=m/h,_=u*(h*v/s)/c,g=v),e.settings.maxWidth&&e.settings.maxHeight&&console.warn("Fluidbox: Both maxHeight and maxWidth are specified. You can only specify one. If both are specified, only the maxWidth property will be respected. This will not generate any error, but may cause unexpected sizing behavior.");var y=o.scrollTop()-n.offset().top+.5*(c*(g-1))+.5*(o.height()-c*g),x=.5*(h*(g-1))+.5*(o.width()-h*g)-n.offset().left,b=parseInt(100*v)/100+","+parseInt(100*_)/100;r.css({transform:"translate("+parseInt(100*x)/100+"px,"+parseInt(100*y)/100+"px) scale("+b+")",top:n.offset().top-a.offset().top,left:n.offset().left-a.offset().left}),i.find(".fluidbox__loader").css({transform:"translate("+parseInt(100*x)/100+"px,"+parseInt(100*y)/100+"px) scale("+b+")"}),i.trigger("computeend.fluidbox")},recompute:function(){this.compute()},close:function(){var e=this,i=t(this.element),r=i.find("img").first(),o=i.find(".fluidbox__ghost"),a=i.find(".fluidbox__wrap"),s=i.find(".fluidbox__overlay");return null===e.instanceData.state||typeof e.instanceData.state==typeof n||0===e.instanceData.state?!1:(console.log("close!"),e.instanceData.state=0,i.trigger("closestart.fluidbox"),i.removeClass(function(t,e){return(e.match(/(^|\s)fluidbox--(opened|loaded|loading)+/g)||[]).join(" ")}).addClass("fluidbox--closed"),o.css({transform:"translate(0,0) scale(1,1)",top:r.offset().top-a.offset().top+parseInt(r.css("borderTopWidth"))+parseInt(r.css("paddingTop")),left:r.offset().left-a.offset().left+parseInt(r.css("borderLeftWidth"))+parseInt(r.css("paddingLeft"))}),i.find(".fluidbox__loader").css({transform:"none"}),o.one(c,function(){o.css({opacity:0}),r.css({opacity:1}),s.remove(),a.css({zIndex:e.settings.stackIndex-e.settings.stackIndexDelta}),i.trigger("closeend.fluidbox")}),void s.css({opacity:0}))},bindEvents:function(){var e=this,i=t(this.element);i.on("click.fluidbox",function(t){t.preventDefault(),e.instanceData.state&&0!==e.instanceData.state?e.close():e.open()})},bindListeners:function(){var e=this,i=t(this.element),n=function(){f.measure.viewport(),f.measure.fbElements.call(e),i.hasClass("fluidbox--opened")&&e.compute()};t.isFunction(t.throttle)?o.on("resize.fluidbox"+e.instanceData.id,t.throttle(e.settings.resizeThrottle,n)):o.on("resize.fluidbox"+e.instanceData.id,n),i.on("reposition.fluidbox",function(){e.reposition()}),i.on("recompute.fluidbox, compute.fluidbox",function(){e.compute()}),i.on("destroy.fluidbox",function(){e.destroy()}),i.on("close.fluidbox",function(){e.close()})},unbind:function(){t(this.element).off("click.fluidbox reposition.fluidbox recompute.fluidbox compute.fluidbox destroy.fluidbox close.fluidbox"),o.off("resize.fluidbox"+this.instanceData.id)},reposition:function(){f.measure.fbElements.call(this)},destroy:function(){var e=this.instanceData.originalNode;this.unbind(),t.data(this.element,"plugin_"+a,null),t(this.element).removeClass(function(t,e){return(e.match(/(^|\s)fluidbox[--|__]\S+/g)||[]).join(" ")}).empty().html(e).addClass("fluidbox--destroyed").trigger("destroyed.fluidbox")},getMetadata:function(){return this.instanceData}}),t.fn[a]=function(e){var i=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new r(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var o;return this.each(function(){var n=t.data(this,"plugin_"+a);n instanceof r&&"function"==typeof n[e]?o=n[e].apply(n,Array.prototype.slice.call(i,1)):console.warn('Fluidbox: The method "'+e+'" used is not defined in Fluidbox. Please make sure you are calling the correct public method.')}),o!==n?o:this}return this}}(jQuery,window,document),function(t){t.fn.unveil=function(e,i){function n(){var e=u.filter(function(){var e=t(this);if(!e.is(":hidden")){var i=o.scrollTop(),n=i+o.height(),r=e.offset().top,s=r+e.height();return s>=i-a&&n+a>=r}});r=e.trigger("unveil"),u=u.not(r)}var r,o=t(window),a=e||0,s=window.devicePixelRatio>1,l=s?"data-src-retina":"data-src",u=this;return this.one("unveil",function(){var t=this.getAttribute(l);t=t||this.getAttribute("data-src"),t&&(this.setAttribute("src",t),"function"==typeof i&&i.call(this))}),o.on("scroll.unveil resize.unveil lookup.unveil",n),n(),this}}(window.jQuery||window.Zepto),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.mapboxgl=t()}}(function(){var t;return function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){var i=t[a][1][e];return r(i?i:e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){"use strict";function n(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layer=c.create(t.layer),this.layer.recalculate(this.zoom,{lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0}),this.layers=[this.layer.id],this.type=this.layer.type,this.features=[],this.id=this.layer.id,this["source-layer"]=this.layer["source-layer"],this.interactive=this.layer.interactive,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.filter=l(this.layer.filter),this.resetBuffers(t.buffers);for(var e in this.shaderInterfaces){var i=this.shaderInterfaces[e];this[this.getAddMethodName(e,"vertex")]=r(e,i,this.getBufferName(e,"vertex"))}}function r(t,e,i){for(var n=[],r=0;r<e.attributes.length;r++)n=n.concat(e.attributes[r].value);var o="return this.buffers."+i+".push("+n.join(", ")+");";return f[o]||(f[o]=new Function(e.attributeArgs,o)),f[o]}function o(t){return function(e,i,n){return t.push(e,i,n)}}function a(t){return new h({type:h.BufferType.ELEMENT,attributes:[{name:"vertices",components:t||3,type:h.ELEMENT_ATTRIBUTE_TYPE}]})}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}var l=t("feature-filter"),u=t("./element_groups"),h=t("./buffer"),c=t("../style/style_layer");e.exports=n,n.create=function(e){var i={fill:t("./bucket/fill_bucket"),line:t("./bucket/line_bucket"),circle:t("./bucket/circle_bucket"),symbol:t("./bucket/symbol_bucket")};return new i[e.layer.type](e)},n.AttributeType=h.AttributeType,n.prototype.addFeatures=function(){for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t])},n.prototype.makeRoomFor=function(t,e){return this.elementGroups[t].makeRoomFor(e)},n.prototype.resetBuffers=function(t){this.buffers=t,this.elementGroups={};for(var e in this.shaderInterfaces){var i=this.shaderInterfaces[e],n=this.getBufferName(e,"vertex");if(i.vertexBuffer&&!t[n]&&(t[n]=new h({type:h.BufferType.VERTEX,attributes:i.attributes})),i.elementBuffer){var r=this.getBufferName(e,"element");t[r]||(t[r]=a(i.elementBufferComponents)),this[this.getAddMethodName(e,"element")]=o(this.buffers[r])}if(i.secondElementBuffer){var s=this.getBufferName(e,"secondElement");t[s]||(t[s]=a(i.secondElementBufferComponents)),this[this.getAddMethodName(e,"secondElement")]=o(this.buffers[s])}this.elementGroups[e]=new u(t[this.getBufferName(e,"vertex")],t[this.getBufferName(e,"element")],t[this.getBufferName(e,"secondElement")])}},n.prototype.getAddMethodName=function(t,e){return"add"+s(t)+s(e)},n.prototype.getBufferName=function(t,e){return t+s(e)};var f={}},{"../style/style_layer":47,"./bucket/circle_bucket":2,"./bucket/fill_bucket":3,"./bucket/line_bucket":4,"./bucket/symbol_bucket":5,"./buffer":6,"./element_groups":7,"feature-filter":106}],2:[function(t,e,i){"use strict";function n(){r.apply(this,arguments)}var r=t("../bucket"),o=t("../../util/util"),a=t("../load_geometry"),s=t("../buffer").EXTENT;e.exports=n,n.prototype=o.inherit(r,{}),n.prototype.shaderInterfaces={circle:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:["x","y","extrudeX","extrudeY"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["(x * 2) + ((extrudeX + 1) / 2)","(y * 2) + ((extrudeY + 1) / 2)"]}]}},n.prototype.addFeature=function(t){for(var e=a(t),i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++){var o=this.makeRoomFor("circle",4),l=n[r].x,u=n[r].y;if(!(0>l||l>=s||0>u||u>=s)){var h=this.addCircleVertex(l,u,-1,-1)-o.vertexStartIndex;this.addCircleVertex(l,u,1,-1),this.addCircleVertex(l,u,1,1),this.addCircleVertex(l,u,-1,1),o.vertexLength+=4,this.addCircleElement(h,h+1,h+2),this.addCircleElement(h,h+3,h+2),o.elementLength+=2}}}},{"../../util/util":99,"../bucket":1,"../buffer":6,"../load_geometry":9}],3:[function(t,e,i){"use strict";function n(){r.apply(this,arguments)}var r=t("../bucket"),o=t("../../util/util"),a=t("../load_geometry");e.exports=n,n.prototype=o.inherit(r,{}),n.prototype.shaderInterfaces={fill:{vertexBuffer:!0,elementBuffer:!0,secondElementBuffer:!0,secondElementBufferComponents:2,attributeArgs:["x","y"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["x","y"]}]}},n.prototype.addFeature=function(t){for(var e=a(t),i=0;i<e.length;i++)this.addFill(e[i])},n.prototype.addFill=function(t){if(!(t.length<3))for(var e,i,n=t.length,r=this.makeRoomFor("fill",n+1),o=0;o<t.length;o++){var a=t[o],s=this.addFillVertex(a.x,a.y)-r.vertexStartIndex;r.vertexLength++,0===o&&(e=s),o>=2&&(a.x!==t[0].x||a.y!==t[0].y)&&(this.addFillElement(e,i,s),r.elementLength++),o>=1&&(this.addFillSecondElement(i,s),r.secondElementLength++),i=s}}},{"../../util/util":99,"../bucket":1,"../load_geometry":9}],4:[function(t,e,i){"use strict";function n(){r.apply(this,arguments)}var r=t("../bucket"),o=t("../../util/util"),a=t("../load_geometry"),s=t("../buffer").EXTENT,l=63,u=Math.cos(37.5*(Math.PI/180)),h=15,c=14,f=.5,d=Math.pow(2,c)/f;e.exports=n,n.prototype=o.inherit(r,{}),n.prototype.shaderInterfaces={line:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:["point","extrude","tx","ty","dir","linesofar"],attributes:[{name:"pos",components:2,type:r.AttributeType.SHORT,value:["(point.x << 1) | tx","(point.y << 1) | ty"]},{name:"data",components:4,type:r.AttributeType.UNSIGNED_BYTE,value:["Math.round("+l+" * extrude.x) + 128","Math.round("+l+" * extrude.y) + 128","((dir === 0 ? 0 : (dir < 0 ? -1 : 1)) + 1) | (((linesofar * "+f+") & 0x3F) << 2)","(linesofar * "+f+") >> 6"]}]}},n.prototype.addFeature=function(t){for(var e=a(t),i=0;i<e.length;i++)this.addLine(e[i],this.layer.layout["line-join"],this.layer.layout["line-cap"],this.layer.layout["line-miter-limit"],this.layer.layout["line-round-limit"])},n.prototype.addLine=function(t,e,i,n,r){for(var o=t.length;o>2&&t[o-1].equals(t[o-2]);)o--;if(!(t.length<2)){"bevel"===e&&(n=1.05);var a=h*(s/(512*this.overscaling)),l=t[0],c=t[o-1],f=l.equals(c);if(this.makeRoomFor("line",10*o),2!==o||!f){this.distance=0;var d,p,m,_,v,g,y,x=i,b=f?"butt":i,w=!0;this.e1=this.e2=this.e3=-1,f&&(d=t[o-2],v=l.sub(d)._unit()._perp());for(var T=0;o>T;T++)if(m=f&&T===o-1?t[1]:t[T+1],!m||!t[T].equals(m)){v&&(_=v),d&&(p=d),d=t[T],v=m?m.sub(d)._unit()._perp():_,_=_||v;var S=_.add(v)._unit(),M=S.x*v.x+S.y*v.y,E=1/M,D=u>M&&p&&m;if(D&&T>0){var I=d.dist(p);if(I>2*a){var P=d.sub(d.sub(p)._mult(a/I)._round());this.distance+=P.dist(p),this.addCurrentVertex(P,this.distance,_.mult(1),0,0,!1),p=P}}var z=p&&m,A=z?e:m?x:b;if(z&&"round"===A&&(r>E?A="miter":2>=E&&(A="fakeround")),"miter"===A&&E>n&&(A="bevel"),"bevel"===A&&(E>2&&(A="flipbevel"),n>E&&(A="miter")),p&&(this.distance+=d.dist(p)),"miter"===A)S._mult(E),this.addCurrentVertex(d,this.distance,S,0,0,!1);else if("flipbevel"===A){if(E>100)S=v.clone();else{var k=_.x*v.y-_.y*v.x>0?-1:1,C=E*_.add(v).mag()/_.sub(v).mag();S._perp()._mult(C*k)}this.addCurrentVertex(d,this.distance,S,0,0,!1),this.addCurrentVertex(d,this.distance,S.mult(-1),0,0,!1)}else if("bevel"===A||"fakeround"===A){var L=_.x*v.y-_.y*v.x>0,R=-Math.sqrt(E*E-1);if(L?(y=0,g=R):(g=0,y=R),w||this.addCurrentVertex(d,this.distance,_,g,y,!1),"fakeround"===A){for(var F,O=Math.floor(8*(.5-(M-.5))),N=0;O>N;N++)F=v.mult((N+1)/(O+1))._add(_)._unit(),this.addPieSliceVertex(d,this.distance,F,L);this.addPieSliceVertex(d,this.distance,S,L);for(var j=O-1;j>=0;j--)F=_.mult((j+1)/(O+1))._add(v)._unit(),this.addPieSliceVertex(d,this.distance,F,L)}m&&this.addCurrentVertex(d,this.distance,v,-g,-y,!1)}else"butt"===A?(w||this.addCurrentVertex(d,this.distance,_,0,0,!1),m&&this.addCurrentVertex(d,this.distance,v,0,0,!1)):"square"===A?(w||(this.addCurrentVertex(d,this.distance,_,1,1,!1),this.e1=this.e2=-1),m&&this.addCurrentVertex(d,this.distance,v,-1,-1,!1)):"round"===A&&(w||(this.addCurrentVertex(d,this.distance,_,0,0,!1),this.addCurrentVertex(d,this.distance,_,1,1,!0),this.e1=this.e2=-1),m&&(this.addCurrentVertex(d,this.distance,v,-1,-1,!0),this.addCurrentVertex(d,this.distance,v,0,0,!1)));if(D&&o-1>T){var B=d.dist(m);if(B>2*a){var q=d.add(m.sub(d)._mult(a/B)._round());this.distance+=q.dist(d),this.addCurrentVertex(q,this.distance,v.mult(1),0,0,!1),d=q}}w=!1}}}},n.prototype.addCurrentVertex=function(t,e,i,n,r,o){var a,s=o?1:0,l=this.elementGroups.line.current;l.vertexLength+=2,a=i.clone(),n&&a._sub(i.perp()._mult(n)),this.e3=this.addLineVertex(t,a,s,0,n,e)-l.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),l.elementLength++),this.e1=this.e2,this.e2=this.e3,a=i.mult(-1),r&&a._sub(i.perp()._mult(r)),this.e3=this.addLineVertex(t,a,s,1,-r,e)-l.vertexStartIndex,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),l.elementLength++),this.e1=this.e2,this.e2=this.e3,e>d/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,n,r,o))},n.prototype.addPieSliceVertex=function(t,e,i,n){var r=n?1:0;i=i.mult(n?-1:1);var o=this.elementGroups.line.current;this.e3=this.addLineVertex(t,i,0,r,0,e)-o.vertexStartIndex,o.vertexLength++,this.e1>=0&&this.e2>=0&&(this.addLineElement(this.e1,this.e2,this.e3),o.elementLength++),n?this.e2=this.e3:this.e1=this.e3}},{"../../util/util":99,"../bucket":1,"../buffer":6,"../load_geometry":9}],5:[function(t,e,i){"use strict";function n(t){a.apply(this,arguments),this.collisionDebug=t.collisionDebug,this.overscaling=t.overscaling;var e={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};this.adjustedTextMaxSize=this.layer.getLayoutValue("text-size",18,e),this.adjustedTextSize=this.layer.getLayoutValue("text-size",this.zoom+1,e),this.adjustedIconMaxSize=this.layer.getLayoutValue("icon-size",18,e),this.adjustedIconSize=this.layer.getLayoutValue("icon-size",this.zoom+1,e)}function r(t,e,i,n,r,o,a,s,l,u,h,c,f){this.x=t.x,this.y=t.y,this.index=a,this.hasText=!!i,this.hasIcon=!!n,this.hasText&&(this.glyphQuads=o?w(t,i,s,e,r,u):[],this.textCollisionFeature=new y(e,t,i,s,l,u,!1)),this.hasIcon&&(this.iconQuads=o?T(t,n,h,e,r,f):[],this.iconCollisionFeature=new y(e,t,n,h,c,f,!0))}var o=t("point-geometry"),a=t("../bucket"),s=t("../element_groups"),l=t("../../symbol/anchor"),u=t("../../symbol/get_anchors"),h=t("../../util/token"),c=t("../../symbol/quads"),f=t("../../symbol/shaping"),d=t("../../symbol/resolve_text"),p=t("../../symbol/mergelines"),m=t("../../symbol/clip_line"),_=t("../../util/util"),v=t("../load_geometry"),g=t("../buffer").EXTENT,y=t("../../symbol/collision_feature"),x=f.shapeText,b=f.shapeIcon,w=c.getGlyphQuads,T=c.getIconQuads;e.exports=n,n.prototype=_.inherit(a,{});var S=["x","y","ox","oy","tx","ty","minzoom","maxzoom","labelminzoom"],M=[{name:"pos",components:2,type:a.AttributeType.SHORT,value:["x","y"]},{name:"offset",components:2,type:a.AttributeType.SHORT,value:["Math.round(ox * 64)","Math.round(oy * 64)"]},{name:"data1",components:4,type:a.AttributeType.UNSIGNED_BYTE,value:["tx / 4","ty / 4","(labelminzoom || 0) * 10","0"]},{name:"data2",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:["(minzoom || 0) * 10","Math.min(maxzoom || 25, 25) * 10"]}];n.prototype.shaderInterfaces={glyph:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:S,attributes:M},icon:{vertexBuffer:!0,elementBuffer:!0,attributeArgs:S,attributes:M},collisionBox:{vertexBuffer:!0,attributeArgs:["point","extrude","maxZoom","placementZoom"],attributes:[{name:"pos",components:2,type:a.AttributeType.SHORT,value:["point.x","point.y"]},{name:"extrude",components:2,type:a.AttributeType.SHORT,value:["Math.round(extrude.x)","Math.round(extrude.y)"]},{name:"data",components:2,type:a.AttributeType.UNSIGNED_BYTE,value:["maxZoom * 10","placementZoom * 10"]}]}},n.prototype.addFeatures=function(t,e,i){var n=512*this.overscaling;this.tilePixelRatio=g/n,this.compareText={},this.symbolInstances=[],this.iconsNeedLinear=!1;var r=this.layer.layout,o=this.features,a=this.textFeatures,s=.5,l=.5;switch(r["text-anchor"]){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(r["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}for(var u="right"===r["text-justify"]?1:"left"===r["text-justify"]?0:.5,c=24,f=r["text-line-height"]*c,d="line"!==r["symbol-placement"]?r["text-max-width"]*c:0,m=r["text-letter-spacing"]*c,_=[r["text-offset"][0]*c,r["text-offset"][1]*c],y=r["text-font"].join(","),w=[],T=0;T<o.length;T++)w.push(v(o[T]));if("line"===r["symbol-placement"]){var S=p(o,a,w);w=S.geometries,o=S.features,a=S.textFeatures}for(var M,E,D=0;D<o.length;D++)if(w[D]){if(M=a[D]?x(a[D],e[y],d,f,s,l,u,m,_):null,r["icon-image"]){var I=h(o[D].properties,r["icon-image"]),P=i[I];E=b(P,r),P&&(void 0===this.sdfIcons?this.sdfIcons=P.sdf:this.sdfIcons!==P.sdf&&console.warn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==P.pixelRatio&&(this.iconsNeedLinear=!0))}else E=null;(M||E)&&this.addFeature(w[D],M,E)}this.placeFeatures(t,this.buffers,this.collisionDebug)},n.prototype.addFeature=function(t,e,i){var n=this.layer.layout,o=24,a=this.adjustedTextSize/o,s=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,h=this.tilePixelRatio*a,c=this.tilePixelRatio*s/o,f=this.tilePixelRatio*this.adjustedIconSize,d=this.tilePixelRatio*n["symbol-spacing"],p=n["symbol-avoid-edges"],_=n["text-padding"]*this.tilePixelRatio,v=n["icon-padding"]*this.tilePixelRatio,y=n["text-max-angle"]/180*Math.PI,x="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],b="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"],w=n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"],T="line"===n["symbol-placement"],S=d/2;T&&(t=m(t,0,0,g,g));for(var M=0;M<t.length;M++){var E,D=t[M];E=T?u(D,d,y,e,i,o,c,this.overscaling,g):[new l(D[0].x,D[0].y,0)];for(var I=0,P=E.length;P>I;I++){var z=E[I];if(!(e&&T&&this.anchorIsTooClose(e.text,S,z))){var A=!(z.x<0||z.x>g||z.y<0||z.y>g);if(!p||A){var k=A||w;this.symbolInstances.push(new r(z,D,e,i,n,k,this.symbolInstances.length,h,_,x,f,v,b))}}}}},n.prototype.anchorIsTooClose=function(t,e,i){var n=this.compareText;if(t in n){for(var r=n[t],o=r.length-1;o>=0;o--)if(i.dist(r[o])<e)return!0}else n[t]=[];return n[t].push(i),!1},n.prototype.placeFeatures=function(t,e,i){this.resetBuffers(e);var n=this.elementGroups={glyph:new s(e.glyphVertex,e.glyphElement),icon:new s(e.iconVertex,e.iconElement),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear},r=this.layer.layout,o=t.maxScale;n.glyph.adjustedSize=this.adjustedTextSize,n.icon.adjustedSize=this.adjustedIconSize,n.glyph.fontstack=r["text-font"].join(",");var a="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],l="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],u=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(u){var h=t.angle,c=Math.sin(h),f=Math.cos(h);this.symbolInstances.sort(function(t,e){var i=c*t.x+f*t.y|0,n=c*e.x+f*e.y|0;return i-n||e.index-t.index})}for(var d=0;d<this.symbolInstances.length;d++){var p=this.symbolInstances[d],m=p.hasText,_=p.hasIcon,v=r["text-optional"]||!m,g=r["icon-optional"]||!_,y=m?t.placeCollisionFeature(p.textCollisionFeature,r["text-allow-overlap"],r["symbol-avoid-edges"]):t.minScale,x=_?t.placeCollisionFeature(p.iconCollisionFeature,r["icon-allow-overlap"],r["symbol-avoid-edges"]):t.minScale;v||g?!g&&y?y=Math.max(x,y):!v&&x&&(x=Math.max(x,y)):x=y=Math.max(x,y),m&&(r["text-ignore-placement"]||t.insertCollisionFeature(p.textCollisionFeature,y),o>=y&&this.addSymbols("glyph",p.glyphQuads,y,r["text-keep-upright"],a,t.angle)),_&&(r["icon-ignore-placement"]||t.insertCollisionFeature(p.iconCollisionFeature,x),o>=x&&this.addSymbols("icon",p.iconQuads,x,r["icon-keep-upright"],l,t.angle))}i&&this.addToDebugBuffers(t)},n.prototype.addSymbols=function(t,e,i,n,r,o){for(var a=this.makeRoomFor(t,4*e.length),s=this[this.getAddMethodName(t,"element")].bind(this),l=this[this.getAddMethodName(t,"vertex")].bind(this),u=this.zoom,h=Math.max(Math.log(i)/Math.LN2+u,0),c=0;c<e.length;c++){var f=e[c],d=f.angle,p=(d+o+Math.PI)%(2*Math.PI);if(!(n&&r&&(p<=Math.PI/2||p>3*Math.PI/2))){var m=f.tl,_=f.tr,v=f.bl,g=f.br,y=f.tex,x=f.anchorPoint,b=Math.max(u+Math.log(f.minScale)/Math.LN2,h),w=Math.min(u+Math.log(f.maxScale)/Math.LN2,25);if(!(b>=w)){b===h&&(b=0);var T=l(x.x,x.y,m.x,m.y,y.x,y.y,b,w,h)-a.vertexStartIndex;l(x.x,x.y,_.x,_.y,y.x+y.w,y.y,b,w,h),l(x.x,x.y,v.x,v.y,y.x,y.y+y.h,b,w,h),l(x.x,x.y,g.x,g.y,y.x+y.w,y.y+y.h,b,w,h),a.vertexLength+=4,s(T,T+1,T+2),s(T+1,T+2,T+3),a.elementLength+=2}}}},n.prototype.updateIcons=function(t){var e=this.layer.layout["icon-image"];if(e)for(var i=0;i<this.features.length;i++){var n=h(this.features[i].properties,e);n&&(t[n]=!0)}},n.prototype.updateFont=function(t){var e=this.layer.layout["text-font"],i=t[e]=t[e]||{};this.textFeatures=d(this.features,this.layer.layout,i)},n.prototype.addToDebugBuffers=function(t){this.elementGroups.collisionBox=new s(this.buffers.collisionBoxVertex);for(var e=this.makeRoomFor("collisionBox",0),i=-t.angle,n=t.yStretch,r=0;r<this.symbolInstances.length;r++)for(var a=0;2>a;a++){var l=this.symbolInstances[r][0===a?"textCollisionFeature":"iconCollisionFeature"];if(l)for(var u=l.boxes,h=0;h<u.length;h++){var c=u[h],f=c.anchorPoint,d=new o(c.x1,c.y1*n)._rotate(i),p=new o(c.x2,c.y1*n)._rotate(i),m=new o(c.x1,c.y2*n)._rotate(i),_=new o(c.x2,c.y2*n)._rotate(i),v=Math.max(0,Math.min(25,this.zoom+Math.log(c.maxScale)/Math.LN2)),g=Math.max(0,Math.min(25,this.zoom+Math.log(c.placementScale)/Math.LN2));this.addCollisionBoxVertex(f,d,v,g),this.addCollisionBoxVertex(f,p,v,g),this.addCollisionBoxVertex(f,p,v,g),this.addCollisionBoxVertex(f,_,v,g),this.addCollisionBoxVertex(f,_,v,g),this.addCollisionBoxVertex(f,m,v,g),this.addCollisionBoxVertex(f,m,v,g),this.addCollisionBoxVertex(f,d,v,g),e.vertexLength+=8}}}},{"../../symbol/anchor":57,"../../symbol/clip_line":59,"../../symbol/collision_feature":61,"../../symbol/get_anchors":63,"../../symbol/mergelines":66,"../../symbol/quads":67,"../../symbol/resolve_text":68,"../../symbol/shaping":69,"../../util/token":98,"../../util/util":99,"../bucket":1,"../buffer":6,"../element_groups":7,"../load_geometry":9,"point-geometry":152}],6:[function(t,e,i){"use strict";function n(t){if(this.type=t.type,t.arrayBuffer)this.capacity=t.capacity,this.arrayBuffer=t.arrayBuffer,this.attributes=t.attributes,this.itemSize=t.itemSize,this.length=t.length;else{this.capacity=r(n.CAPACITY_DEFAULT,n.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this.attributes=[],this.itemSize=0,this.length=0;var e=this.type===n.BufferType.VERTEX?n.VERTEX_ATTRIBUTE_ALIGNMENT:1;this.attributes=t.attributes.map(function(t){var i={};return i.name=t.name,i.components=t.components||1,i.type=t.type||n.AttributeType.UNSIGNED_BYTE,i.size=i.type.size*i.components,i.offset=this.itemSize,this.itemSize=r(i.offset+i.size,e),i},this),this._createPushMethod(),this._refreshViews()}}function r(t,e){e=e||1;var i=t%e;return 1!==e&&0!==i&&(t+=e-i),t}n.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer.slice(0,this.length*this.itemSize),t.STATIC_DRAW),this.arrayBuffer=null)},n.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},n.prototype.setAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n];t.vertexAttribPointer(e["a_"+r.name],r.components,t[r.type.name],!1,this.itemSize,i+r.offset)}},n.prototype.get=function(t){this._refreshViews();for(var e={},i=t*this.itemSize,n=0;n<this.attributes.length;n++)for(var r=this.attributes[n],o=e[r.name]=[],a=0;a<r.components;a++){var s=(i+r.offset)/r.type.size+a;o.push(this.views[r.type.name][s])}return e},n.prototype.validate=function(t){for(var e=0;e<this.attributes.length;e++)for(var i=0;i<this.attributes[e].components;i++);},n.prototype._resize=function(t){var e=this.views.UNSIGNED_BYTE;this.capacity=r(t,n.CAPACITY_ALIGNMENT),this.arrayBuffer=new ArrayBuffer(this.capacity),this._refreshViews(),this.views.UNSIGNED_BYTE.set(e)},n.prototype._refreshViews=function(){this.views={UNSIGNED_BYTE:new Uint8Array(this.arrayBuffer),BYTE:new Int8Array(this.arrayBuffer),UNSIGNED_SHORT:new Uint16Array(this.arrayBuffer),SHORT:new Int16Array(this.arrayBuffer)}};var o={};n.prototype._createPushMethod=function(){var t="",e=[];t+="var i = this.length++;\n",t+="var o = i * "+this.itemSize+";\n",t+="if (o + "+this.itemSize+" > this.capacity) { this._resize(this.capacity * 1.5); }\n";for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],r="o"+i;t+="\nvar "+r+" = (o + "+n.offset+") / "+n.type.size+";\n";for(var a=0;a<n.components;a++){var s="v"+e.length,l="this.views."+n.type.name+"["+r+" + "+a+"]";t+=l+" = "+s+";\n",e.push(s)}}t+="\nreturn i;\n",o[t]||(o[t]=new Function(e,t)),this.push=o[t]},n.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},n.AttributeType={BYTE:{size:1,name:"BYTE"},UNSIGNED_BYTE:{size:1,name:"UNSIGNED_BYTE"},SHORT:{size:2,name:"SHORT"},UNSIGNED_SHORT:{size:2,name:"UNSIGNED_SHORT"}},n.ELEMENT_ATTRIBUTE_TYPE=n.AttributeType.UNSIGNED_SHORT,
n.EXTENT=8192,n.CAPACITY_DEFAULT=8192,n.CAPACITY_ALIGNMENT=2,n.VERTEX_ATTRIBUTE_ALIGNMENT=4,e.exports=n},{}],7:[function(t,e,i){"use strict";function n(t,e,i){this.vertexBuffer=t,this.elementBuffer=e,this.secondElementBuffer=i,this.groups=[]}function r(t,e,i){this.vertexStartIndex=t,this.elementStartIndex=e,this.secondElementStartIndex=i,this.elementLength=0,this.vertexLength=0,this.secondElementLength=0}e.exports=n,n.prototype.makeRoomFor=function(t){return(!this.current||this.current.vertexLength+t>65535)&&(this.current=new r(this.vertexBuffer.length,this.elementBuffer&&this.elementBuffer.length,this.secondElementBuffer&&this.secondElementBuffer.length),this.groups.push(this.current)),this.current}},{}],8:[function(t,e,i){"use strict";function n(t,e){this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.rtree=p(9),this.toBeInserted=[]}function r(t,e,i){return"Point"===e?l(t,i):"LineString"===e?a(t,i):"Polygon"===e?o(t,i)||a(t,i):!1}function o(t,e){return f(t,new m(e[0],e[1]))||f(t,new m(e[0],e[3]))||f(t,new m(e[2],e[1]))||f(t,new m(e[2],e[3]))?!0:a(t,e)}function a(t,e){for(var i=0;i<t.length;i++)for(var n=t[i],r=0,o=n.length-1;r<n.length;o=r++){var a=n[r],u=n[o],h=new m(a.y,a.x),c=new m(u.y,u.x);if(s(a,u,e[0],e[2],e[1])||s(a,u,e[0],e[2],e[3])||s(h,c,e[1],e[3],e[0])||s(h,c,e[1],e[3],e[2]))return!0}return l(t,e)}function s(t,e,i,n,r){if(e.y===t.y)return e.y===r&&Math.min(t.x,e.x)<=n&&Math.max(t.x,e.x)>=i;var o=(r-t.y)/(e.y-t.y),a=t.x+o*(e.x-t.x);return a>=i&&n>=a&&1>=o&&o>=0}function l(t,e){for(var i=0;i<t.length;i++)for(var n=t[i],r=0;r<n.length;r++)if(n[r].x>=e[0]&&n[r].y>=e[1]&&n[r].x<=e[2]&&n[r].y<=e[3])return!0;return!1}function u(t,e,i,n){return"Point"===e?d(t,i,n):"LineString"===e?c(t,i,n):"Polygon"===e?f(t,i)||c(t,i,n):!1}function h(t,e,i){var n=e.distSqr(i);if(0===n)return t.distSqr(e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return 0>r?t.distSqr(e):r>1?t.distSqr(i):t.distSqr(i.sub(e)._mult(r)._add(e))}function c(t,e,i){for(var n=i*i,r=0;r<t.length;r++)for(var o=t[r],a=1;a<o.length;a++){var s=o[a-1],l=o[a];if(h(e,s,l)<n)return!0}return!1}function f(t,e){for(var i,n,r,o=!1,a=0;a<t.length;a++){i=t[a];for(var s=0,l=i.length-1;s<i.length;l=s++)n=i[s],r=i[l],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(o=!o)}return o}function d(t,e,i){for(var n=i*i,r=0;r<t.length;r++)for(var o=t[r],a=0;a<o.length;a++)if(o[a].distSqr(e)<=n)return!0;return!1}var p=t("rbush"),m=t("point-geometry"),_=t("vector-tile"),v=t("../util/util"),g=t("./load_geometry"),y=t("./buffer").EXTENT;e.exports=n,n.prototype.insert=function(t,e,i){var n=y/i.extent;t[0]*=n,t[1]*=n,t[2]*=n,t[3]*=n,t.layers=e,t.feature=i,this.toBeInserted.push(t)},n.prototype._load=function(){this.rtree.load(this.toBeInserted),this.toBeInserted=[]},n.prototype.query=function(t,e){this.toBeInserted.length&&this._load();var i,n,o=t.params||{},a=t.x,s=t.y,l=[];"undefined"!=typeof a&&"undefined"!=typeof s?(i=(o.radius||0)*y/t.tileSize/t.scale,n=[a-i,s-i,a+i,s+i]):n=[t.minX,t.minY,t.maxX,t.maxY];for(var h=this.rtree.search(n),c=0;c<h.length;c++){var f=h[c].feature,d=h[c].layers,p=_.VectorTileFeature.types[f.type];if((!o.$type||p===o.$type)&&(!i||u(g(f),p,new m(a,s),i))&&r(g(f),p,n)){var x=f.toGeoJSON(this.x,this.y,this.z);o.includeGeometry||(x.geometry=null);for(var b=0;b<d.length;b++){var w=d[b];o.layerIds&&o.layerIds.indexOf(w)<0||l.push(v.extend({layer:w},x))}}}e(null,l)}},{"../util/util":99,"./buffer":6,"./load_geometry":9,"point-geometry":152,rbush:153,"vector-tile":158}],9:[function(t,e,i){"use strict";var n=t("./buffer").EXTENT;e.exports=function(t){for(var e=n/t.extent,i=t.loadGeometry(),r=0;r<i.length;r++)for(var o=i[r],a=0;a<o.length;a++){var s=o[a];s.x=Math.round(s.x*e),s.y=Math.round(s.y*e)}return i}},{"./buffer":6}],10:[function(t,e,i){"use strict";function n(t,e,i){this.column=t,this.row=e,this.zoom=i}e.exports=n,n.prototype={clone:function(){return new n(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},{}],11:[function(t,e,i){"use strict";function n(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}e.exports=n;var r=t("../util/util").wrap;n.prototype.wrap=function(){return new n(r(this.lng,-180,180),this.lat)},n.prototype.toArray=function(){return[this.lng,this.lat]},n.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{"../util/util":99}],12:[function(t,e,i){"use strict";function n(t,e){t&&(e?this.extend(t).extend(e):4===t.length?this.extend([t[0],t[1]]).extend([t[2],t[3]]):this.extend(t[0]).extend(t[1]))}e.exports=n;var r=t("./lng_lat");n.prototype={extend:function(t){var e,i,o=this._sw,a=this._ne;if(t instanceof r)e=t,i=t;else{if(!(t instanceof n))return t?this.extend(r.convert(t)||n.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(i.lng,a.lng),a.lat=Math.max(i.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(i.lng,i.lat)),this},getCenter:function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new r(this.getWest(),this.getNorth())},getSouthEast:function(){return new r(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},n.convert=function(t){return!t||t instanceof n?t:new n(t)}},{"./lng_lat":11}],13:[function(t,e,i){"use strict";function n(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var r=t("./lng_lat"),o=t("point-geometry"),a=t("./coordinate"),s=t("../util/util").wrap,l=t("../util/interpolate"),u=t("gl-matrix"),h=u.vec4,c=u.mat4,f=u.mat2;e.exports=n,n.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new o(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcProjMatrix(),this.rotationMatrix=f.create(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcProjMatrix())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcProjMatrix())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcProjMatrix(),this._constrain())},get center(){return this._center},set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._calcProjMatrix(),this._constrain())},resize:function(t,e){this.width=t,this.height=e,this.exMatrix=c.create(),c.ortho(this.exMatrix,0,t,e,0,0,-1),this._calcProjMatrix(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new o(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new r(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new o(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var i=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-i)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var i=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var i=this.locationCoordinate(t),n=this.pointCoordinate(e),r=this.pointCoordinate(this.centerPoint),o=n._sub(i);this._unmodified=!1,this.center=this.coordinateLocation(r._sub(o))},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,i=r.convert(t);return new a(this.lngX(i.lng)*e,this.latY(i.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new r(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t,e){void 0===e&&(e=0);var i=this.coordinatePointMatrix(this.tileZoom);if(c.invert(i,i),!i)throw new Error("failed to invert matrix");var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];h.transformMat4(n,n,i),h.transformMat4(r,r,i);var o=n[3],s=r[3],u=n[0]/o,f=r[0]/s,d=n[1]/o,p=r[1]/s,m=n[2]/o,_=r[2]/s,v=m===_?0:(e-m)/(_-m);return new a(l(u,f,v),l(d,p,v),this.tileZoom)},coordinatePoint:function(t){var e=this.coordinatePointMatrix(t.zoom),i=[t.column,t.row,0,1];return h.transformMat4(i,i,e),new o(i[0]/i[3],i[1]/i[3])},coordinatePointMatrix:function(t){var e=c.copy(new Float64Array(16),this.projMatrix),i=this.worldSize/this.zoomScale(t);return c.scale(e,e,[i,i,1]),c.multiply(e,this.getPixelMatrix(),e),e},getPixelMatrix:function(){var t=c.create();return c.scale(t,t,[this.width/2,-this.height/2,1]),c.translate(t,t,[1,-1,0]),t},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,i,n,r,a,s,l,u=this.size,h=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),r=e-t<u.y?u.y/(e-t):0),this.lngRange&&(i=this.lngX(this.lngRange[0]),n=this.lngX(this.lngRange[1]),a=n-i<u.x?u.x/(n-i):0);var c=Math.max(a||0,r||0);if(c)return this.center=this.unproject(new o(a?(n+i)/2:this.x,r?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(c),this._unmodified=h,void(this._constraining=!1);if(this.latRange){var f=this.y,d=u.y/2;t>f-d&&(l=t+d),f+d>e&&(l=e-d)}if(this.lngRange){var p=this.x,m=u.x/2;i>p-m&&(s=i+m),p+m>n&&(s=n-m)}void 0===s&&void 0===l||(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==l?l:this.y))),this._unmodified=h,this._constraining=!1}},_calcProjMatrix:function(){var t=new Float64Array(16),e=Math.atan(.5/this.altitude),i=Math.sin(e)*this.altitude/Math.sin(Math.PI/2-this._pitch-e),n=Math.cos(Math.PI/2-this._pitch)*i+this.altitude;c.perspective(t,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,n),c.translate(t,t,[0,0,-this.altitude]),c.scale(t,t,[1,-1,1/this.height]),c.rotateX(t,t,this._pitch),c.rotateZ(t,t,this.angle),c.translate(t,t,[-this.x,-this.y,0]),this.projMatrix=t}}},{"../util/interpolate":95,"../util/util":99,"./coordinate":10,"./lng_lat":11,"gl-matrix":114,"point-geometry":152}],14:[function(t,e,i){"use strict";var n={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,i,r){r=r||1;var o,a,s,l,u,h,c,f,d=[];for(o=0,a=t.length;a>o;o++)if(u=n[t[o]]){for(f=null,s=0,l=u[1].length;l>s;s+=2)-1===u[1][s]&&-1===u[1][s+1]?f=null:(h=e+u[1][s]*r,c=i-u[1][s+1]*r,f&&d.push(f.x,f.y,h,c),f={x:h,y:c});e+=u[0]*r}return d}},{}],15:[function(t,e,i){"use strict";var n=e.exports={};n.Map=t("./ui/map"),n.Control=t("./ui/control/control"),n.Navigation=t("./ui/control/navigation"),n.Attribution=t("./ui/control/attribution"),n.Popup=t("./ui/popup"),n.GeoJSONSource=t("./source/geojson_source"),n.VideoSource=t("./source/video_source"),n.ImageSource=t("./source/image_source"),n.Style=t("./style/style"),n.LngLat=t("./geo/lng_lat"),n.LngLatBounds=t("./geo/lng_lat_bounds"),n.Point=t("point-geometry"),n.Evented=t("./util/evented"),n.util=t("./util/util"),n.supported=t("./util/browser").supported;var r=t("./util/ajax");n.util.getJSON=r.getJSON,n.util.getArrayBuffer=r.getArrayBuffer;var o=t("./util/config");n.config=o,Object.defineProperty(n,"accessToken",{get:function(){return o.ACCESS_TOKEN},set:function(t){o.ACCESS_TOKEN=t}})},{"./geo/lng_lat":11,"./geo/lng_lat_bounds":12,"./source/geojson_source":29,"./source/image_source":31,"./source/video_source":38,"./style/style":44,"./ui/control/attribution":72,"./ui/control/control":73,"./ui/control/navigation":74,"./ui/map":84,"./ui/popup":85,"./util/ajax":87,"./util/browser":88,"./util/config":92,"./util/evented":93,"./util/util":99,"point-geometry":152}],16:[function(t,e,i){"use strict";function n(t,e,i){var n,r=t.gl,l=t.transform,u=a.premultiply(i.paint["background-color"],i.paint["background-opacity"]),h=i.paint["background-pattern"],c=i.paint["background-opacity"],f=h?t.spriteAtlas.getPosition(h.from,!0):null,d=h?t.spriteAtlas.getPosition(h.to,!0):null;if(t.setDepthSublayer(0),f&&d){if(t.isOpaquePass)return;n=t.patternShader,r.switchShader(n),r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,f.tl),r.uniform2fv(n.u_pattern_br_a,f.br),r.uniform2fv(n.u_pattern_tl_b,d.tl),r.uniform2fv(n.u_pattern_br_b,d.br),r.uniform1f(n.u_opacity,c),r.uniform1f(n.u_mix,h.t);var p=s/l.tileSize/Math.pow(2,0);r.uniform2fv(n.u_patternscale_a,[1/(f.size[0]*p*h.fromScale),1/(f.size[1]*p*h.fromScale)]),r.uniform2fv(n.u_patternscale_b,[1/(d.size[0]*p*h.toScale),1/(d.size[1]*p*h.toScale)]),t.spriteAtlas.bind(r,!0)}else{if(t.isOpaquePass!==(1===u[3]))return;n=t.fillShader,r.switchShader(n),r.uniform4fv(n.u_color,u)}r.disable(r.STENCIL_TEST),r.bindBuffer(r.ARRAY_BUFFER,t.tileExtentBuffer),r.vertexAttribPointer(n.a_pos,t.tileExtentBuffer.itemSize,r.SHORT,!1,0,0);for(var m=o.coveringTiles(l),_=0;_<m.length;_++)r.setPosMatrix(t.calculatePosMatrix(m[_])),r.drawArrays(r.TRIANGLE_STRIP,0,t.tileExtentBuffer.itemCount);r.stencilMask(0),r.stencilFunc(r.EQUAL,128,128)}var r=t("../source/tile_pyramid"),o=new r({tileSize:512}),a=t("../util/util"),s=t("../data/buffer").EXTENT;e.exports=n},{"../data/buffer":6,"../source/tile_pyramid":36,"../util/util":99}],17:[function(t,e,i){"use strict";function n(t,e,i,n){if(!t.isOpaquePass){var a=t.gl,s=t.circleShader;t.gl.switchShader(s),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.STENCIL_TEST);var l=1/r.devicePixelRatio/i.paint["circle-radius"],u=o.premultiply(i.paint["circle-color"],i.paint["circle-opacity"]);a.uniform4fv(s.u_color,u),a.uniform1f(s.u_blur,Math.max(i.paint["circle-blur"],l)),a.uniform1f(s.u_size,i.paint["circle-radius"]);for(var h=0;h<n.length;h++){var c=n[h],f=e.getTile(c);if(f.buffers){var d=f.getElementGroups(i,"circle");if(d){var p=f.buffers.circleVertex,m=f.buffers.circleElement;a.setPosMatrix(t.translatePosMatrix(t.calculatePosMatrix(c,e.maxzoom),f,i.paint["circle-translate"],i.paint["circle-translate-anchor"])),a.setExMatrix(t.transform.exMatrix);for(var _=0;_<d.groups.length;_++){var v=d.groups[_],g=v.vertexStartIndex*p.itemSize;p.bind(a),p.setAttribPointers(a,s,g),m.bind(a);var y=3*v.elementLength,x=v.elementStartIndex*m.itemSize;a.drawElements(a.TRIANGLES,y,a.UNSIGNED_SHORT,x)}}}}}}var r=t("../util/browser"),o=t("../util/util");e.exports=n},{"../util/browser":88,"../util/util":99}],18:[function(t,e,i){"use strict";function n(t,e,i,n){var r=t.gl,o=t.collisionBoxShader;r.enable(r.STENCIL_TEST),r.switchShader(o);for(var a=0;a<n.length;a++){var s=n[a],l=e.getTile(s),u=l.getElementGroups(i,"collisionBox");if(u&&l.buffers&&0!==u.groups[0].vertexLength){var h=l.buffers.collisionBoxVertex;h.bind(r),h.setAttribPointers(r,o,0);var c=t.calculatePosMatrix(s,e.maxzoom);r.setPosMatrix(c),t.enableTileClippingMask(s),r.lineWidth(1),r.uniform1f(o.u_scale,Math.pow(2,t.transform.zoom-l.coord.z)),r.uniform1f(o.u_zoom,10*t.transform.zoom),r.uniform1f(o.u_maxzoom,10*(l.coord.z+1)),r.drawArrays(r.LINES,u.groups[0].vertexStartIndex,u.groups[0].vertexLength)}}}e.exports=n},{}],19:[function(t,e,i){"use strict";function n(t,e,i){if(!t.isOpaquePass&&t.options.debug)for(var n=0;n<i.length;n++)r(t,e,i[n])}function r(t,e,i){var n=t.gl;n.disable(n.STENCIL_TEST),n.lineWidth(1*a.devicePixelRatio);var r=t.calculatePosMatrix(i,e.maxzoom),u=t.debugShader;n.switchShader(u,r),n.bindBuffer(n.ARRAY_BUFFER,t.debugBuffer),n.vertexAttribPointer(u.a_pos,t.debugBuffer.itemSize,n.SHORT,!1,0,0),n.uniform4f(u.u_color,1,0,0,1),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.itemCount);var h=o(i.toString(),50,200,5);n.bindBuffer(n.ARRAY_BUFFER,t.debugTextBuffer),n.bufferData(n.ARRAY_BUFFER,new Int16Array(h),n.STREAM_DRAW),n.vertexAttribPointer(u.a_pos,t.debugTextBuffer.itemSize,n.SHORT,!1,0,0),n.uniform4f(u.u_color,1,1,1,1);for(var c=e.getTile(i).tileSize,f=l/(Math.pow(2,t.transform.zoom-i.z)*c),d=[[-1,-1],[-1,1],[1,-1],[1,1]],p=0;p<d.length;p++){var m=d[p];n.setPosMatrix(s.translate([],r,[f*m[0],f*m[1],0])),n.drawArrays(n.LINES,0,h.length/t.debugTextBuffer.itemSize)}n.uniform4f(u.u_color,0,0,0,1),n.setPosMatrix(r),n.drawArrays(n.LINES,0,h.length/t.debugTextBuffer.itemSize)}var o=t("../lib/debugtext"),a=t("../util/browser"),s=t("gl-matrix").mat4,l=t("../data/buffer").EXTENT;e.exports=n},{"../data/buffer":6,"../lib/debugtext":14,"../util/browser":88,"gl-matrix":114}],20:[function(t,e,i){"use strict";function n(t,e,i,n){var l=t.gl;l.enable(l.STENCIL_TEST);var u=s.premultiply(i.paint["fill-color"],i.paint["fill-opacity"]),h=i.paint["fill-pattern"],c=s.premultiply(i.paint["fill-outline-color"],i.paint["fill-opacity"]);if(h?!t.isOpaquePass:t.isOpaquePass===(1===u[3]))for(var f=0;f<n.length;f++)r(t,e,i,n[f]);if(!t.isOpaquePass&&i.paint["fill-antialias"]&&(!i.paint["fill-pattern"]||c)){l.switchShader(t.outlineShader),l.lineWidth(2*a.devicePixelRatio*10),c?t.setDepthSublayer(2):t.setDepthSublayer(0),l.uniform2f(t.outlineShader.u_world,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform4fv(t.outlineShader.u_color,c?c:u);for(var d=0;d<n.length;d++)o(t,e,i,n[d])}}function r(t,e,i,n){var r=e.getTile(n);if(r.buffers){var o=r.getElementGroups(i,"fill");if(o){var a=t.gl,l=s.premultiply(i.paint["fill-color"],i.paint["fill-opacity"]),u=i.paint["fill-pattern"],h=i.paint["fill-opacity"],c=t.calculatePosMatrix(n,e.maxzoom),f=t.translatePosMatrix(c,r,i.paint["fill-translate"],i.paint["fill-translate-anchor"]);t.setDepthSublayer(1),a.stencilMask(7),a.clear(a.STENCIL_BUFFER_BIT),t.enableTileClippingMask(n),a.stencilOpSeparate(a.FRONT,a.KEEP,a.KEEP,a.INCR_WRAP),a.stencilOpSeparate(a.BACK,a.KEEP,a.KEEP,a.DECR_WRAP),a.colorMask(!1,!1,!1,!1),t.depthMask(!1),a.switchShader(t.fillShader,f);var d=r.buffers.fillVertex;d.bind(a);var p=r.buffers.fillElement;p.bind(a);for(var m=0;m<o.groups.length;m++){var _=o.groups[m],v=_.vertexStartIndex*d.itemSize;d.setAttribPointers(a,t.fillShader,v);var g=3*_.elementLength,y=_.elementStartIndex*p.itemSize;a.drawElements(a.TRIANGLES,g,a.UNSIGNED_SHORT,y)}a.colorMask(!0,!0,!0,!0),t.depthMask(!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.stencilMask(0);var x;if(u){var b=t.spriteAtlas.getPosition(u.from,!0),w=t.spriteAtlas.getPosition(u.to,!0);if(!b||!w)return;x=t.patternShader,a.switchShader(x,c),a.uniform1i(x.u_image,0),a.uniform2fv(x.u_pattern_tl_a,b.tl),a.uniform2fv(x.u_pattern_br_a,b.br),a.uniform2fv(x.u_pattern_tl_b,w.tl),a.uniform2fv(x.u_pattern_br_b,w.br),a.uniform1f(x.u_opacity,h),a.uniform1f(x.u_mix,u.t);var T=[b.size[0]*u.fromScale,b.size[1]*u.fromScale],S=[w.size[0]*u.toScale,w.size[1]*u.toScale];a.uniform2fv(x.u_patternscale_a,[1/r.pixelsToTileUnits(T[0],t.transform.tileZoom),1/r.pixelsToTileUnits(T[1],t.transform.tileZoom)]),a.uniform2fv(x.u_patternscale_b,[1/r.pixelsToTileUnits(S[0],t.transform.tileZoom),1/r.pixelsToTileUnits(S[1],t.transform.tileZoom)]);var M=r.tileSize*Math.pow(2,t.transform.tileZoom-r.coord.z),E=M/T[0]%1*(r.coord.x+n.w*Math.pow(2,r.coord.z)),D=M/T[1]%1*r.coord.y,I=M/S[0]%1*(r.coord.x+n.w*Math.pow(2,r.coord.z)),P=M/S[1]%1*r.coord.y;a.uniform2fv(x.u_offset_a,[E,D]),a.uniform2fv(x.u_offset_b,[I,P]),t.spriteAtlas.bind(a,!0)}else x=t.fillShader,a.switchShader(x,c),a.uniform4fv(x.u_color,l);a.stencilFunc(a.NOTEQUAL,0,7),a.bindBuffer(a.ARRAY_BUFFER,t.tileExtentBuffer),a.vertexAttribPointer(x.a_pos,t.tileExtentBuffer.itemSize,a.SHORT,!1,0,0),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.itemCount),a.stencilMask(0)}}}function o(t,e,i,n){var r=e.getTile(n);if(r.buffers&&r.elementGroups[i.ref||i.id]){var o=t.gl,a=r.elementGroups[i.ref||i.id].fill;o.setPosMatrix(t.translatePosMatrix(t.calculatePosMatrix(n,e.maxzoom),r,i.paint["fill-translate"],i.paint["fill-translate-anchor"]));var s=r.buffers.fillVertex,l=r.buffers.fillSecondElement;s.bind(o),l.bind(o),t.enableTileClippingMask(n);for(var u=0;u<a.groups.length;u++){var h=a.groups[u],c=h.vertexStartIndex*s.itemSize;s.setAttribPointers(o,t.outlineShader,c);var f=2*h.secondElementLength,d=h.secondElementStartIndex*l.itemSize;o.drawElements(o.LINES,f,o.UNSIGNED_SHORT,d)}}}var a=t("../util/browser"),s=t("../util/util");e.exports=n},{"../util/browser":88,"../util/util":99}],21:[function(t,e,i){"use strict";var n=t("../util/browser"),r=t("gl-matrix").mat2,o=t("../util/util");e.exports=function(t,e,i,a){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var s=a.some(function(t){return e.getTile(t).getElementGroups(i,"line")});if(s){var l=t.gl;if(l.enable(l.STENCIL_TEST),!(i.paint["line-width"]<=0)){var u=1/n.devicePixelRatio,h=i.paint["line-blur"]+u,c=i.paint["line-width"]/2,f=-1,d=0,p=0;i.paint["line-gap-width"]>0&&(f=i.paint["line-gap-width"]/2+.5*u,c=i.paint["line-width"],d=f-u/2);var m=d+c+u/2+p,_=o.premultiply(i.paint["line-color"],i.paint["line-opacity"]),v=t.transform,g=r.create();r.scale(g,g,[1,Math.cos(v._pitch)]),r.rotate(g,g,t.transform.angle);var y,x,b,w,T,S=Math.sqrt(v.height*v.height/4*(1+v.altitude*v.altitude)),M=v.height/2*Math.tan(v._pitch),E=(S+M)/S-1,D=i.paint["line-dasharray"],I=i.paint["line-pattern"];if(D)y=t.linesdfpatternShader,l.switchShader(y),l.uniform2fv(y.u_linewidth,[m,f]),l.uniform1f(y.u_blur,h),l.uniform4fv(y.u_color,_),x=t.lineAtlas.getDash(D.from,"round"===i.layout["line-cap"]),b=t.lineAtlas.getDash(D.to,"round"===i.layout["line-cap"]),t.lineAtlas.bind(l),l.uniform1f(y.u_tex_y_a,x.y),l.uniform1f(y.u_tex_y_b,b.y),l.uniform1i(y.u_image,0),l.uniform1f(y.u_mix,D.t),l.uniform1f(y.u_extra,E),l.uniform1f(y.u_offset,-i.paint["line-offset"]),l.uniformMatrix2fv(y.u_antialiasingmatrix,!1,g);else if(I){if(w=t.spriteAtlas.getPosition(I.from,!0),T=t.spriteAtlas.getPosition(I.to,!0),!w||!T)return;t.spriteAtlas.bind(l,!0),y=t.linepatternShader,l.switchShader(y),l.uniform2fv(y.u_linewidth,[m,f]),l.uniform1f(y.u_blur,h),l.uniform2fv(y.u_pattern_tl_a,w.tl),l.uniform2fv(y.u_pattern_br_a,w.br),l.uniform2fv(y.u_pattern_tl_b,T.tl),l.uniform2fv(y.u_pattern_br_b,T.br),l.uniform1f(y.u_fade,I.t),l.uniform1f(y.u_opacity,i.paint["line-opacity"]),l.uniform1f(y.u_extra,E),l.uniform1f(y.u_offset,-i.paint["line-offset"]),l.uniformMatrix2fv(y.u_antialiasingmatrix,!1,g)}else y=t.lineShader,l.switchShader(y),l.uniform2fv(y.u_linewidth,[m,f]),l.uniform1f(y.u_blur,h),l.uniform1f(y.u_extra,E),l.uniform1f(y.u_offset,-i.paint["line-offset"]),l.uniformMatrix2fv(y.u_antialiasingmatrix,!1,g),l.uniform4fv(y.u_color,_);for(var P=0;P<a.length;P++){var z=a[P],A=e.getTile(z),k=A.getElementGroups(i,"line");if(k){t.enableTileClippingMask(z);var C=t.translatePosMatrix(t.calculatePosMatrix(z,e.maxzoom),A,i.paint["line-translate"],i.paint["line-translate-anchor"]);l.setPosMatrix(C),l.setExMatrix(t.transform.exMatrix);var L=1/A.pixelsToTileUnits(1,t.transform.zoom);if(D){var R=x.width*D.fromScale,F=b.width*D.toScale,O=[1/A.pixelsToTileUnits(R,t.transform.tileZoom),-x.height/2],N=[1/A.pixelsToTileUnits(F,t.transform.tileZoom),-b.height/2],j=t.lineAtlas.width/(256*Math.min(R,F)*n.devicePixelRatio)/2;l.uniform1f(y.u_ratio,L),l.uniform2fv(y.u_patternscale_a,O),l.uniform2fv(y.u_patternscale_b,N),l.uniform1f(y.u_sdfgamma,j)}else I?(l.uniform1f(y.u_ratio,L),l.uniform2fv(y.u_pattern_size_a,[A.pixelsToTileUnits(w.size[0]*I.fromScale,t.transform.tileZoom),T.size[1]]),l.uniform2fv(y.u_pattern_size_b,[A.pixelsToTileUnits(T.size[0]*I.toScale,t.transform.tileZoom),T.size[1]])):l.uniform1f(y.u_ratio,L);var B=A.buffers.lineVertex;B.bind(l);var q=A.buffers.lineElement;q.bind(l);for(var U=0;U<k.groups.length;U++){var V=k.groups[U],X=V.vertexStartIndex*B.itemSize;l.vertexAttribPointer(y.a_pos,2,l.SHORT,!1,8,X+0),l.vertexAttribPointer(y.a_data,4,l.UNSIGNED_BYTE,!1,8,X+4);var H=3*V.elementLength,$=V.elementStartIndex*q.itemSize;l.drawElements(l.TRIANGLES,H,l.UNSIGNED_SHORT,$)}}}}}}}},{"../util/browser":88,"../util/util":99,"gl-matrix":114}],22:[function(t,e,i){"use strict";function n(t,e,i,n){if(!t.isOpaquePass){var o=t.gl;o.depthFunc(o.LESS);for(var a=n.length-1;a>=0;a--)r(t,e,i,n[a]);o.depthFunc(o.LEQUAL)}}function r(t,e,i,n){t.setDepthSublayer(0);var r=t.gl;r.disable(r.STENCIL_TEST);var u=e.getTile(n),h=t.calculatePosMatrix(n,e.maxzoom),c=t.rasterShader;r.switchShader(c,h),r.uniform1f(c.u_brightness_low,i.paint["raster-brightness-min"]),
r.uniform1f(c.u_brightness_high,i.paint["raster-brightness-max"]),r.uniform1f(c.u_saturation_factor,s(i.paint["raster-saturation"])),r.uniform1f(c.u_contrast_factor,a(i.paint["raster-contrast"])),r.uniform3fv(c.u_spin_weights,o(i.paint["raster-hue-rotate"]));var f,d,p=u.source&&u.source._pyramid.findLoadedParent(n,0,{}),m=l(u,p,i,t.transform);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,u.texture),p?(r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,p.texture),f=Math.pow(2,p.coord.z-u.coord.z),d=[u.coord.x*f%1,u.coord.y*f%1]):m[1]=0,r.uniform2fv(c.u_tl_parent,d||[0,0]),r.uniform1f(c.u_scale_parent,f||1),r.uniform1f(c.u_buffer_scale,1),r.uniform1f(c.u_opacity0,m[0]),r.uniform1f(c.u_opacity1,m[1]),r.uniform1i(c.u_image0,0),r.uniform1i(c.u_image1,1),r.bindBuffer(r.ARRAY_BUFFER,u.boundsBuffer||t.tileExtentBuffer),r.vertexAttribPointer(c.a_pos,2,r.SHORT,!1,8,0),r.vertexAttribPointer(c.a_texture_pos,2,r.SHORT,!1,8,4),r.drawArrays(r.TRIANGLE_STRIP,0,4)}function o(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function l(t,e,i,n){var r=[1,0],o=i.paint["raster-fade-duration"];if(t.source&&o>0){var a=(new Date).getTime(),s=(a-t.timeAdded)/o,l=e?(a-e.timeAdded)/o:-1,h=t.source._pyramid.coveringZoomLevel(n),c=e?Math.abs(e.coord.z-h)>Math.abs(t.coord.z-h):!1;!e||c?(r[0]=u.clamp(s,0,1),r[1]=1-r[0]):(r[0]=u.clamp(1-l,0,1),r[1]=1-r[0])}var f=i.paint["raster-opacity"];return r[0]*=f,r[1]*=f,r}var u=t("../util/util");e.exports=n},{"../util/util":99}],23:[function(t,e,i){"use strict";function n(t,e,i,n){if(!t.isOpaquePass){var o=!(i.layout["text-allow-overlap"]||i.layout["icon-allow-overlap"]||i.layout["text-ignore-placement"]||i.layout["icon-ignore-placement"]),a=t.gl;o?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.DEPTH_TEST);for(var l,u,h,c=0;c<n.length;c++)l=e.getTile(n[c]),l.buffers&&(u=l.elementGroups[i.ref||i.id],u&&u.icon.groups.length&&(h=t.calculatePosMatrix(n[c],e.maxzoom),t.enableTileClippingMask(n[c]),r(t,i,h,l,u.icon,"icon",u.sdfIcons,u.iconsNeedLinear)));for(var f=0;f<n.length;f++)l=e.getTile(n[f]),l.buffers&&(u=l.elementGroups[i.ref||i.id],u&&u.glyph.groups.length&&(h=t.calculatePosMatrix(n[f],e.maxzoom),t.enableTileClippingMask(n[f]),r(t,i,h,l,u.glyph,"text",!0,!1)));a.enable(a.DEPTH_TEST),s(t,e,i,n)}}function r(t,e,i,n,r,s,h,c){var f=t.gl;i=t.translatePosMatrix(i,n,e.paint[s+"-translate"],e.paint[s+"-translate-anchor"]);var d,p,m,_=t.transform,v="map"===e.layout[s+"-rotation-alignment"],g=v;g?(d=o.create(),p=n.pixelsToTileUnits(1,t.transform.zoom),m=1/Math.cos(_._pitch)):(d=o.clone(t.transform.exMatrix),p=t.transform.altitude,m=1),o.scale(d,d,[p,p,1]);var y=e.layout[s+"-size"],x=y/u[s];o.scale(d,d,[x,x,1]);var b,w,T,S,M=Math.sqrt(_.height*_.height/4*(1+_.altitude*_.altitude)),E=_.height/2*Math.tan(_._pitch),D=(M+E)/M-1,I="text"===s;if(I||t.style.sprite.loaded()){if(f.activeTexture(f.TEXTURE0),b=h?t.sdfShader:t.iconShader,I){var P=r.fontstack,z=P&&t.glyphSource.getGlyphAtlas(P);if(!z)return;z.updateTexture(f),w=n.buffers.glyphVertex,T=n.buffers.glyphElement,S=[z.width/4,z.height/4]}else{var A=t.options.rotating||t.options.zooming,k=1!==x||a.devicePixelRatio!==t.spriteAtlas.pixelRatio||c,C=v||t.transform.pitch;t.spriteAtlas.bind(f,h||A||k||C),w=n.buffers.iconVertex,T=n.buffers.iconElement,S=[t.spriteAtlas.width/4,t.spriteAtlas.height/4]}f.switchShader(b,i,d),f.uniform1i(b.u_texture,0),f.uniform2fv(b.u_texsize,S),f.uniform1i(b.u_skewed,g),f.uniform1f(b.u_extra,D);var L=Math.log(y/r.adjustedSize)/Math.LN2||0;f.uniform1f(b.u_zoom,10*(t.transform.zoom-L));var R=t.frameHistory.getFadeProperties(300);f.uniform1f(b.u_fadedist,10*R.fadedist),f.uniform1f(b.u_minfadezoom,Math.floor(10*R.minfadezoom)),f.uniform1f(b.u_maxfadezoom,Math.floor(10*R.maxfadezoom)),f.uniform1f(b.u_fadezoom,10*(t.transform.zoom+R.bump));var F,O,N,j;if(T.bind(f),h){var B=8,q=1.19,U=6,V=.105*u[s]/y/a.devicePixelRatio;if(e.paint[s+"-halo-width"]){var X=l.premultiply(e.paint[s+"-halo-color"],e.paint[s+"-opacity"]);f.uniform1f(b.u_gamma,(e.paint[s+"-halo-blur"]*q/x/B+V)*m),f.uniform4fv(b.u_color,X),f.uniform1f(b.u_buffer,(U-e.paint[s+"-halo-width"]/x)/B);for(var H=0;H<r.groups.length;H++)F=r.groups[H],O=F.vertexStartIndex*w.itemSize,w.bind(f),w.setAttribPointers(f,b,O),N=3*F.elementLength,j=F.elementStartIndex*T.itemSize,f.drawElements(f.TRIANGLES,N,f.UNSIGNED_SHORT,j)}var $=l.premultiply(e.paint[s+"-color"],e.paint[s+"-opacity"]);f.uniform1f(b.u_gamma,V*m),f.uniform4fv(b.u_color,$),f.uniform1f(b.u_buffer,.75);for(var Y=0;Y<r.groups.length;Y++)F=r.groups[Y],O=F.vertexStartIndex*w.itemSize,w.bind(f),w.setAttribPointers(f,b,O),N=3*F.elementLength,j=F.elementStartIndex*T.itemSize,f.drawElements(f.TRIANGLES,N,f.UNSIGNED_SHORT,j)}else{f.uniform1f(b.u_opacity,e.paint["icon-opacity"]);for(var G=0;G<r.groups.length;G++)F=r.groups[G],O=F.vertexStartIndex*w.itemSize,w.bind(f),w.setAttribPointers(f,b,O),N=3*F.elementLength,j=F.elementStartIndex*T.itemSize,f.drawElements(f.TRIANGLES,N,f.UNSIGNED_SHORT,j)}}}var o=t("gl-matrix").mat4,a=t("../util/browser"),s=t("./draw_collision_debug"),l=t("../util/util");e.exports=n;var u={icon:1,text:24}},{"../util/browser":88,"../util/util":99,"./draw_collision_debug":18,"gl-matrix":114}],24:[function(t,e,i){"use strict";function n(){this.frameHistory=[]}e.exports=n,n.prototype.getFadeProperties=function(t){void 0===t&&(t=300);for(var e=(new Date).getTime();this.frameHistory.length>3&&this.frameHistory[1].time+t<e;)this.frameHistory.shift();this.frameHistory[1].time+t<e&&(this.frameHistory[0].z=this.frameHistory[1].z);var i=this.frameHistory.length;3>i&&console.warn("there should never be less than three frames in the history");var n=this.frameHistory[0].z,r=this.frameHistory[i-1],o=r.z,a=Math.min(n,o),s=Math.max(n,o),l=r.z-this.frameHistory[1].z,u=r.time-this.frameHistory[1].time,h=l/(u/t);isNaN(h)&&console.warn("fadedist should never be NaN");var c=(e-r.time)/t*h;return{fadedist:h,minfadezoom:a,maxfadezoom:s,bump:c}},n.prototype.record=function(t){var e=(new Date).getTime();this.frameHistory.length||this.frameHistory.push({time:0,z:t},{time:0,z:t}),2!==this.frameHistory.length&&this.frameHistory[this.frameHistory.length-1].z===t||this.frameHistory.push({time:e,z:t})}},{}],25:[function(t,e,i){"use strict";var n=t("./shaders"),r=t("../util/util");i.extend=function(t){var e=t.lineWidth,i=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE);return t.lineWidth=function(n){e.call(t,r.clamp(n,i[0],i[1]))},t.getShader=function(t,e){var i=e===this.FRAGMENT_SHADER?"fragment":"vertex";if(!n[t]||!n[t][i])throw new Error("Could not find shader "+t);var r=this.createShader(e),o=n[t][i];if(this.shaderSource(r,o),this.compileShader(r),!this.getShaderParameter(r,this.COMPILE_STATUS))throw new Error(t+" "+i+this.getShaderInfoLog(r));return r},t.initializeShader=function(t,e,i){var n={program:this.createProgram(),fragment:this.getShader(t,this.FRAGMENT_SHADER),vertex:this.getShader(t,this.VERTEX_SHADER),attributes:[]};if(this.attachShader(n.program,n.vertex),this.attachShader(n.program,n.fragment),this.linkProgram(n.program),this.getProgramParameter(n.program,this.LINK_STATUS)){for(var r=0;r<e.length;r++)n[e[r]]=this.getAttribLocation(n.program,e[r]),n.attributes.push(n[e[r]]);for(var o=0;o<i.length;o++)n[i[o]]=this.getUniformLocation(n.program,i[o])}else console.error(t+" ERROR: "+this.getProgramInfoLog(n.program));return n},t.switchShader=function(e,i,n){if(this.currentShader!==e){this.useProgram(e.program);for(var r=this.currentShader?this.currentShader.attributes:[],o=e.attributes,a=0;a<r.length;a++)o.indexOf(r[a])<0&&this.disableVertexAttribArray(r[a]);for(var s=0;s<o.length;s++)r.indexOf(o[s])<0&&this.enableVertexAttribArray(o[s]);this.currentShader=e}void 0!==i&&t.setPosMatrix(i),void 0!==n&&t.setExMatrix(n)},t.setPosMatrix=function(t){var e=this.currentShader;e.posMatrix!==t&&(this.uniformMatrix4fv(e.u_matrix,!1,t),e.posMatrix=t)},t.setExMatrix=function(t){var e=this.currentShader;t&&e.exMatrix!==t&&e.u_exmatrix&&(this.uniformMatrix4fv(e.u_exmatrix,!1,t),e.exMatrix=t)},t.vertexAttrib2fv=function(e,i){t.vertexAttrib2f(e,i[0],i[1])},t.vertexAttrib3fv=function(e,i){t.vertexAttrib3f(e,i[0],i[1],i[2])},t.vertexAttrib4fv=function(e,i){t.vertexAttrib4f(e,i[0],i[1],i[2],i[3])},t}},{"../util/util":99,"./shaders":28}],26:[function(t,e,i){"use strict";function n(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}e.exports=n,n.prototype.setSprite=function(t){this.sprite=t},n.prototype.getDash=function(t,e){var i=t.join(",")+e;return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},n.prototype.addDash=function(t,e){var i=e?7:0,n=2*i+1,r=128;if(this.nextRow+n>this.height)return console.warn("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];for(var s=this.width/o,l=s/2,u=t.length%2===1,h=-i;i>=h;h++)for(var c=this.nextRow+i+h,f=this.width*c,d=u?-t[t.length-1]:0,p=t[0],m=1,_=0;_<this.width;_++){for(;_/s>p;)d=p,p+=t[m],u&&m===t.length-1&&(p+=t[0]),m++;var v,g=Math.abs(_-d*s),y=Math.abs(_-p*s),x=Math.min(g,y),b=m%2===1;if(e){var w=i?h/i*(l+1):0;if(b){var T=l-Math.abs(w);v=Math.sqrt(x*x+T*T)}else v=l-Math.sqrt(x*x+w*w)}else v=(b?1:-1)*x;this.data[3+4*(f+_)]=Math.max(0,Math.min(255,v+r))}var S={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:o};return this.nextRow+=n,this.dirty=!0,S},n.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},n.prototype.debug=function(){var t=document.createElement("canvas");document.body.appendChild(t),t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.background="#ff0",t.width=this.width,t.height=this.height;for(var e=t.getContext("2d"),i=e.getImageData(0,0,this.width,this.height),n=0;n<this.data.length;n++)if(this.sdf){var r=4*n;i.data[r]=i.data[r+1]=i.data[r+2]=0,i.data[r+3]=this.data[n]}else i.data[n]=this.data[n];e.putImageData(i,0,0)}},{}],27:[function(t,e,i){"use strict";function n(t,e){this.gl=r.extend(t),this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new s,this.setup(),this.numSublayers=3,this.depthEpsilon=1/Math.pow(2,16)}var r=t("./gl_util"),o=t("../util/browser"),a=t("gl-matrix").mat4,s=t("./frame_history"),l=t("../source/tile_coord"),u=t("../data/buffer").EXTENT;e.exports=n,n.prototype.resize=function(t,e){var i=this.gl;this.width=t*o.devicePixelRatio,this.height=e*o.devicePixelRatio,i.viewport(0,0,this.width,this.height)},n.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1),this.debugShader=t.initializeShader("debug",["a_pos"],["u_matrix","u_color"]),this.rasterShader=t.initializeShader("raster",["a_pos","a_texture_pos"],["u_matrix","u_brightness_low","u_brightness_high","u_saturation_factor","u_spin_weights","u_contrast_factor","u_opacity0","u_opacity1","u_image0","u_image1","u_tl_parent","u_scale_parent","u_buffer_scale"]),this.circleShader=t.initializeShader("circle",["a_pos"],["u_matrix","u_exmatrix","u_blur","u_size","u_color"]),this.lineShader=t.initializeShader("line",["a_pos","a_data"],["u_matrix","u_linewidth","u_color","u_ratio","u_blur","u_extra","u_antialiasingmatrix","u_offset","u_exmatrix"]),this.linepatternShader=t.initializeShader("linepattern",["a_pos","a_data"],["u_matrix","u_linewidth","u_ratio","u_pattern_size_a","u_pattern_size_b","u_pattern_tl_a","u_pattern_br_a","u_pattern_tl_b","u_pattern_br_b","u_blur","u_fade","u_opacity","u_extra","u_antialiasingmatrix","u_offset"]),this.linesdfpatternShader=t.initializeShader("linesdfpattern",["a_pos","a_data"],["u_matrix","u_linewidth","u_color","u_ratio","u_blur","u_patternscale_a","u_tex_y_a","u_patternscale_b","u_tex_y_b","u_image","u_sdfgamma","u_mix","u_extra","u_antialiasingmatrix","u_offset"]),this.sdfShader=t.initializeShader("sdf",["a_pos","a_offset","a_data1","a_data2"],["u_matrix","u_exmatrix","u_texture","u_texsize","u_color","u_gamma","u_buffer","u_zoom","u_fadedist","u_minfadezoom","u_maxfadezoom","u_fadezoom","u_skewed","u_extra"]),this.iconShader=t.initializeShader("icon",["a_pos","a_offset","a_data1","a_data2"],["u_matrix","u_exmatrix","u_texture","u_texsize","u_zoom","u_fadedist","u_minfadezoom","u_maxfadezoom","u_fadezoom","u_opacity","u_skewed","u_extra"]),this.outlineShader=t.initializeShader("outline",["a_pos"],["u_matrix","u_color","u_world"]),this.patternShader=t.initializeShader("pattern",["a_pos"],["u_matrix","u_pattern_tl_a","u_pattern_br_a","u_pattern_tl_b","u_pattern_br_b","u_mix","u_patternscale_a","u_patternscale_b","u_opacity","u_image","u_offset_a","u_offset_b"]),this.fillShader=t.initializeShader("fill",["a_pos"],["u_matrix","u_color"]),this.collisionBoxShader=t.initializeShader("collisionbox",["a_pos","a_extrude","a_data"],["u_matrix","u_scale","u_zoom","u_maxzoom"]),this.identityMatrix=a.create(),this.backgroundBuffer=t.createBuffer(),this.backgroundBuffer.itemSize=2,this.backgroundBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([-1,-1,1,-1,-1,1,1,1]),t.STATIC_DRAW),this.tileExtentBuffer=t.createBuffer(),this.tileExtentBuffer.itemSize=4,this.tileExtentBuffer.itemCount=4,t.bindBuffer(t.ARRAY_BUFFER,this.tileExtentBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,0,0,u,0,32767,0,0,u,0,32767,u,u,32767,32767]),t.STATIC_DRAW),this.debugBuffer=t.createBuffer(),this.debugBuffer.itemSize=2,this.debugBuffer.itemCount=5,t.bindBuffer(t.ARRAY_BUFFER,this.debugBuffer),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,u,0,u,u,0,u,0,0]),t.STATIC_DRAW),this.debugTextBuffer=t.createBuffer(),this.debugTextBuffer.itemSize=2},n.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},n.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},n.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},n.prototype._renderTileClippingMasks=function(t,e){var i=this.gl;i.colorMask(!1,!1,!1,!1),this.depthMask(!1),i.disable(i.DEPTH_TEST),i.enable(i.STENCIL_TEST),i.stencilMask(248),i.stencilOp(i.KEEP,i.KEEP,i.REPLACE);var n=1;this._tileClippingMaskIDs={};for(var r=0;r<t.length;r++){var o=t[r],a=this._tileClippingMaskIDs[o.id]=n++<<3;i.stencilFunc(i.ALWAYS,a,248),i.switchShader(this.fillShader,this.calculatePosMatrix(o,e)),i.bindBuffer(i.ARRAY_BUFFER,this.tileExtentBuffer),i.vertexAttribPointer(this.fillShader.a_pos,this.tileExtentBuffer.itemSize,i.SHORT,!1,8,0),i.drawArrays(i.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount)}i.stencilMask(0),i.colorMask(!0,!0,!0,!0),this.depthMask(!0),i.enable(i.DEPTH_TEST)},n.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},n.prototype.prepareBuffers=function(){},n.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var h={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")};n.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass({isOpaquePass:!0}),this.renderPass({isOpaquePass:!1})},n.prototype.renderPass=function(t){var e=this.style._groups,i=t.isOpaquePass;this.currentLayer=i?this.style._order.length:-1;for(var n=0;n<e.length;n++){var r=e[i?e.length-1-n:n],o=this.style.sources[r.source],a=[];o&&(a=o.getVisibleCoordinates(),this.clearStencil(),o.prepare&&o.prepare(),o.isTileClipped&&this._renderTileClippingMasks(a,o.maxzoom)),i?(this.gl.disable(this.gl.BLEND),this.isOpaquePass=!0):(this.gl.enable(this.gl.BLEND),this.isOpaquePass=!1,a.reverse());for(var s=0;s<r.length;s++){var l=r[i?r.length-1-s:s];this.currentLayer+=i?-1:1,this.renderLayer(this,o,l,a)}o&&h.debug(this,o,a)}},n.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},n.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&h[i.type](t,e,i,n)},n.prototype.drawStencilBuffer=function(){var t=this.gl;t.switchShader(this.fillShader,this.identityMatrix),t.stencilMask(0),t.stencilFunc(t.EQUAL,128,128),t.bindBuffer(t.ARRAY_BUFFER,this.backgroundBuffer),t.vertexAttribPointer(this.fillShader.a_pos,this.backgroundBuffer.itemSize,t.SHORT,!1,0,0),t.uniform4fv(this.fillShader.u_color,[0,0,0,.5]),t.drawArrays(t.TRIANGLE_STRIP,0,this.tileExtentBuffer.itemCount)},n.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=e-1+this.depthRange;this.gl.depthRange(i,e)},n.prototype.translatePosMatrix=function(t,e,i,n){if(!i[0]&&!i[1])return t;if("viewport"===n){var r=Math.sin(-this.transform.angle),o=Math.cos(-this.transform.angle);i=[i[0]*o-i[1]*r,i[0]*r+i[1]*o]}var s=[e.pixelsToTileUnits(i[0],this.transform.zoom),e.pixelsToTileUnits(i[1],this.transform.zoom),0],l=new Float32Array(16);return a.translate(l,t,s),l},n.prototype.calculatePosMatrix=function(t,e){t instanceof l&&(t=t.toCoordinate());var i=this.transform;void 0===e&&(e=1/0);var n=Math.min(t.zoom,e),r=t.column,o=t.row,s=i.worldSize/Math.pow(2,n),h=new Float64Array(16);return a.identity(h),a.translate(h,h,[r*s,o*s,0]),a.scale(h,h,[s/u,s/u,1]),a.multiply(h,i.projMatrix,h),new Float32Array(h)},n.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},n.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null}},{"../data/buffer":6,"../source/tile_coord":35,"../util/browser":88,"./draw_background":16,"./draw_circle":17,"./draw_debug":19,"./draw_fill":20,"./draw_line":21,"./draw_raster":22,"./draw_symbol":23,"./frame_history":24,"./gl_util":25,"gl-matrix":114}],28:[function(t,e,i){"use strict";t("path");e.exports={debug:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\nuniform lowp float u_blur;\n\nvarying vec2 v_extrude;\n\nvoid main() {\n    float t = smoothstep(1.0 - u_blur, 1.0, length(v_extrude));\n    gl_FragColor = u_color * (1.0 - t);\n}\n",vertex:"precision highp float;\n\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform mediump float u_size;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\nvoid main(void) {\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec4 extrude = u_exmatrix * vec4(v_extrude * u_size, 0, 0);\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    // gl_Position is divided by gl_Position.w after this shader runs.\n    // Multiply the extrude by it so that it isn't affected by it.\n    gl_Position += extrude * gl_Position.w;\n}\n"},line:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform lowp vec4 u_color;\nuniform float u_blur;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_ratio;\nuniform mediump vec2 u_linewidth;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linepattern:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform float u_point;\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * u_linewidth.s / u_pattern_size_b.y);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos), texture2D(u_image, pos2), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n}\n",vertex:"precision highp float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump vec2 u_linewidth;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 extrude = a_extrude * scale;\n    mediump vec2 dist = u_linewidth.s * extrude;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linesdfpattern:{fragment:"precision mediump float;\n\nuniform vec2 u_linewidth;\nuniform lowp vec4 u_color;\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * u_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (u_linewidth.t - blur), u_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump vec2 u_linewidth;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec4 dist = vec4(u_linewidth.s * a_extrude * scale, 0.0, 0.0);\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist.xy) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},outline:{fragment:"precision mediump float;\n\nuniform lowp vec4 u_color;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy/gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"
},pattern:{fragment:"precision mediump float;\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n}\n",vertex:"precision highp float;\n\nuniform mat4 u_matrix;\nuniform vec2 u_patternscale_a;\nuniform vec2 u_patternscale_b;\nuniform vec2 u_offset_a;\nuniform vec2 u_offset_b;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos_a = u_patternscale_a * a_pos + u_offset_a;\n    v_pos_b = u_patternscale_b * a_pos + u_offset_b;\n}\n"},raster:{fragment:"precision mediump float;\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n}\n",vertex:"precision highp float;\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},icon:{fragment:"precision mediump float;\n\nuniform sampler2D u_texture;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_tex) * v_alpha;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\n\n\n// matrix is for the vertex position, exmatrix is for rotating and projecting\n// the extrusion vector.\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\nuniform mediump float u_zoom;\nuniform mediump float u_fadedist;\nuniform mediump float u_minfadezoom;\nuniform mediump float u_maxfadezoom;\nuniform mediump float u_fadezoom;\nuniform lowp float u_opacity;\nuniform bool u_skewed;\nuniform float u_extra;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\n\nvoid main() {\n    vec2 a_tex = a_data1.xy;\n    mediump float a_labelminzoom = a_data1[2];\n    mediump vec2 a_zoom = a_data2.st;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    float a_fadedist = 10.0;\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // fade out labels\n    mediump float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\n\n    if (u_fadedist >= 0.0) {\n        v_alpha = alpha;\n    } else {\n        v_alpha = 1.0 - alpha;\n    }\n    if (u_maxfadezoom < a_labelminzoom) {\n        v_alpha = 0.0;\n    }\n    if (u_minfadezoom >= a_labelminzoom) {\n        v_alpha = 1.0;\n    }\n\n    // if label has been faded out, clip it\n    z += step(v_alpha, 0.0);\n\n    if (u_skewed) {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\n    }\n\n    v_tex = a_tex / u_texsize;\n\n    v_alpha *= u_opacity;\n}\n"},sdf:{fragment:"precision mediump float;\n\nuniform sampler2D u_texture;\nuniform lowp vec4 u_color;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * v_alpha;\n    gl_FragColor = u_color * alpha;\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec4 a_data1;\nattribute vec4 a_data2;\n\n\n// matrix is for the vertex position, exmatrix is for rotating and projecting\n// the extrusion vector.\nuniform mat4 u_matrix;\nuniform mat4 u_exmatrix;\n\nuniform mediump float u_zoom;\nuniform mediump float u_fadedist;\nuniform mediump float u_minfadezoom;\nuniform mediump float u_maxfadezoom;\nuniform mediump float u_fadezoom;\nuniform bool u_skewed;\nuniform float u_extra;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_alpha;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_data1.xy;\n    mediump float a_labelminzoom = a_data1[2];\n    mediump vec2 a_zoom = a_data2.st;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // fade out labels\n    mediump float alpha = clamp((u_fadezoom - a_labelminzoom) / u_fadedist, 0.0, 1.0);\n\n    if (u_fadedist >= 0.0) {\n        v_alpha = alpha;\n    } else {\n        v_alpha = 1.0 - alpha;\n    }\n    if (u_maxfadezoom < a_labelminzoom) {\n        v_alpha = 0.0;\n    }\n    if (u_minfadezoom >= a_labelminzoom) {\n        v_alpha = 1.0;\n    }\n\n    // if label has been faded out, clip it\n    z += step(v_alpha, 0.0);\n\n    if (u_skewed) {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, 0, 0);\n        gl_Position = u_matrix * vec4(a_pos + extrude.xy, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        vec4 extrude = u_exmatrix * vec4(a_offset / 64.0, z, 0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + extrude;\n    }\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - y * u_extra);\n    v_gamma_scale = perspective_scale;\n\n    v_tex = a_tex / u_texsize;\n}\n"},collisionbox:{fragment:"precision mediump float;\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertex:"precision highp float;\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n     gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n     v_max_zoom = a_data.x;\n     v_placement_zoom = a_data.y;\n}\n"}}},{path:101}],29:[function(t,e,i){"use strict";function n(t){t=t||{},this._data=t.data,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom);var e=u/this.tileSize;this.geojsonVtOptions={buffer:(void 0!==t.buffer?t.buffer:128)*e,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*e,extent:u,maxZoom:this.maxzoom},this.cluster=t.cluster||!1,this.superclusterOptions={maxZoom:Math.max(t.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:u,radius:(t.clusterRadius||50)*e,log:!1},this._pyramid=new a({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!0,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement.bind(this)})}var r=t("../util/util"),o=t("../util/evented"),a=t("./tile_pyramid"),s=t("./source"),l=t("resolve-url"),u=t("../data/buffer").EXTENT;e.exports=n,n.prototype=r.inherit(o,{minzoom:0,maxzoom:14,tileSize:512,_dirty:!0,isTileClipped:!0,setData:function(t){return this._data=t,this._dirty=!0,this.fire("change"),this.map&&this.update(this.map.transform),this},onAdd:function(t){this.map=t},loaded:function(){return this._loaded&&this._pyramid.loaded()},update:function(t){this._dirty&&this._updateData(),this._loaded&&this._pyramid.update(this.used,t)},reload:function(){this._loaded&&this._pyramid.reload()},serialize:function(){return{type:"geojson",data:this._data}},getVisibleCoordinates:s._getVisibleCoordinates,getTile:s._getTile,featuresAt:s._vectorFeaturesAt,featuresIn:s._vectorFeaturesIn,_updateData:function(){this._dirty=!1;var t=this._data;"string"==typeof t&&"undefined"!=typeof window&&(t=l(window.location.href,t)),this.workerID=this.dispatcher.send("parse geojson",{data:t,tileSize:this.tileSize,source:this.id,geojsonVtOptions:this.geojsonVtOptions,cluster:this.cluster,superclusterOptions:this.superclusterOptions},function(t){this._loaded=!0,t?this.fire("error",{error:t}):(this._pyramid.reload(),this.fire("change"))}.bind(this))},_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID=this.dispatcher.send("load geojson tile",i,function(e,i){if(t.unloadVectorData(this.map.painter),!t.aborted){if(e)return void this.fire("tile.error",{tile:t});t.loadVectorData(i),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire("tile.load",{tile:t})}}.bind(this),this.workerID)},_abortTile:function(t){t.aborted=!0},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:s.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},{"../data/buffer":6,"../util/evented":93,"../util/util":99,"./source":33,"./tile_pyramid":36,"resolve-url":154}],30:[function(t,e,i){"use strict";function n(t){this.features=t,this.length=t.length}function r(t){this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=s}var o=t("point-geometry"),a=t("vector-tile").VectorTileFeature,s=t("../data/buffer").EXTENT;e.exports=n,n.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var i=t[e],n=[],r=0;r<i.length;r++)n.push(new o(i[r][0],i[r][1]));this.geometry.push(n)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-(1/0),n=1/0,r=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},r.prototype.toGeoJSON=a.prototype.toGeoJSON},{"../data/buffer":6,"point-geometry":152,"vector-tile":158}],31:[function(t,e,i){"use strict";function n(t){this.urls=t.urls,this.coordinates=t.coordinates,u.getImage(t.url,function(e,i){e||(this.image=i,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.map&&(this.createTile(t.coordinates),this.fire("change")))}.bind(this))}var r=t("../util/util"),o=t("./tile"),a=t("../geo/lng_lat"),s=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),h=t("../data/buffer").EXTENT;e.exports=n,n.prototype=r.inherit(l,{onAdd:function(t){this.map=t,this.image&&this.createTile()},createTile:function(t){var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),n=this.centerCoord=r.getCoordinatesCenter(i),l=i.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*h),Math.round((e.row-n.row)*h))}),u=e.painter.gl,c=32767,f=new Int16Array([l[0].x,l[0].y,0,0,l[1].x,l[1].y,c,0,l[3].x,l[3].y,0,c,l[2].x,l[2].y,c,c]);this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.tile.boundsBuffer),u.bufferData(u.ARRAY_BUFFER,f,u.STATIC_DRAW)},loaded:function(){return this.image&&this.image.complete},update:function(){},reload:function(){},prepare:function(){if(this._loaded&&this.loaded()){var t=this.map.painter,e=t.gl;this.tile.texture?(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.image)):(this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.image))}},getVisibleCoordinates:function(){return this.centerCoord?[this.centerCoord]:[]},getTile:function(){return this.tile},featuresAt:function(t,e,i){return i(null,[])},featuresIn:function(t,e,i){return i(null,[])},serialize:function(){return{type:"image",urls:this.urls,coordinates:this.coordinates}}})},{"../data/buffer":6,"../geo/lng_lat":11,"../util/ajax":87,"../util/evented":93,"../util/util":99,"./tile":34,"point-geometry":152}],32:[function(t,e,i){"use strict";function n(t){r.extend(this,r.pick(t,["url","tileSize"])),s._loadTileJSON.call(this,t)}var r=t("../util/util"),o=t("../util/ajax"),a=t("../util/evented"),s=t("./source"),l=t("../util/mapbox").normalizeTileURL;e.exports=n,n.prototype=r.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t,this.map.style.rasterFadeDuration)},reload:function(){},serialize:function(){return{type:"raster",url:this.url,tileSize:this.tileSize}},getVisibleCoordinates:s._getVisibleCoordinates,getTile:s._getTile,_loadTile:function(t){function e(e,i){if(delete t.request,!t.aborted){if(e)return t.errored=!0,void this.fire("tile.error",{tile:t,error:e});var n=this.map.painter.gl;t.texture=this.map.painter.getTexture(i.width),t.texture?(n.bindTexture(n.TEXTURE_2D,t.texture),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,i)):(t.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,t.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),t.texture.size=i.width),n.generateMipmap(n.TEXTURE_2D),t.timeAdded=(new Date).getTime(),this.map.animationLoop.set(this.style.rasterFadeDuration),t.source=this,t.loaded=!0,this.fire("tile.load",{tile:t})}}var i=l(t.coord.url(this.tiles),this.url,this.tileSize);t.request=o.getImage(i,e.bind(this))},_abortTile:function(t){t.aborted=!0,t.request&&(t.request.abort(),delete t.request)},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)},featuresAt:function(t,e,i){i(null,[])},featuresIn:function(t,e,i){i(null,[])}})},{"../util/ajax":87,"../util/evented":93,"../util/mapbox":97,"../util/util":99,"./source":33}],33:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../util/ajax"),o=t("../util/browser"),a=t("./tile_pyramid"),s=t("../util/mapbox").normalizeSourceURL,l=t("./tile_coord");i._loadTileJSON=function(t){var e=function(t,e){return t?void this.fire("error",{error:t}):(n.extend(this,n.pick(e,["tiles","minzoom","maxzoom","attribution"])),e.vector_layers&&(this.vectorLayers=e.vector_layers,this.vectorLayerIds=this.vectorLayers.map(function(t){return t.id})),this._pyramid=new a({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom,reparseOverscaled:this.reparseOverscaled,load:this._loadTile.bind(this),abort:this._abortTile.bind(this),unload:this._unloadTile.bind(this),add:this._addTile.bind(this),remove:this._removeTile.bind(this),redoPlacement:this._redoTilePlacement?this._redoTilePlacement.bind(this):void 0}),void this.fire("load"))}.bind(this);t.url?r.getJSON(s(t.url),e):o.frame(e.bind(this,null,t))},i.redoPlacement=function(){if(this._pyramid)for(var t=this._pyramid.orderedIDs(),e=0;e<t.length;e++){var i=this._pyramid.getTile(t[e]);this._redoTilePlacement(i)}},i._getTile=function(t){return this._pyramid.getTile(t.id)},i._getVisibleCoordinates=function(){return this._pyramid?this._pyramid.renderedIDs().map(l.fromID):[]},i._vectorFeaturesAt=function(t,e,i){if(!this._pyramid)return i(null,[]);var n=this._pyramid.tileAt(t);return n?void this.dispatcher.send("query features",{uid:n.tile.uid,x:n.x,y:n.y,scale:n.scale,tileSize:n.tileSize,source:this.id,params:e},i,n.tile.workerID):i(null,[])},i._vectorFeaturesIn=function(t,e,i){if(!this._pyramid)return i(null,[]);var r=this._pyramid.tilesIn(t);return r?void n.asyncAll(r,function(t,i){this.dispatcher.send("query features",{uid:t.tile.uid,source:this.id,minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY,params:e},i,t.tile.workerID)}.bind(this),function(t,e){i(t,Array.prototype.concat.apply([],e))}):i(null,[])},i.create=function(e){var n={vector:t("./vector_tile_source"),raster:t("./raster_tile_source"),geojson:t("./geojson_source"),video:t("./video_source"),image:t("./image_source")};return i.is(e)?e:new n[e.type](e)},i.is=function(e){var i={vector:t("./vector_tile_source"),raster:t("./raster_tile_source"),geojson:t("./geojson_source"),video:t("./video_source"),image:t("./image_source")};for(var n in i)if(e instanceof i[n])return!0;return!1}},{"../util/ajax":87,"../util/browser":88,"../util/mapbox":97,"../util/util":99,"./geojson_source":29,"./image_source":31,"./raster_tile_source":32,"./tile_coord":35,"./tile_pyramid":36,"./vector_tile_source":37,"./video_source":38}],34:[function(t,e,i){"use strict";function n(t,e,i){this.coord=t,this.uid=o.uniqueId(),this.loaded=!1,this.uses=0,this.tileSize=e,this.sourceMaxZoom=i}function r(t){var e={};for(var i in t)e[i]=new a(t[i]);return e}var o=t("../util/util"),a=t("../data/buffer"),s=t("../data/buffer").EXTENT;e.exports=n,n.prototype={pixelsToTileUnits:function(t,e){return t*(s/(this.tileSize*Math.pow(2,e-this.coord.z)))},positionAt:function(t){var e=t.zoomTo(Math.min(this.coord.z,this.sourceMaxZoom));return{x:(e.column-this.coord.x)*s,y:(e.row-this.coord.y)*s}},loadVectorData:function(t){this.loaded=!0,t&&(this.buffers=r(t.buffers),this.elementGroups=t.elementGroups)},reloadSymbolData:function(t,e){if(this.buffers){this.buffers.glyphVertex&&this.buffers.glyphVertex.destroy(e.gl),this.buffers.glyphElement&&this.buffers.glyphElement.destroy(e.gl),this.buffers.iconVertex&&this.buffers.iconVertex.destroy(e.gl),this.buffers.iconElement&&this.buffers.iconElement.destroy(e.gl),this.buffers.collisionBoxVertex&&this.buffers.collisionBoxVertex.destroy(e.gl);var i=r(t.buffers);this.buffers.glyphVertex=i.glyphVertex,this.buffers.glyphElement=i.glyphElement,this.buffers.iconVertex=i.iconVertex,this.buffers.iconElement=i.iconElement,this.buffers.collisionBoxVertex=i.collisionBoxVertex;for(var n in t.elementGroups)this.elementGroups[n]=t.elementGroups[n]}},unloadVectorData:function(t){this.loaded=!1;for(var e in this.buffers)this.buffers[e]&&this.buffers[e].destroy(t.gl);this.elementGroups=null,this.buffers=null},redoPlacement:function(t){function e(e,i){this.reloadSymbolData(i,t.map.painter),t.fire("tile.load",{tile:this}),this.redoingPlacement=!1,this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return!this.loaded||this.redoingPlacement?void(this.redoWhenDone=!0):(this.redoingPlacement=!0,void t.dispatcher.send("redo placement",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,collisionDebug:t.map.collisionDebug},e.bind(this),this.workerID))},getElementGroups:function(t,e){return this.elementGroups&&this.elementGroups[t.ref||t.id]&&this.elementGroups[t.ref||t.id][e]}}},{"../data/buffer":6,"../util/util":99}],35:[function(t,e,i){"use strict";function n(t,e,i,n){isNaN(n)&&(n=0),this.z=+t,this.x=+e,this.y=+i,this.w=+n,n*=2,0>n&&(n=-1*n-1);var r=1<<this.z;this.id=32*(r*r*n+r*this.y+this.x)+this.z}function r(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,i,n,r){var o=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,h=t.dx>0,c=e.dx<0,f=o;a>f;f++){var d=l*Math.max(0,Math.min(t.dy,f+h-t.y0))+t.x0,p=u*Math.max(0,Math.min(e.dy,f+c-e.y0))+e.x0;r(Math.floor(p),Math.ceil(d),f)}}function a(t,e,i,n,a,s){var l,u=r(t,e),h=r(e,i),c=r(i,t);u.dy>h.dy&&(l=u,u=h,h=l),u.dy>c.dy&&(l=u,u=c,c=l),h.dy>c.dy&&(l=h,h=c,c=l),u.dy&&o(c,u,n,a,s),h.dy&&o(c,h,n,a,s)}var s=t("../geo/coordinate");e.exports=n,n.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},n.prototype.toCoordinate=function(){var t=this.z,e=Math.pow(2,t),i=this.y,n=this.x+e*this.w;return new s(n,i,t)},n.fromID=function(t){var e=t%32,i=1<<e,r=(t-e)/32,o=r%i,a=(r-o)/i%i,s=Math.floor(r/(i*i));return s%2!==0&&(s=-1*s-1),s/=2,new n(e,o,a,s)},n.prototype.url=function(t,e){return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}",this.y)},n.prototype.parent=function(t){return 0===this.z?null:this.z>t?new n(this.z-1,this.x,this.y,this.w):new n(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},n.prototype.wrapped=function(){return new n(this.z,this.x,this.y,0)},n.prototype.children=function(t){if(this.z>=t)return[new n(this.z+1,this.x,this.y,this.w)];var e=this.z+1,i=2*this.x,r=2*this.y;return[new n(e,i,r,this.w),new n(e,i+1,r,this.w),new n(e,i,r+1,this.w),new n(e,i+1,r+1,this.w)]},n.cover=function(t,e,i){function r(t,e,r){var a,l,u;if(r>=0&&o>=r)for(a=t;e>a;a++)l=(a%o+o)%o,u=new n(i,l,r,Math.floor(a/o)),s[u.id]=u}var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,r),a(e[2],e[3],e[0],0,o,r),Object.keys(s).map(function(t){return s[t]})}},{"../geo/coordinate":10}],36:[function(t,e,i){"use strict";function n(t){this.tileSize=t.tileSize,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.roundZoom=t.roundZoom,this.reparseOverscaled=t.reparseOverscaled,this._load=t.load,this._abort=t.abort,this._unload=t.unload,this._add=t.add,this._remove=t.remove,this._redoPlacement=t.redoPlacement,this._tiles={},this._cache=new l(0,function(t){return this._unload(t)}.bind(this)),this._filterRendered=this._filterRendered.bind(this)}function r(t,e){return t%32-e%32}var o=t("./tile"),a=t("./tile_coord"),s=t("point-geometry"),l=t("../util/lru_cache"),u=t("../util/util"),h=t("../data/buffer").EXTENT;e.exports=n,n.prototype={loaded:function(){for(var t in this._tiles)if(!this._tiles[t].loaded&&!this._tiles[t].errored)return!1;return!0},orderedIDs:function(){return Object.keys(this._tiles).map(Number).sort(r)},renderedIDs:function(){return this.orderedIDs().filter(this._filterRendered)},_filterRendered:function(t){return this._tiles[t].loaded&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles)this._load(this._tiles[t])},getTile:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+Math.log(t.tileSize/this.tileSize)/Math.LN2},coveringZoomLevel:function(t){return(this.roundZoom?Math.round:Math.floor)(this.getZoom(t))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),i=e;if(e<this.minzoom)return[];e>this.maxzoom&&(e=this.maxzoom);var n=t,r=n.locationCoordinate(n.center)._zoomTo(e),o=new s(r.column-.5,r.row-.5);return a.cover(e,[n.pointCoordinate(new s(0,0))._zoomTo(e),n.pointCoordinate(new s(n.width,0))._zoomTo(e),n.pointCoordinate(new s(n.width,n.height))._zoomTo(e),n.pointCoordinate(new s(0,n.height))._zoomTo(e)],this.reparseOverscaled?i:e).sort(function(t,e){return o.dist(t)-o.dist(e)})},findLoadedChildren:function(t,e,i){var n=!1;for(var r in this._tiles){var o=this._tiles[r];if(!(i[r]||!o.loaded||o.coord.z<=t.z||o.coord.z>e)){var a=Math.pow(2,Math.min(o.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(o.coord.x/a)===t.x&&Math.floor(o.coord.y/a)===t.y)for(i[r]=!0,n=!0;o&&o.coord.z-1>t.z;){var s=o.coord.parent(this.maxzoom).id;o=this._tiles[s],o&&o.loaded&&(delete i[r],i[s]=!0)}}}return n},findLoadedParent:function(t,e,i){for(var n=t.z-1;n>=e;n--){t=t.parent(this.maxzoom);var r=this._tiles[t.id];if(r&&r.loaded)return i[t.id]=!0,r;if(this._cache.has(t.id))return this.addTile(t),i[t.id]=!0,this._tiles[t.id]}},updateCacheSize:function(t){var e=Math.ceil(t.width/t.tileSize)+1,i=Math.ceil(t.height/t.tileSize)+1,n=e*i,r=5;this._cache.setMaxSize(Math.floor(n*r))},update:function(t,e,i){var n,r,o;this.updateCacheSize(e);var s=(this.roundZoom?Math.round:Math.floor)(this.getZoom(e)),l=Math.max(s-10,this.minzoom),h=Math.max(s+3,this.minzoom),c={},f=(new Date).getTime();this._coveredTiles={};var d=t?this.coveringTiles(e):[];for(n=0;n<d.length;n++)r=d[n],o=this.addTile(r),c[r.id]=!0,o.loaded||this.findLoadedChildren(r,h,c)||this.findLoadedParent(r,l,c);for(var p={},m=Object.keys(c),_=0;_<m.length;_++){var v=m[_];r=a.fromID(v),o=this._tiles[v],o&&o.timeAdded>f-(i||0)&&(this.findLoadedChildren(r,h,c)&&(c[v]=!0),this.findLoadedParent(r,l,p))}var g;for(g in p)c[g]||(this._coveredTiles[g]=!0);for(g in p)c[g]=!0;var y=u.keysDifference(this._tiles,c);for(n=0;n<y.length;n++)this.removeTile(+y[n]);this.transform=e},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var i=t.wrapped();if(e=this._tiles[i.id],e||(e=this._cache.get(i.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var n=t.z,r=n>this.maxzoom?Math.pow(2,n-this.maxzoom):1;e=new o(i,this.tileSize*r,this.maxzoom),this._load(e)}return e.uses++,this._tiles[t.id]=e,this._add(e,t),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._remove(e),e.uses>0||(e.loaded?this._cache.add(e.coord.wrapped().id,e):(this._abort(e),this._unload(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tileAt:function(t){for(var e=this.orderedIDs(),i=0;i<e.length;i++){var n=this._tiles[e[i]],r=n.positionAt(t);if(r&&r.x>=0&&r.x<h&&r.y>=0&&r.y<h)return{tile:n,x:r.x,y:r.y,scale:Math.pow(2,this.transform.zoom-n.coord.z),tileSize:n.tileSize}}},tilesIn:function(t){for(var e=[],i=this.orderedIDs(),n=0;n<i.length;n++){var r=this._tiles[i[n]],o=[r.positionAt(t[0]),r.positionAt(t[1])];o[0].x<h&&o[0].y<h&&o[1].x>=0&&o[1].y>=0&&e.push({tile:r,minX:o[0].x,maxX:o[1].x,minY:o[0].y,maxY:o[1].y})}return e}}},{"../data/buffer":6,"../util/lru_cache":96,"../util/util":99,"./tile":34,"./tile_coord":35,"point-geometry":152}],37:[function(t,e,i){"use strict";function n(t){if(r.extend(this,r.pick(t,["url","tileSize"])),this._options=r.extend({type:"vector"},t),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a._loadTileJSON.call(this,t)}var r=t("../util/util"),o=t("../util/evented"),a=t("./source"),s=t("../util/mapbox").normalizeTileURL;e.exports=n,n.prototype=r.inherit(o,{minzoom:0,maxzoom:22,tileSize:512,reparseOverscaled:!0,_loaded:!1,isTileClipped:!0,onAdd:function(t){this.map=t},loaded:function(){return this._pyramid&&this._pyramid.loaded()},update:function(t){this._pyramid&&this._pyramid.update(this.used,t)},reload:function(){this._pyramid&&this._pyramid.reload()},serialize:function(){return r.extend({},this._options)},getVisibleCoordinates:a._getVisibleCoordinates,getTile:a._getTile,featuresAt:a._vectorFeaturesAt,featuresIn:a._vectorFeaturesIn,_loadTile:function(t){var e=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={url:s(t.coord.url(this.tiles,this.maxzoom),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*e,source:this.id,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,collisionDebug:this.map.collisionDebug};t.workerID?this.dispatcher.send("reload tile",i,this._tileLoaded.bind(this,t),t.workerID):t.workerID=this.dispatcher.send("load tile",i,this._tileLoaded.bind(this,t))},_tileLoaded:function(t,e,i){if(!t.aborted){if(e)return t.errored=!0,void this.fire("tile.error",{tile:t,error:e});t.loadVectorData(i),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),this.fire("tile.load",{tile:t}),this.fire("tile.stats",i.bucketStats)}},_abortTile:function(t){t.aborted=!0,this.dispatcher.send("abort tile",{uid:t.uid,source:this.id},null,t.workerID)},_addTile:function(t){this.fire("tile.add",{tile:t})},_removeTile:function(t){this.fire("tile.remove",{tile:t})},_unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)},redoPlacement:a.redoPlacement,_redoTilePlacement:function(t){t.redoPlacement(this)}})},{"../util/evented":93,"../util/mapbox":97,"../util/util":99,"./source":33}],38:[function(t,e,i){"use strict";function n(t){this.urls=t.urls,this.coordinates=t.coordinates,u.getVideo(t.urls,function(e,i){if(!e){this.video=i,this.video.loop=!0;var n;this.video.addEventListener("playing",function(){n=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(n)}.bind(this)),this._loaded=!0,this.map&&(this.video.play(),this.createTile(t.coordinates),this.fire("change"))}}.bind(this))}var r=t("../util/util"),o=t("./tile"),a=t("../geo/lng_lat"),s=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),h=t("../data/buffer").EXTENT;e.exports=n,n.prototype=r.inherit(l,{roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map=t,this.video&&(this.video.play(),this.createTile())},createTile:function(t){var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),n=this.centerCoord=r.getCoordinatesCenter(i),l=i.map(function(t){var e=t.zoomTo(n.zoom);return new s(Math.round((e.column-n.column)*h),Math.round((e.row-n.row)*h))}),u=e.painter.gl,c=32767,f=new Int16Array([l[0].x,l[0].y,0,0,l[1].x,l[1].y,c,0,l[3].x,l[3].y,0,c,l[2].x,l[2].y,c,c]);this.tile=new o,this.tile.buckets={},this.tile.boundsBuffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.tile.boundsBuffer),u.bufferData(u.ARRAY_BUFFER,f,u.STATIC_DRAW)},loaded:function(){return this.video&&this.video.readyState>=2},update:function(){},reload:function(){},prepare:function(){if(this._loaded&&!(this.video.readyState<2)){var t=this.map.painter.gl;this.tile.texture?(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),
t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)),this._currentTime=this.video.currentTime}},getVisibleCoordinates:function(){return this.centerCoord?[this.centerCoord]:[]},getTile:function(){return this.tile},featuresAt:function(t,e,i){return i(null,[])},featuresIn:function(t,e,i){return i(null,[])},serialize:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}})},{"../data/buffer":6,"../geo/lng_lat":11,"../util/ajax":87,"../util/evented":93,"../util/util":99,"./tile":34,"point-geometry":152}],39:[function(t,e,i){"use strict";function n(t){this.self=t,this.actor=new r(t,this),this.loading={},this.loaded={},this.layers=[],this.geoJSONIndexes={}}var r=t("../util/actor"),o=t("./worker_tile"),a=t("../util/util"),s=t("../util/ajax"),l=t("vector-tile"),u=t("pbf"),h=t("supercluster"),c=t("geojson-vt"),f=t("./geojson_wrapper");e.exports=function(t){return new n(t)},a.extend(n.prototype,{"set layers":function(t){this.layers=t},"update layers":function(t){var e,i={};for(e=0;e<t.length;e++)i[t[e].id]=t[e];for(e=0;e<this.layers.length;e++)this.layers[e]=i[this.layers[e].id]||this.layers[e]},"load tile":function(t,e){function i(t,i){return delete this.loading[n][r],t?e(t):(a.data=new l.VectorTile(new u(new Uint8Array(i))),a.parse(a.data,this.layers,this.actor,e),this.loaded[n]=this.loaded[n]||{},void(this.loaded[n][r]=a))}var n=t.source,r=t.uid;this.loading[n]||(this.loading[n]={});var a=this.loading[n][r]=new o(t);a.xhr=s.getArrayBuffer(t.url,i.bind(this))},"reload tile":function(t,e){var i=this.loaded[t.source],n=t.uid;if(i&&i[n]){var r=i[n];r.parse(r.data,this.layers,this.actor,e)}},"abort tile":function(t){var e=this.loading[t.source],i=t.uid;e&&e[i]&&(e[i].xhr.abort(),delete e[i])},"remove tile":function(t){var e=this.loaded[t.source],i=t.uid;e&&e[i]&&delete e[i]},"redo placement":function(t,e){var i=this.loaded[t.source],n=this.loading[t.source],r=t.uid;if(i&&i[r]){var o=i[r],a=o.redoPlacement(t.angle,t.pitch,t.collisionDebug);a.result&&e(null,a.result,a.transferables)}else n&&n[r]&&(n[r].angle=t.angle)},"parse geojson":function(t,e){var i=function(i,n){if(i)return e(i);if("object"!=typeof n)return e(new Error("Input data is not a valid GeoJSON object."));try{this.geoJSONIndexes[t.source]=t.cluster?h(t.superclusterOptions).load(n.features):c(n,t.geojsonVtOptions)}catch(i){return e(i)}e(null)}.bind(this);"string"==typeof t.data?s.getJSON(t.data,i):i(null,t.data)},"load geojson tile":function(t,e){var i=t.source,n=t.coord;if(!this.geoJSONIndexes[i])return e(null,null);var r=this.geoJSONIndexes[i].getTile(Math.min(n.z,t.maxZoom),n.x,n.y);if(!r)return e(null,null);var a=new o(t);a.parse(new f(r.features),this.layers,this.actor,e),this.loaded[i]=this.loaded[i]||{},this.loaded[i][t.uid]=a},"query features":function(t,e){var i=this.loaded[t.source]&&this.loaded[t.source][t.uid];i?i.featureTree.query(t,e):e(null,[])}})},{"../util/actor":86,"../util/ajax":87,"../util/util":99,"./geojson_wrapper":30,"./worker_tile":40,"geojson-vt":109,pbf:150,supercluster:156,"vector-tile":158}],40:[function(t,e,i){"use strict";function n(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.collisionDebug=t.collisionDebug}function r(t){for(var e={},i=0;i<t.length;i++)e[t[i].id]=t[i].elementGroups;return e}function o(t){var e=[];for(var i in t)e.push(t[i].arrayBuffer),t[i].push=null;return e}var a=t("../data/feature_tree"),s=t("../symbol/collision_tile"),l=t("../data/bucket");e.exports=n,n.prototype.parse=function(t,e,i,n){function u(t,e){for(var i=0;i<t.length;i++){var n=t.feature(i);for(var r in e)e[r].filter(n)&&e[r].features.push(n)}}function h(t){if(t)return n(t);if(P++,2===P){for(var e=T.length-1;e>=0;e--)c(g,T[e]);f()}}function c(t,e){var i=Date.now();e.addFeatures(M,I,D);var n=Date.now()-i;if(e.interactive)for(var r=0;r<e.features.length;r++){var o=e.features[r];t.featureTree.insert(o.bbox(),e.layers,o)}e.features=null,v._total+=n,v[e.id]=(v[e.id]||0)+n}function f(){if(g.status="done",g.redoPlacementAfterDone){var t=g.redoPlacement(g.angle,g.pitch).result;y.glyphVertex=t.buffers.glyphVertex,y.iconVertex=t.buffers.iconVertex,y.collisionBoxVertex=t.buffers.collisionBoxVertex,g.redoPlacementAfterDone=!1}n(null,{elementGroups:r(w),buffers:y,bucketStats:v},o(y))}this.status="parsing",this.featureTree=new a(this.coord,this.overscaling);var d,p,m,_,v={_total:0},g=this,y={},x={},b={};for(d=0;d<e.length;d++)p=e[d],p.source===this.source&&(p.ref||p.minzoom&&this.zoom<p.minzoom||p.maxzoom&&this.zoom>=p.maxzoom||p.layout&&"none"===p.layout.visibility||(_=l.create({layer:p,buffers:y,zoom:this.zoom,overscaling:this.overscaling,collisionDebug:this.collisionDebug}),x[p.id]=_,t.layers&&(m=p["source-layer"],b[m]=b[m]||{},b[m][p.id]=_)));for(d=0;d<e.length;d++)p=e[d],p.source===this.source&&p.ref&&x[p.ref]&&x[p.ref].layers.push(p.id);if(t.layers)for(m in b)p=t.layers[m],p&&u(p,b[m]);else u(t,x);var w=[],T=this.symbolBuckets=[],S=[],M=new s(this.angle,this.pitch);for(var E in x)_=x[E],0!==_.features.length&&(w.push(_),"symbol"===_.type?T.push(_):S.push(_));var D={},I={},P=0;if(T.length>0){for(d=T.length-1;d>=0;d--)T[d].updateIcons(D),T[d].updateFont(I);for(var z in I)I[z]=Object.keys(I[z]).map(Number);D=Object.keys(D),i.send("get glyphs",{uid:this.uid,stacks:I},function(t,e){I=e,h(t)}),D.length?i.send("get icons",{icons:D},function(t,e){D=e,h(t)}):h()}for(d=S.length-1;d>=0;d--)c(this,S[d]);return 0===T.length?f():void 0},n.prototype.redoPlacement=function(t,e,i){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var n={},a=new s(t,e),l=this.symbolBuckets.length-1;l>=0;l--)this.symbolBuckets[l].placeFeatures(a,n,i);return{result:{elementGroups:r(this.symbolBuckets),buffers:n},transferables:o(n)}}},{"../data/bucket":1,"../data/feature_tree":8,"../symbol/collision_tile":62}],41:[function(t,e,i){"use strict";function n(){this.n=0,this.times=[]}e.exports=n,n.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},n.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},n.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},{}],42:[function(t,e,i){"use strict";function n(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?"@2x":"";a.getJSON(l(t,e,".json"),function(t,e){return t?void this.fire("error",{error:t}):(this.data=e,void(this.img&&this.fire("load")))}.bind(this)),a.getImage(l(t,e,".png"),function(t,e){if(t)return void this.fire("error",{error:t});for(var i=e.getData(),n=e.data=new Uint8Array(i.length),r=0;r<i.length;r+=4){var o=i[r+3]/255;n[r+0]=i[r+0]*o,n[r+1]=i[r+1]*o,n[r+2]=i[r+2]*o,n[r+3]=i[r+3]}this.img=e,this.data&&this.fire("load")}.bind(this))}function r(){}var o=t("../util/evented"),a=t("../util/ajax"),s=t("../util/browser"),l=t("../util/mapbox").normalizeSpriteURL;e.exports=n,n.prototype=Object.create(o),n.prototype.toJSON=function(){return this.base},n.prototype.loaded=function(){return!(!this.data||!this.img)},n.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new n(this.base);t.on("load",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},r.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},n.prototype.getSpritePosition=function(t){if(!this.loaded())return new r;var e=this.data&&this.data[t];return e&&this.img?e:new r}},{"../util/ajax":87,"../util/browser":88,"../util/evented":93,"../util/mapbox":97}],43:[function(t,e,i){"use strict";function n(t){if(l[t])return l[t];if(Array.isArray(t))return t;if(t&&t.stops)return s.extend({},t,{stops:t.stops.map(r)});if("string"==typeof t){var e=a(t);if(!e)throw new Error("Invalid color "+t);var i=o(e);return l[t]=i,i}throw new Error("Invalid color "+t)}function r(t){return[t[0],n(t[1])]}function o(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]/1]}var a=t("csscolorparser").parseCSSColor,s=t("../util/util"),l={};e.exports=n},{"../util/util":99,csscolorparser:105}],44:[function(t,e,i){"use strict";function n(t,e){this.animationLoop=e||new _,this.dispatcher=new m(Math.max(p.hardwareConcurrency-1,1),this),this.spriteAtlas=new u(512,512),this.lineAtlas=new h(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},c.bindAll(["_forwardSourceEvent","_forwardTileEvent","_forwardLayerEvent","_redoPlacement"],this);var i=function(t,e){if(t)return void this.fire("error",{error:t});if(!v.emitErrors(this,v(e))){this._loaded=!0,this.stylesheet=e;var i=e.sources;for(var n in i)this.addSource(n,i[n]);e.sprite&&(this.sprite=new s(e.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new l(e.glyphs),this._resolve(),this.fire("load")}}.bind(this);"string"==typeof t?f.getJSON(d(t),i):p.frame(i.bind(this,null,t)),this.on("source.load",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var i in this._layers){var n=this._layers[i];n.source===e.id&&this._validateLayer(n)}})}var r=t("../util/evented"),o=t("./style_batch"),a=t("./style_layer"),s=t("./image_sprite"),l=t("../symbol/glyph_source"),u=t("../symbol/sprite_atlas"),h=t("../render/line_atlas"),c=t("../util/util"),f=t("../util/ajax"),d=t("../util/mapbox").normalizeStyleURL,p=t("../util/browser"),m=t("../util/dispatcher"),_=t("./animation_loop"),v=t("./validate_style");e.exports=n,n.prototype=c.inherit(r,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t.sourceLayer&&e&&e.vectorLayerIds&&-1===e.vectorLayerIds.indexOf(t.sourceLayer)&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+e.id+'" as specified by style layer "'+t.id+'"')})},loaded:function(){if(!this._loaded)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return!this.sprite||this.sprite.loaded()},_resolve:function(){var t,e;this._layers={},this._order=this.stylesheet.layers.map(function(t){return t.id});for(var i=0;i<this.stylesheet.layers.length;i++)e=this.stylesheet.layers[i],e.ref||(t=a.create(e),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent));for(var n=0;n<this.stylesheet.layers.length;n++)if(e=this.stylesheet.layers[n],e.ref){var r=this.getLayer(e.ref);t=a.create(e,r),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent)}this._groupLayers(),this._broadcastLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var i=this._layers[this._order[e]];t&&i.source===t.source||(t=[],t.source=i.source,this._groups.push(t)),t.push(i)}},_broadcastLayers:function(t){this.dispatcher.broadcast(t?"update layers":"set layers",this._serializeLayers(t))},_serializeLayers:function(t){t=t||this._order;for(var e=[],i={includeRefProperties:!0},n=0;n<t.length;n++)e.push(this._layers[t[n]].serialize(i));return e},_cascade:function(t,e){if(this._loaded){e=e||{transition:!0};for(var i in this._layers)this._layers[i].cascade(t,e,this.stylesheet.transition||{},this.animationLoop);this.fire("change")}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(var i in this._layers){var n=this._layers[i];n.recalculate(t,this.zoomHistory),!n.isHidden(t)&&n.source&&(this.sources[n.source].used=!0)}var r=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(r),this.z=t,this.fire("zoom")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},batch:function(t){o(this,t)},addSource:function(t,e){return this.batch(function(i){i.addSource(t,e)}),this},removeSource:function(t){return this.batch(function(e){e.removeSource(t)}),this},getSource:function(t){return this.sources[t]},addLayer:function(t,e){return this.batch(function(i){i.addLayer(t,e)}),this},removeLayer:function(t){return this.batch(function(e){e.removeLayer(t)}),this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setFilter:function(t,e){return this.batch(function(i){i.setFilter(t,e)}),this},setLayerZoomRange:function(t,e,i){return this.batch(function(n){n.setLayerZoomRange(t,e,i)}),this},getFilter:function(t){return this.getReferentLayer(t).filter},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},getPaintProperty:function(t,e,i){return this.getLayer(t).getPaintProperty(e,i)},serialize:function(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sources,function(t){return t.serialize()}),layers:this._order.map(function(t){return this._layers[t].serialize()},this)},function(t){return void 0!==t})},featuresAt:function(t,e,i){this._queryFeatures("featuresAt",t,e,i)},featuresIn:function(t,e,i){this._queryFeatures("featuresIn",t,e,i)},_queryFeatures:function(t,e,i,n){var r=[],o=null;i.layer&&(i.layerIds=Array.isArray(i.layer)?i.layer:[i.layer]),c.asyncAll(Object.keys(this.sources),function(n,a){var s=this.sources[n];s[t](e,i,function(t,e){e&&(r=r.concat(e)),t&&(o=t),a()})}.bind(this),function(){return o?n(o):void n(null,r.filter(function(t){return void 0!==this._layers[t.layer]}.bind(this)).map(function(t){return t.layer=this._layers[t.layer].serialize({includeRefProperties:!0}),t}.bind(this)))}.bind(this))},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire("source."+t.type,c.extend({source:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,c.extend({source:t.target},t))},_forwardLayerEvent:function(t){this.fire("layer."+t.type,c.extend({layer:{id:t.target.id}},t))},"get sprite json":function(t,e){var i=this.sprite;i.loaded()?e(null,{sprite:i.data,retina:i.retina}):i.on("load",function(){e(null,{sprite:i.data,retina:i.retina})})},"get icons":function(t,e){var i=this.sprite,n=this.spriteAtlas;i.loaded()?(n.setSprite(i),n.addIcons(t.icons,e)):i.on("load",function(){n.setSprite(i),n.addIcons(t.icons,e)})},"get glyphs":function(t,e){function i(t,i,n){t&&console.error(t),o[n]=i,r--,0===r&&e(null,o)}var n=t.stacks,r=Object.keys(n).length,o={};for(var a in n)this.glyphSource.getSimpleGlyphs(a,n[a],t.uid,i)}})},{"../render/line_atlas":26,"../symbol/glyph_source":65,"../symbol/sprite_atlas":70,"../util/ajax":87,"../util/browser":88,"../util/dispatcher":90,"../util/evented":93,"../util/mapbox":97,"../util/util":99,"./animation_loop":41,"./image_sprite":42,"./style_batch":45,"./style_layer":47,"./validate_style":56}],45:[function(t,e,i){"use strict";function n(t,e){if(!t._loaded)throw new Error("Style is not done loading");var i=Object.create(n.prototype);if(i._style=t,i._groupLayers=!1,i._updateAllLayers=!1,i._updatedLayers={},i._updatedSources={},i._events=[],i._change=!1,e(i),i._groupLayers&&i._style._groupLayers(),i._updateAllLayers)i._style._broadcastLayers();else{var r=Object.keys(i._updatedLayers);r.length&&i._style._broadcastLayers(r)}Object.keys(i._updatedSources).forEach(function(t){i._style._reloadSource(t)}),i._events.forEach(function(t){i._style.fire.apply(i._style,t)}),i._change&&i._style.fire("change")}var r=t("../source/source"),o=t("./style_layer"),a=t("./validate_style"),s=t("./style_spec"),l=t("../util/util");n.prototype={addLayer:function(t,e){if(!(t instanceof o)){if(a.emitErrors(this._style,a.layer({key:"layers."+t.id,value:t,style:this._style.serialize(),styleSpec:s,arrayIndex:-1})))return this;var i=t.ref&&this._style.getLayer(t.ref);t=o.create(t,i)}return this._style._validateLayer(t),t.on("error",this._style._forwardLayerEvent),this._style._layers[t.id]=t,this._style._order.splice(e?this._style._order.indexOf(e):1/0,0,t.id),this._groupLayers=!0,this._updateAllLayers=!0,t.source&&(this._updatedSources[t.source]=!0),this._events.push(["layer.add",{layer:t}]),this._change=!0,this},removeLayer:function(t){var e=this._style._layers[t];if(void 0===e)throw new Error("There is no layer with this ID");for(var i in this._style._layers)this._style._layers[i].ref===t&&this.removeLayer(i);return e.off("error",this._style._forwardLayerEvent),delete this._style._layers[t],this._style._order.splice(this._style._order.indexOf(t),1),this._groupLayers=!0,this._updateAllLayers=!0,this._events.push(["layer.remove",{layer:e}]),this._change=!0,this},setPaintProperty:function(t,e,i,n){return this._style.getLayer(t).setPaintProperty(e,i,n),this._change=!0,this},setLayoutProperty:function(t,e,i){var n=this._style.getReferentLayer(t);return n.getLayoutProperty(e)===i?this:(n.setLayoutProperty(e,i),this._updatedLayers[t]=!0,n.source&&(this._updatedSources[n.source]=!0),this._change=!0,this)},setFilter:function(t,e){if(a.emitErrors(this._style,a.filter({key:"layers."+t+".filter",value:e,style:this._style.serialize(),styleSpec:s})))return this;var i=this._style.getReferentLayer(t);return l.deepEqual(i.filter,e)?this:(i.filter=e,this._updatedLayers[t]=!0,i.source&&(this._updatedSources[i.source]=!0),this._change=!0,this)},setLayerZoomRange:function(t,e,i){var n=this._style.getReferentLayer(t);return n.minzoom===e&&n.maxzoom===i?this:(null!=e&&(n.minzoom=e),null!=i&&(n.maxzoom=i),this._updatedLayers[t]=!0,n.source&&(this._updatedSources[n.source]=!0),this._change=!0,this)},addSource:function(t,e){if(!this._style._loaded)throw new Error("Style is not done loading");if(void 0!==this._style.sources[t])throw new Error("There is already a source with this ID");return!r.is(e)&&a.emitErrors(this._style,a.source({key:"sources."+t,style:this._style.serialize(),value:e,styleSpec:s}))?this:(e=r.create(e),this._style.sources[t]=e,e.id=t,e.style=this._style,e.dispatcher=this._style.dispatcher,e.on("load",this._style._forwardSourceEvent).on("error",this._style._forwardSourceEvent).on("change",this._style._forwardSourceEvent).on("tile.add",this._style._forwardTileEvent).on("tile.load",this._style._forwardTileEvent).on("tile.error",this._style._forwardTileEvent).on("tile.remove",this._style._forwardTileEvent).on("tile.stats",this._style._forwardTileEvent),this._events.push(["source.add",{source:e}]),this._change=!0,this)},removeSource:function(t){if(void 0===this._style.sources[t])throw new Error("There is no source with this ID");var e=this._style.sources[t];return delete this._style.sources[t],e.off("load",this._style._forwardSourceEvent).off("error",this._style._forwardSourceEvent).off("change",this._style._forwardSourceEvent).off("tile.add",this._style._forwardTileEvent).off("tile.load",this._style._forwardTileEvent).off("tile.error",this._style._forwardTileEvent).off("tile.remove",this._style._forwardTileEvent).off("tile.stats",this._style._forwardTileEvent),this._events.push(["source.remove",{source:e}]),this._change=!0,this}},e.exports=n},{"../source/source":33,"../util/util":99,"./style_layer":47,"./style_spec":54,"./validate_style":56}],46:[function(t,e,i){"use strict";function n(t,e){this.type=t.type,this.transitionable=t.transition,this.value=e,this.json=JSON.stringify(this.value);var i="color"===this.type?a(this.value):e;"interpolated"===t["function"]?this.calculate=o.interpolated(i):(this.calculate=o["piecewise-constant"](i),t.transition&&(this.calculate=r(this.calculate)))}function r(t){return function(e,i,n){var r,o,a,s=e%1,l=Math.min((Date.now()-i.lastIntegerZoomTime)/n,1),u=1,h=1;return e>i.lastIntegerZoom?(r=s+(1-s)*l,u*=2,o=t(e-1),a=t(e)):(r=1-(1-l)*s,a=t(e),o=t(e+1),u/=2),{from:o,fromScale:u,to:a,toScale:h,t:r}}}var o=t("mapbox-gl-function"),a=t("./parse_color");e.exports=n},{"./parse_color":43,"mapbox-gl-function":124}],47:[function(t,e,i){"use strict";function n(t,e){this.id=t.id,this.ref=t.ref,this.metadata=t.metadata,this.type=(e||t).type,this.source=(e||t).source,this.sourceLayer=(e||t)["source-layer"],this.minzoom=(e||t).minzoom,this.maxzoom=(e||t).maxzoom,this.filter=(e||t).filter,this.interactive=(e||t).interactive,this._paintSpecifications=l["paint_"+this.type],this._layoutSpecifications=l["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={};for(var i in t){var n=i.match(/^paint(?:\.(.*))?$/);if(n){var r=n[1]||"";for(var o in t[i])this.setPaintProperty(o,t[i][o],r)}}if(this.ref)this._layoutDeclarations=e._layoutDeclarations;else for(var a in t.layout)this.setLayoutProperty(a,t.layout[a])}function r(t){return t.value}var o=t("../util/util"),a=t("./style_transition"),s=t("./style_declaration"),l=t("./style_spec"),u=t("./validate_style"),h=t("./parse_color"),c=t("../util/evented");e.exports=n;var f="-transition";n.create=function(e,i){var n={background:t("./style_layer/background_style_layer"),circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),line:t("./style_layer/line_style_layer"),raster:t("./style_layer/raster_style_layer"),symbol:t("./style_layer/symbol_style_layer")};return new n[(i||e).type](e,i)},n.prototype=o.inherit(c,{setLayoutProperty:function(t,e){if(null==e)delete this._layoutDeclarations[t];else{if(u.emitErrors(this,u.layoutProperty({key:"layers."+this.id+".layout."+t,layerType:this.type,objectKey:t,value:e,styleSpec:l})))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}},getLayoutProperty:function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},getLayoutValue:function(t,e,i){var n=this._layoutSpecifications[t],r=this._layoutDeclarations[t];return r?r.calculate(e,i):n["default"]},setPaintProperty:function(t,e,i){var n="layers."+this.id+(i?'["paint.'+i+'"].':".paint.")+t;if(o.endsWith(t,f))if(this._paintTransitionOptions[i||""]||(this._paintTransitionOptions[i||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[i||""][t];else{if(u.emitErrors(this,u.paintProperty({key:n,layerType:this.type,objectKey:t,value:e,styleSpec:l})))return;this._paintTransitionOptions[i||""][t]=e}else if(this._paintDeclarations[i||""]||(this._paintDeclarations[i||""]={}),null===e||void 0===e)delete this._paintDeclarations[i||""][t];else{if(u.emitErrors(this,u.paintProperty({key:n,layerType:this.type,objectKey:t,value:e,styleSpec:l})))return;this._paintDeclarations[i||""][t]=new s(this._paintSpecifications[t],e)}},getPaintProperty:function(t,e){return e=e||"",o.endsWith(t,f)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},getPaintValue:function(t,e,i){var n=this._paintSpecifications[t],r=this._paintTransitions[t];return r?r.at(e,i):"color"===n.type&&n["default"]?h(n["default"]):n["default"]},isHidden:function(t){if(this.minzoom&&t<this.minzoom)return!0;if(this.maxzoom&&t>=this.maxzoom)return!0;if("none"===this.getLayoutValue("visibility"))return!0;var e=this.type+"-opacity";return!(!this._paintSpecifications[e]||0!==this.getPaintValue(e))},cascade:function(t,e,i,n){function r(t,r){var s=e.transition?l[t]:void 0;if(s&&s.declaration.json===r.json)u[t]=s;else{var c=new a(r,s,o.extend({duration:300,delay:0},i,h.getPaintProperty(t+f)));c.instant()||(c.loopID=n.set(c.endTime-(new Date).getTime())),s&&n.cancel(s.loopID),u[t]=c}}var l=this._paintTransitions,u=this._paintTransitions={},h=this;for(var c in this._paintDeclarations)if(""===c||t[c])for(var d in this._paintDeclarations[c])r(d,this._paintDeclarations[c][d]);for(var p=o.keysDifference(l,u),m=0;m<p.length;m++){var _=this._paintSpecifications[p[m]];r(p[m],new s(_,_["default"]))}},recalculate:function(t,e){this.paint={};for(var i in this._paintSpecifications)this.paint[i]=this.getPaintValue(i,t,e);this.layout={};for(var n in this._layoutSpecifications)this.layout[n]=this.getLayoutValue(n,t,e)},serialize:function(t){var e={id:this.id,ref:this.ref,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,interactive:this.interactive};for(var i in this._paintDeclarations){var n=""===i?"paint":"paint."+i;e[n]=o.mapObject(this._paintDeclarations[i],r)}return(!this.ref||t&&t.includeRefProperties)&&o.extend(e,{type:this.type,source:this.source,"source-layer":this.sourceLayer,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,r)}),o.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})}})},{"../util/evented":93,"../util/util":99,"./parse_color":43,"./style_declaration":46,"./style_layer/background_style_layer":48,"./style_layer/circle_style_layer":49,"./style_layer/fill_style_layer":50,"./style_layer/line_style_layer":51,"./style_layer/raster_style_layer":52,"./style_layer/symbol_style_layer":53,"./style_spec":54,"./style_transition":55,"./validate_style":56}],48:[function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=t("../../util/util"),o=t("../style_layer");e.exports=n,n.prototype=r.inherit(o,{})},{"../../util/util":99,"../style_layer":47}],49:[function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=t("../../util/util"),o=t("../style_layer");e.exports=n,n.prototype=r.inherit(o,{})},{"../../util/util":99,"../style_layer":47}],50:[function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=t("../../util/util"),o=t("../style_layer");e.exports=n,n.prototype=r.inherit(o,{})},{"../../util/util":99,"../style_layer":47}],51:[function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=t("../../util/util"),o=t("../style_layer");e.exports=n,n.prototype=r.inherit(o,{getPaintValue:function(t,e){var i=o.prototype.getPaintValue.apply(this,arguments);if(i&&"line-dasharray"===t){var n=this.getPaintValue("line-width",Math.floor(e),1/0);i.fromScale*=n,i.toScale*=n}return i}})},{"../../util/util":99,"../style_layer":47}],52:[function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=t("../../util/util"),o=t("../style_layer");e.exports=n,n.prototype=r.inherit(o,{})},{"../../util/util":99,"../style_layer":47}],53:[function(t,e,i){"use strict";function n(){o.apply(this,arguments)}var r=t("../../util/util"),o=t("../style_layer");e.exports=n,n.prototype=r.inherit(o,{isHidden:function(){if(o.prototype.isHidden.apply(this,arguments))return!0;var t=0===this.paint["text-opacity"]||!this.layout["text-field"],e=0===this.paint["icon-opacity"]||!this.layout["icon-image"];return!(!t||!e)},getLayoutValue:function(t,e,i){return"text-rotation-alignment"===t&&"line"===this.getLayoutValue("symbol-placement",e,i)&&!this.getLayoutProperty("text-rotation-alignment")||"icon-rotation-alignment"===t&&"line"===this.getLayoutValue("symbol-placement",e,i)&&!this.getLayoutProperty("icon-rotation-alignment")?"map":o.prototype.getLayoutValue.apply(this,arguments)}})},{"../../util/util":99,"../style_layer":47}],54:[function(t,e,i){"use strict";e.exports=t("mapbox-gl-style-spec/reference/latest")},{"mapbox-gl-style-spec/reference/latest":145}],55:[function(t,e,i){"use strict";function n(t,e,i){this.declaration=t,this.startTime=this.endTime=(new Date).getTime();var n=t.type;"string"!==n&&"array"!==n||!t.transitionable?this.interp=a[n]:this.interp=r,this.oldTransition=e,this.duration=i.duration||0,this.delay=i.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=o.easeCubicInOut),e&&e.endTime<=this.startTime&&delete e.oldTransition}function r(t,e,i){return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:i}}var o=t("../util/util"),a=t("../util/interpolate");e.exports=n,n.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},n.prototype.at=function(t,e,i){var n=this.declaration.calculate(t,e,this.duration);if(this.instant())return n;if(i=i||Date.now(),i<this.endTime){var r=this.oldTransition.at(t,e,this.startTime),o=this.ease((i-this.startTime-this.delay)/this.duration);n=this.interp(r,n,o)}return n}},{"../util/interpolate":95,"../util/util":99}],56:[function(t,e,i){"use strict";e.exports=t("mapbox-gl-style-spec/lib/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var i=0;i<e.length;i++)t.fire("error",{error:new Error(e[i].message)});return!0}return!1}},{"mapbox-gl-style-spec/lib/validate_style.min":144}],57:[function(t,e,i){"use strict";function n(t,e,i,n){this.x=t,this.y=e,this.angle=i,void 0!==n&&(this.segment=n)}var r=t("point-geometry");e.exports=n,n.prototype=Object.create(r.prototype),n.prototype.clone=function(){return new n(this.x,this.y,this.angle,this.segment)}},{"point-geometry":152}],58:[function(t,e,i){"use strict";function n(t,e,i,n,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-i/2;){if(a--,0>a)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;i/2>s;){var h=t[a-1],c=t[a],f=t[a+1];if(!f)return!1;var d=h.angleTo(c)-c.angleTo(f);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>r)return!1;a++,s+=c.dist(f)}return!0}e.exports=n},{}],59:[function(t,e,i){"use strict";function n(t,e,i,n,o){for(var a=[],s=0;s<t.length;s++)for(var l,u=t[s],h=0;h<u.length-1;h++){var c=u[h],f=u[h+1];c.x<e&&f.x<e||(c.x<e?c=new r(e,c.y+(f.y-c.y)*((e-c.x)/(f.x-c.x)))._round():f.x<e&&(f=new r(e,c.y+(f.y-c.y)*((e-c.x)/(f.x-c.x)))._round()),c.y<i&&f.y<i||(c.y<i?c=new r(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round():f.y<i&&(f=new r(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round()),c.x>=n&&f.x>=n||(c.x>=n?c=new r(n,c.y+(f.y-c.y)*((n-c.x)/(f.x-c.x)))._round():f.x>=n&&(f=new r(n,c.y+(f.y-c.y)*((n-c.x)/(f.x-c.x)))._round()),c.y>=o&&f.y>=o||(c.y>=o?c=new r(c.x+(f.x-c.x)*((o-c.y)/(f.y-c.y)),o)._round():f.y>=o&&(f=new r(c.x+(f.x-c.x)*((o-c.y)/(f.y-c.y)),o)._round()),l&&c.equals(l[l.length-1])||(l=[c],a.push(l)),l.push(f)))))}return a}var r=t("point-geometry");e.exports=n},{"point-geometry":152}],60:[function(t,e,i){"use strict";function n(t,e,i,n,r,o){this.anchorPoint=t,this.x1=e,this.y1=i,this.x2=n,this.y2=r,this.maxScale=o,this.placementScale=0,this[0]=this[1]=this[2]=this[3]=0}e.exports=n},{}],61:[function(t,e,i){"use strict";function n(t,e,i,n,a,s,l){var u=i.top*n-a,h=i.bottom*n+a,c=i.left*n-a,f=i.right*n+a;if(this.boxes=[],s){var d=h-u,p=f-c;if(0>=d)return;if(d=Math.max(10*n,d),l){var m=t[e.segment+1].sub(t[e.segment])._unit()._mult(p),_=[e.sub(m),e.add(m)];this._addLineCollisionBoxes(_,e,0,p,d)}else this._addLineCollisionBoxes(t,e,e.segment,p,d)}else this.boxes.push(new r(new o(e.x,e.y),c,u,f,h,1/0))}var r=t("./collision_box"),o=t("point-geometry");e.exports=n,n.prototype._addLineCollisionBoxes=function(t,e,i,n,o){var a=o/2,s=Math.floor(n/a),l=-o/2,u=this.boxes,h=e,c=i+1,f=l;do{if(c--,0>c)return u;f-=t[c].dist(h),h=t[c]}while(f>-n/2);for(var d=t[c].dist(t[c+1]),p=0;s>p;p++){for(var m=-n/2+p*a;m>f+d;){if(f+=d,c++,c+1>=t.length)return u;d=t[c].dist(t[c+1])}var _=m-f,v=t[c],g=t[c+1],y=g.sub(v)._unit()._mult(_)._add(v),x=Math.max(Math.abs(m-l)-a/2,0),b=n/2/x;u.push(new r(y,-o/2,-o/2,o/2,o/2,b))}return u}},{"./collision_box":60,"point-geometry":152}],62:[function(t,e,i){"use strict";function n(t,e){this.tree=r(),this.angle=t;var i=Math.sin(t),n=Math.cos(t);this.rotationMatrix=[n,-i,i,n],this.reverseRotationMatrix=[n,i,-i,n],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.edges=[new o(new a(0,0),0,-(1/0),0,1/0,1/0),new o(new a(s,0),0,-(1/0),0,1/0,1/0),new o(new a(0,0),-(1/0),0,1/0,0,1/0),new o(new a(0,s),-(1/0),0,1/0,0,1/0)]}var r=t("rbush"),o=t("./collision_box"),a=t("point-geometry"),s=t("../data/buffer").EXTENT;e.exports=n,n.prototype.minScale=.25,n.prototype.maxScale=2,n.prototype.placeCollisionFeature=function(t,e,i){for(var n=this.minScale,r=this.rotationMatrix,s=this.yStretch,l=0;l<t.boxes.length;l++){var u=t.boxes[l];if(!e){var h=u.anchorPoint.matMult(r),c=h.x,f=h.y;u[0]=c+u.x1,u[1]=f+u.y1*s,u[2]=c+u.x2,u[3]=f+u.y2*s;for(var d=this.tree.search(u),p=0;p<d.length;p++){var m=d[p],_=m.anchorPoint.matMult(r);if(n=this.getPlacementScale(n,h,u,_,m),n>=this.maxScale)return n}}if(i)for(var v=this.reverseRotationMatrix,g=new a(u.x1,u.y1).matMult(v),y=new a(u.x2,u.y1).matMult(v),x=new a(u.x1,u.y2).matMult(v),b=new a(u.x2,u.y2).matMult(v),w=new o(u.anchorPoint,Math.min(g.x,y.x,x.x,b.x),Math.min(g.y,y.x,x.x,b.x),Math.max(g.x,y.x,x.x,b.x),Math.max(g.y,y.x,x.x,b.x),u.maxScale),T=0;T<this.edges.length;T++){
var S=this.edges[T];if(n=this.getPlacementScale(n,u.anchorPoint,w,S.anchorPoint,S),n>=this.maxScale)return n}}return n},n.prototype.getPlacementScale=function(t,e,i,n,r){var o=(r.x1-i.x2)/(e.x-n.x),a=(r.x2-i.x1)/(e.x-n.x),s=(r.y1-i.y2)*this.yStretch/(e.y-n.y),l=(r.y2-i.y1)*this.yStretch/(e.y-n.y);(isNaN(o)||isNaN(a))&&(o=a=1),(isNaN(s)||isNaN(l))&&(s=l=1);var u=Math.min(Math.max(o,a),Math.max(s,l));return u>r.maxScale&&(u=r.maxScale),u>i.maxScale&&(u=i.maxScale),u>t&&u>=r.placementScale&&(t=u),t},n.prototype.insertCollisionFeature=function(t,e){for(var i=t.boxes,n=0;n<i.length;n++)i[n].placementScale=e;e<this.maxScale&&this.tree.load(i)}},{"../data/buffer":6,"./collision_box":60,"point-geometry":152,rbush:153}],63:[function(t,e,i){"use strict";function n(t,e,i,n,o,a,s,l,u){var h=n?.6*a*s:0,c=Math.max(n?n.right-n.left:0,o?o.right-o.left:0),f=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e/4>e-c*s&&(e=c*s+e/4);var d=2*a,p=f?e/2*l%e:(c/2+d)*s*l%e;return r(t,p,e,h,i,c*s,f,!1,u)}function r(t,e,i,n,l,u,h,c,f){for(var d=u/2,p=0,m=0;m<t.length-1;m++)p+=t[m].dist(t[m+1]);for(var _=0,v=e-i,g=[],y=0;y<t.length-1;y++){for(var x=t[y],b=t[y+1],w=x.dist(b),T=b.angleTo(x);_+w>v+i;){v+=i;var S=(v-_)/w,M=o(x.x,b.x,S),E=o(x.y,b.y,S);if(M>=0&&f>M&&E>=0&&f>E&&v-d>=0&&p>=v+d){var D=new a(M,E,T,y)._round();n&&!s(t,D,u,n,l)||g.push(D)}}_+=w}return c||g.length||h||(g=r(t,_/2,i,n,l,u,h,!0,f)),g}var o=t("../util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=n},{"../symbol/anchor":57,"../util/interpolate":95,"./check_max_angle":58}],64:[function(t,e,i){"use strict";function n(t,e){this.width=t,this.height=e,this.bin=new r(t,e),this.index={},this.ids={},this.data=new Uint8Array(t*e)}var r=t("shelf-pack");e.exports=n,n.prototype={get debug(){return"canvas"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},n.prototype.getGlyphs=function(){var t,e,i,n={};for(var r in this.ids)t=r.split("#"),e=t[0],i=t[1],n[e]||(n[e]=[]),n[e].push(i);return n},n.prototype.getRects=function(){var t,e,i,n={};for(var r in this.ids)t=r.split("#"),e=t[0],i=t[1],n[e]||(n[e]={}),n[e][i]=this.index[r];return n},n.prototype.addGlyph=function(t,e,i,n){if(!i)return null;var r=e+"#"+i.id;if(this.index[r])return this.ids[r].indexOf(t)<0&&this.ids[r].push(t),this.index[r];if(!i.bitmap)return null;var o=i.width+2*n,a=i.height+2*n,s=1,l=o+2*s,u=a+2*s;l+=4-l%4,u+=4-u%4;var h=this.bin.allocate(l,u);if(h.x<0&&(this.resize(),h=this.bin.allocate(l,u)),h.x<0)return console.warn("glyph bitmap overflow"),{glyph:i,rect:null};this.index[r]=h,this.ids[r]=[t];for(var c=this.data,f=i.bitmap,d=0;a>d;d++)for(var p=this.width*(h.y+d+s)+h.x+s,m=o*d,_=0;o>_;_++)c[p+_]=f[m+_];return this.dirty=!0,h},n.prototype.resize=function(){var t=this.width,e=this.height;if(!(t>512||e>512)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=2,this.height*=2,this.bin.resize(this.width,this.height);for(var i,n,r=new ArrayBuffer(this.width*this.height),o=0;e>o;o++)i=new Uint8Array(this.data.buffer,e*o,t),n=new Uint8Array(r,e*o*2,t),n.set(i);this.data=new Uint8Array(r)}},n.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},n.prototype.updateTexture=function(t){if(this.bind(t),this.dirty){if(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.ctx){for(var e=this.ctx.getImageData(0,0,this.width,this.height),i=0,n=0;i<this.data.length;i++,n+=4)e.data[n]=this.data[i],e.data[n+1]=this.data[i],e.data[n+2]=this.data[i],e.data[n+3]=255;this.ctx.putImageData(e,0,0),this.ctx.strokeStyle="red";for(var r=0;r<this.bin.free.length;r++){var o=this.bin.free[r];this.ctx.strokeRect(o.x,o.y,o.w,o.h)}}this.dirty=!1}}},{"shelf-pack":155}],65:[function(t,e,i){"use strict";function n(t){this.url=t&&a(t),this.atlases={},this.stacks={},this.loading={}}function r(t,e,i){var n=1;this.advance=t.advance,this.left=t.left-i-n,this.top=t.top+i+n,this.rect=e}function o(t,e,i,n){return n=n||"abc",i.replace("{s}",n[t.length%n.length]).replace("{fontstack}",t).replace("{range}",e)}var a=t("../util/mapbox").normalizeGlyphsURL,s=t("../util/ajax").getArrayBuffer,l=t("../util/glyphs"),u=t("../symbol/glyph_atlas"),h=t("pbf");e.exports=n,n.prototype.getSimpleGlyphs=function(t,e,i,n){void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new u(128,128));for(var o,a={},s=this.stacks[t],l=this.atlases[t],h=3,c={},f=0,d=0;d<e.length;d++){var p=e[d];if(o=Math.floor(p/256),s[o]){var m=s[o].glyphs[p],_=l.addGlyph(i,t,m,h);m&&(a[p]=new r(m,_,h))}else void 0===c[o]&&(c[o]=[],f++),c[o].push(p)}f||n(void 0,a,t);var v=function(e,o,s){if(!e)for(var u=this.stacks[t][o]=s.stacks[0],d=0;d<c[o].length;d++){var p=c[o][d],m=u.glyphs[p],_=l.addGlyph(i,t,m,h);m&&(a[p]=new r(m,_,h))}f--,f||n(void 0,a,t)}.bind(this);for(var g in c)this.loadRange(t,g,v)},n.prototype.loadRange=function(t,e,i){if(256*e>65535)return i("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var n=this.loading[t];if(n[e])n[e].push(i);else{n[e]=[i];var r=256*e+"-"+(256*e+255),a=o(t,r,this.url);s(a,function(t,i){for(var r=!t&&new l(new h(new Uint8Array(i))),o=0;o<n[e].length;o++)n[e][o](t,e,r);delete n[e]})}},n.prototype.getGlyphAtlas=function(t){return this.atlases[t]}},{"../symbol/glyph_atlas":64,"../util/ajax":87,"../util/glyphs":94,"../util/mapbox":97,pbf:150}],66:[function(t,e,i){"use strict";e.exports=function(t,e,i){function n(n){h.push(t[n]),c.push(i[n]),f.push(e[n]),d++}function r(t,e,i){var n=u[t];return delete u[t],u[e]=n,c[n][0].pop(),c[n][0]=c[n][0].concat(i[0]),n}function o(t,e,i){var n=l[e];return delete l[e],l[t]=n,c[n][0].shift(),c[n][0]=i[0].concat(c[n][0]),n}function a(t,e,i){var n=i?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}var s,l={},u={},h=[],c=[],f=[],d=0;for(s=0;s<t.length;s++){var p=i[s],m=e[s];if(m){var _=a(m,p),v=a(m,p,!0);if(_ in u&&v in l&&u[_]!==l[v]){var g=o(_,v,p),y=r(_,v,c[g]);delete l[_],delete u[v],u[a(m,c[y],!0)]=y,c[g]=null}else _ in u?r(_,v,p):v in l?o(_,v,p):(n(s),l[_]=d-1,u[v]=d-1)}else n(s)}return{features:h,textFeatures:f,geometries:c}}},{}],67:[function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s,l){this.anchorPoint=t,this.tl=e,this.tr=i,this.bl=n,this.br=r,this.tex=o,this.angle=a,this.minScale=s,this.maxScale=l}function r(t,e,i,r,o,a){var u=e.image.rect,h=1,c=e.left-h,f=c+u.w/e.image.pixelRatio,d=e.top-h,p=d+u.h/e.image.pixelRatio,m=new s(c,d),_=new s(f,d),v=new s(f,p),g=new s(c,p),y=o["icon-rotate"]*Math.PI/180;if(a){var x=r[t.segment];if(t.y===x.y&&t.x===x.x&&t.segment+1<r.length){var b=r[t.segment+1];y+=Math.atan2(t.y-b.y,t.x-b.x)+Math.PI}else y+=Math.atan2(t.y-x.y,t.x-x.x)}if(y){var w=Math.sin(y),T=Math.cos(y),S=[T,-w,w,T];m=m.matMult(S),_=_.matMult(S),g=g.matMult(S),v=v.matMult(S)}return[new n(new s(t.x,t.y),m,_,g,v,e.image.rect,0,l,1/0)]}function o(t,e,i,r,o,u){for(var h=o["text-rotate"]*Math.PI/180,c=o["text-keep-upright"],f=e.positionedGlyphs,d=[],p=0;p<f.length;p++){var m=f[p],_=m.glyph,v=_.rect;if(v){var g,y=(m.x+_.advance/2)*i,x=l;u?(g=[],x=a(g,t,y,r,t.segment,!0),c&&(x=Math.min(x,a(g,t,y,r,t.segment,!1)))):g=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:l}];for(var b=m.x+_.left,w=m.y-_.top,T=b+v.w,S=w+v.h,M=new s(b,w),E=new s(T,w),D=new s(b,S),I=new s(T,S),P=0;P<g.length;P++){var z=g[P],A=M,k=E,C=D,L=I,R=z.angle+h;if(R){var F=Math.sin(R),O=Math.cos(R),N=[O,-F,F,O];A=A.matMult(N),k=k.matMult(N),C=C.matMult(N),L=L.matMult(N)}var j=Math.max(z.minScale,x),B=(t.angle+h+z.offset+2*Math.PI)%(2*Math.PI);d.push(new n(z.anchorPoint,A,k,C,L,v,B,j,z.maxScale))}}}return d}function a(t,e,i,n,r,o){var a=!o;0>i&&(o=!o),o&&r++;var u=new s(e.x,e.y),h=n[r],c=1/0;i=Math.abs(i);for(var f=l;;){var d=u.dist(h),p=i/d,m=Math.atan2(h.y-u.y,h.x-u.x);if(o||(m+=Math.PI),a&&(m+=Math.PI),t.push({anchorPoint:u,offset:a?Math.PI:0,minScale:p,maxScale:c,angle:(m+2*Math.PI)%(2*Math.PI)}),f>=p)break;for(u=h;u.equals(h);)if(r+=o?1:-1,h=n[r],!h)return p;var _=h.sub(u)._unit();u=u.sub(_._mult(d)),c=p}return f}var s=t("point-geometry");e.exports={getIconQuads:r,getGlyphQuads:o};var l=.5},{"point-geometry":152}],68:[function(t,e,i){"use strict";function n(t,e,i){for(var n=[],o=0,a=t.length;a>o;o++){var s=r(t[o].properties,e["text-field"]);if(s){s=s.toString();var l=e["text-transform"];"uppercase"===l?s=s.toLocaleUpperCase():"lowercase"===l&&(s=s.toLocaleLowerCase());for(var u=0;u<s.length;u++)i[s.charCodeAt(u)]=!0;n[o]=s}else n[o]=null}return n}var r=t("../util/token");e.exports=n},{"../util/token":98}],69:[function(t,e,i){"use strict";function n(t,e,i,n){this.codePoint=t,this.x=e,this.y=i,this.glyph=n}function r(t,e,i,n,r,o){this.positionedGlyphs=t,this.text=e,this.top=i,this.bottom=n,this.left=r,this.right=o}function o(t,e,i,o,s,l,u,h,c){for(var f=[],d=new r(f,t,c[1],c[1],c[0],c[0]),p=-17,m=0,_=p,v=0;v<t.length;v++){var g=t.charCodeAt(v),y=e[g];y&&(f.push(new n(g,m,_,y)),m+=y.advance+h)}return f.length?(a(d,e,o,i,s,l,u,c),d):!1}function a(t,e,i,n,r,o,a,u){var h=null,d=0,p=0,m=0,_=0,v=t.positionedGlyphs;if(n)for(var g=0;g<v.length;g++){var y=v[g];if(y.x-=d,y.y+=i*m,y.x>n&&null!==h){var x=v[h+1].x;_=Math.max(x,_);for(var b=h+1;g>=b;b++)v[b].y+=i,v[b].x-=x;if(a){var w=h;c[v[h].codePoint]&&w--,s(v,e,p,w,a)}p=h+1,h=null,d+=x,m++}f[y.codePoint]&&(h=g)}var T=v[v.length-1],S=T.x+e[T.codePoint].advance;_=Math.max(_,S);var M=(m+1)*i;s(v,e,p,v.length-1,a),l(v,a,r,o,_,i,m,u),t.top+=-o*M,t.bottom=t.top+M,t.left+=-r*_,t.right=t.left+_}function s(t,e,i,n,r){for(var o=e[t[n].codePoint].advance,a=(t[n].x+o)*r,s=i;n>=s;s++)t[s].x-=a}function l(t,e,i,n,r,o,a,s){for(var l=(e-i)*r+s[0],u=(-n*(a+1)+.5)*o+s[1],h=0;h<t.length;h++)t[h].x+=l,t[h].y+=u}function u(t,e){if(!t||!t.rect)return null;var i=e["icon-offset"][0],n=e["icon-offset"][1],r=i-t.width/2,o=r+t.width,a=n-t.height/2,s=a+t.height;return new h(t,a,s,r,o)}function h(t,e,i,n,r){this.image=t,this.top=e,this.bottom=i,this.left=n,this.right=r}e.exports={shapeText:o,shapeIcon:u};var c={32:!0,8203:!0},f={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},{}],70:[function(t,e,i){"use strict";function n(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function r(t,e,i,n,r,o,a,s,l,u,h){var c,f,d=n*e+i,p=s*o+a;if(h)for(p-=o,f=-1;u>=f;f++,d=((f+u)%u+n)*e+i,p+=o)for(c=-1;l>=c;c++)r[p+c]=t[d+(c+l)%l];else for(f=0;u>f;f++,d+=e,p+=o)for(c=0;l>c;c++)r[p+c]=t[d+c]}function o(t,e,i,n,r){this.rect=t,this.width=e,this.height=i,this.sdf=n,this.pixelRatio=r}var a=t("shelf-pack"),s=t("../util/browser");e.exports=n,n.prototype={get debug(){return"canvas"in this},set debug(t){t&&!this.canvas?(this.canvas=document.createElement("canvas"),this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.canvas.style.width=this.width+"px",this.canvas.style.width=this.width+"px",document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")):!t&&this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),delete this.ctx,delete this.canvas)}},n.prototype.allocateImage=function(t,e){t/=this.pixelRatio,e/=this.pixelRatio;var i=2,n=t+i+(4-(t+i)%4),r=e+i+(4-(e+i)%4),o=this.bin.allocate(n,r);return o.x<0?(console.warn("SpriteAtlas out of space."),o):o},n.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var i=this.sprite.getSpritePosition(t);if(!i.width||!i.height)return null;var n=this.allocateImage(i.width,i.height);if(n.x<0)return n;var r=new o(n,i.width/i.pixelRatio,i.height/i.pixelRatio,i.sdf,i.pixelRatio/this.pixelRatio);return this.images[t]=r,this.copy(n,i,e),r},n.prototype.getPosition=function(t,e){var i=this.getImage(t,e),n=i&&i.rect;if(!n)return null;var r=i.width*i.pixelRatio,o=i.height*i.pixelRatio,a=1;return{size:[i.width,i.height],tl:[(n.x+a)/this.width,(n.y+a)/this.height],br:[(n.x+a+r)/this.width,(n.y+a+o)/this.height]}},n.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var i=0;i<this.data.length;i++)this.data[i]=0}},n.prototype.copy=function(t,e,i){if(this.sprite.img.data){var n=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var o=this.data,a=1;r(n,this.sprite.img.width,e.x,e.y,o,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,i),this.dirty=!0}},n.prototype.setSprite=function(t){t&&(this.pixelRatio=s.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},n.prototype.addIcons=function(t,e){for(var i=0;i<t.length;i++)this.getImage(t[i]);e(null,this.images)},n.prototype.bind=function(t,e){var i=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i=!0);var n=e?t.LINEAR:t.NEAREST;if(n!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),this.filter=n),this.dirty&&(this.allocate(),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1,this.ctx)){var r=this.ctx.getImageData(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);r.data.set(new Uint8ClampedArray(this.data.buffer)),this.ctx.putImageData(r,0,0),this.ctx.strokeStyle="red";for(var o=0;o<this.bin.free.length;o++){var a=this.bin.free[o];this.ctx.strokeRect(a.x*this.pixelRatio,a.y*this.pixelRatio,a.w*this.pixelRatio,a.h*this.pixelRatio)}}}},{"../util/browser":88,"shelf-pack":155}],71:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../util/interpolate"),o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),l=t("point-geometry"),u=e.exports=function(){};n.extend(u.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t,e){return this.jumpTo({center:t},e),this},panBy:function(t,e,i){return this.panTo(this.transform.center,n.extend({offset:l.convert(t).mult(-1)},e),i),this},panTo:function(t,e,i){return this.easeTo(n.extend({center:t},e),i)},getZoom:function(){return this.transform.zoom},setZoom:function(t,e){return this.jumpTo({zoom:t},e),this},zoomTo:function(t,e,i){return this.easeTo(n.extend({zoom:t},e),i)},zoomIn:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},zoomOut:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},getBearing:function(){return this.transform.bearing},setBearing:function(t,e){return this.jumpTo({bearing:t},e),this},rotateTo:function(t,e,i){return this.easeTo(n.extend({bearing:t},e),i)},resetNorth:function(t,e){return this.rotateTo(0,n.extend({duration:1e3},t),e),this},snapToNorth:function(t,e){return Math.abs(this.getBearing())<this.options.bearingSnap?this.resetNorth(t,e):this},getPitch:function(){return this.transform.pitch},setPitch:function(t,e){return this.jumpTo({pitch:t},e),this},fitBounds:function(t,e,i){e=n.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var r=l.convert(e.offset),o=this.transform,a=o.project(t.getNorthWest()),u=o.project(t.getSouthEast()),h=u.sub(a),c=(o.width-2*e.padding-2*Math.abs(r.x))/h.x,f=(o.height-2*e.padding-2*Math.abs(r.y))/h.y;return e.center=o.unproject(a.add(u).div(2)),e.zoom=Math.min(o.scaleZoom(o.scale*Math.min(c,f)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,i):this.flyTo(e,i)},jumpTo:function(t,e){this.stop();var i=this.transform,n=!1,r=!1,o=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(n=!0,i.zoom=+t.zoom),"center"in t&&(i.center=a.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(r=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(o=!0,i.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),n&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),r&&this.fire("rotate",e),o&&this.fire("pitch",e),this.fire("moveend",e)},easeTo:function(t,e){this.stop(),t=n.extend({offset:[0,0],duration:500,easing:n.ease},t);var i,o,s=this.transform,u=l.convert(t.offset),h=this.getZoom(),c=this.getBearing(),f=this.getPitch(),d="zoom"in t?+t.zoom:h,p="bearing"in t?this._normalizeBearing(t.bearing,c):c,m="pitch"in t?+t.pitch:f;"center"in t?(i=a.convert(t.center),o=s.centerPoint.add(u)):"around"in t?(i=a.convert(t.around),o=s.locationPoint(i)):(o=s.centerPoint.add(u),i=s.pointLocation(o));var _=s.locationPoint(i);return t.animate===!1&&(t.duration=0),this.zooming=d!==h,this.rotating=c!==p,this.pitching=m!==f,t.noMoveStart||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(s.zoom=r(h,d,t)),this.rotating&&(s.bearing=r(c,p,t)),this.pitching&&(s.pitch=r(f,m,t)),s.setLocationAtPoint(i,_.add(o.sub(_)._mult(t))),this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){t.delayEndEvents?this._onEaseEnd=setTimeout(this._easeToEnd.bind(this,e),t.delayEndEvents):this._easeToEnd(e)}.bind(this),t),this},_easeToEnd:function(t){this.zooming&&this.fire("zoomend",t),this.fire("moveend",t),this.zooming=!1,this.rotating=!1,this.pitching=!1},flyTo:function(t,e){function i(t){var e=(M*M-S*S+(t?-1:1)*P*P*E*E)/(2*(t?M:S)*P*E);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return o(t)/s(t)}this.stop(),t=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},t);var h=this.transform,c=l.convert(t.offset),f=this.getZoom(),d=this.getBearing(),p=this.getPitch(),m="center"in t?a.convert(t.center):this.getCenter(),_="zoom"in t?+t.zoom:f,v="bearing"in t?this._normalizeBearing(t.bearing,d):d,g="pitch"in t?+t.pitch:p;Math.abs(h.center.lng)+Math.abs(m.lng)>180&&(h.center.lng>0&&m.lng<0?m.lng+=360:h.center.lng<0&&m.lng>0&&(m.lng-=360));var y=h.zoomScale(_-f),x=h.point,b="center"in t?h.project(m).sub(c.div(y)):x,w=h.worldSize,T=t.curve,S=Math.max(h.width,h.height),M=S/y,E=b.sub(x).mag();if("minZoom"in t){var D=n.clamp(Math.min(t.minZoom,f,_),h.minZoom,h.maxZoom),I=S/h.zoomScale(D-f);T=Math.sqrt(I/E*2)}var P=T*T,z=i(0),A=function(t){return s(z)/s(z+T*t)},k=function(t){return S*((s(z)*u(z+T*t)-o(z))/P)/E},C=(i(1)-z)/T;if(Math.abs(E)<1e-6){if(Math.abs(S-M)<1e-6)return this.easeTo(t);var L=S>M?-1:1;C=Math.abs(Math.log(M/S))/T,k=function(){return 0},A=function(t){return Math.exp(L*T*t)}}if("duration"in t)t.duration=+t.duration;else{var R="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*C/R}return this.zooming=!0,d!==v&&(this.rotating=!0),p!==g&&(this.pitching=!0),this.fire("movestart",e),this.fire("zoomstart",e),this._ease(function(t){var i=t*C,n=k(i);h.zoom=f+h.scaleZoom(1/A(i)),h.center=h.unproject(x.add(b.sub(x).mult(n)),w),this.rotating&&(h.bearing=r(d,v,t)),this.pitching&&(h.pitch=r(p,g,t)),this.fire("move",e),this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){this.fire("zoomend",e),this.fire("moveend",e),this.zooming=!1,this.rotating=!1,this.pitching=!1},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,i){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,i.easing(e)),1===e&&this._finishEase()},i.animate===!1?0:i.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=n.wrap(t,-180,180);var i=Math.abs(t-e);return Math.abs(t-360-e)<i&&(t-=360),Math.abs(t+360-e)<i&&(t+=360),t},_updateEasing:function(t,e,i){var r;if(this.ease){var o=this.ease,a=(Date.now()-o.start)/o.duration,s=o.easing(a+.01)-o.easing(a),l=.27/Math.sqrt(s*s+1e-4)*.01,u=Math.sqrt(.0729-l*l);r=n.bezier(l,u,.25,1)}else r=i?n.bezier.apply(n,i):n.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:r},r}})},{"../geo/lng_lat":11,"../geo/lng_lat_bounds":12,"../util/browser":88,"../util/interpolate":95,"../util/util":99,"point-geometry":152}],72:[function(t,e,i){"use strict";function n(t){a.setOptions(this,t)}var r=t("./control"),o=t("../../util/dom"),a=t("../../util/util");e.exports=n,n.prototype=a.inherit(r,{options:{position:"bottom-right"},onAdd:function(t){var e="mapboxgl-ctrl-attrib",i=this._container=o.create("div",e,t.getContainer());return this._update(),t.on("source.load",this._update.bind(this)),t.on("source.change",this._update.bind(this)),t.on("source.remove",this._update.bind(this)),t.on("moveend",this._updateEditLink.bind(this)),i},_update:function(){var t=[];if(this._map.style)for(var e in this._map.style.sources){var i=this._map.style.sources[e];i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}this._container.innerHTML=t.join(" | "),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}}})},{"../../util/dom":91,"../../util/util":99,"./control":73}],73:[function(t,e,i){"use strict";function n(){}e.exports=n,n.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var i=this.options.position,n=t._controlCorners[i];e.className+=" mapboxgl-ctrl",-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}}},{}],74:[function(t,e,i){"use strict";function n(t){s.setOptions(this,t)}function r(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var o=t("./control"),a=t("../../util/dom"),s=t("../../util/util");e.exports=n,n.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",i=this._container=a.create("div",e+"-group",t.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+"-icon "+e+"-zoom-in",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+"-icon "+e+"-zoom-out",t.zoomOut.bind(t)),this._compass=this._createButton(e+"-icon "+e+"-compass",t.resetNorth.bind(t)),this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),i},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(r(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(r(t)),t.stopPropagation())},_createButton:function(t,e){var i=a.create("button",t,this._container);return i.addEventListener("click",function(){e()}),i},_rotateCompassArrow:function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t}})},{"../../util/dom":91,"../../util/util":99,"./control":73}],75:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../geo/lng_lat_bounds"),a=t("../../util/util");e.exports=n,n.prototype={enable:function(){this.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1)},disable:function(){this._el.removeEventListener("mousedown",this._onMouseDown)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this.active=!0)},_onMouseMove:function(t){var e=this._startPos,i=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,i.x),o=Math.max(e.x,i.x),a=Math.min(e.y,i.y),s=Math.max(e.y,i.y);r.setTransform(this._box,"translate("+n+"px,"+a+"px)"),this._box.style.width=o-n+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,i=r.mousePos(this._el,t),n=new o(this._map.unproject(e),this._map.unproject(i));this._finish(),e.x===i.x&&e.y===i.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(n,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_finish:function(){this.active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},{"../../geo/lng_lat_bounds":12,"../../util/dom":91,"../../util/util":99}],76:[function(t,e,i){"use strict";function n(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}e.exports=n,n.prototype={enable:function(){this.disable(),this._map.on("dblclick",this._onDblClick)},disable:function(){this._map.off("dblclick",this._onDblClick)},_onDblClick:function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat})}}},{}],77:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../util/util");e.exports=n;var a=.3,s=o.bezier(0,0,a,1),l=1400,u=2500;n.prototype={enable:function(){this.disable(),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown)},disable:function(){this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown)},_onDown:function(t){this._ignoreEvent(t)||this.active||(t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this.active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),i=this._map;i.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),i.transform.setLocationAtPoint(i.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.active){this.active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=function(){this._fireEvent("moveend",t)}.bind(this),i=this._inertia;if(i.length<2)return void e();var n=i[i.length-1],r=i[0],o=n[1].sub(r[1]),h=(n[0]-r[0])/1e3;if(0===h||n[1].equals(r[1]))return void e();var c=o.mult(a/h),f=c.mag();f>l&&(f=l,c._unit()._mult(f));var d=f/(u*a),p=c.mult(-d/2);this._map.panBy(p,{duration:1e3*d,easing:s,noMoveStart:!0},{originalEvent:t})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragRotate&&e.dragRotate.active)return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var i=1,n=0;return"mousemove"===t.type?t.buttons&0===i:t.button!==n},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>0&&e-t[0][0]>i;)t.shift()}}},{"../../util/dom":91,"../../util/util":99}],78:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=t("../../util/dom"),o=t("point-geometry"),a=t("../../util/util");e.exports=n;var s=.25,l=a.bezier(0,0,s,1),u=180,h=720;n.prototype={enable:function(){this.disable(),this._el.addEventListener("mousedown",this._onDown)},disable:function(){this._el.removeEventListener("mousedown",this._onDown)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.active){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this.active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),i=e.mag();200>i&&(this._center=this._startPos.add(new o(-200,0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.active||(this.active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var i=this._pos,n=r.mousePos(this._el,t),o=this._center,a=i.sub(o).angleWith(n.sub(o))/Math.PI*180,s=e.getBearing()-a,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,u[1])]),e.transform.bearing=s,this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=n}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.active)){this.active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var e=this._map,i=e.getBearing(),n=this._inertia,r=function(){Math.abs(i)<e.options.bearingSnap?e.resetNorth({noMoveStart:!0},{originalEvent:t}):this._fireEvent("moveend",t)}.bind(this);if(n.length<2)return void r();var o=n[0],a=n[n.length-1],c=n[n.length-2],f=e._normalizeBearing(i,c[1]),d=a[1]-o[1],p=0>d?-1:1,m=(a[0]-o[0])/1e3;if(0===d||0===m)return void r();var _=Math.abs(d*(s/m));_>u&&(_=u);var v=_/(h*s),g=p*_*(v/2);f+=g,Math.abs(e._normalizeBearing(f,0))<e.options.bearingSnap&&(f=e._normalizeBearing(0,f)),e.rotateTo(f,{duration:1e3*v,easing:l,noMoveStart:!0},{originalEvent:t})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.active)return!0;if(e.dragPan&&e.dragPan.active)return!0;if(t.touches)return t.touches.length>1;var i=t.ctrlKey?1:2,n=t.ctrlKey?0:2;return"mousemove"===t.type?t.buttons&0===i:t.button!==n},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>0&&e-t[0][0]>i;)t.shift()}}},{"../../util/dom":91,"../../util/util":99,"point-geometry":152}],79:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=n;var r=80,o=2,a=5;n.prototype={
enable:function(){this.disable(),this._el.addEventListener("keydown",this._onKeyDown,!1)},disable:function(){this._el.removeEventListener("keydown",this._onKeyDown)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map,i={originalEvent:t};switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1),i);break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1),i);break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-o},i):e.panBy([-r,0],i);break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+o},i):e.panBy([r,0],i);break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+a},i):e.panBy([0,-r],i);break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-a,0)},i):e.panBy([0,r],i)}}}}},{}],80:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../util/browser"),a=t("../../util/util");e.exports=n;var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",l=-1!==s.indexOf("firefox"),u=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom");n.prototype={enable:function(){this.disable(),this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1)},disable:function(){this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel)},_onWheel:function(t){var e;"wheel"===t.type?(e=t.deltaY,l&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,u&&(e/=3));var i=o.now(),n=i-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=i,0!==e&&e%4.000244140625===0?(this._type="wheel",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(n*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(t,e){if(0!==t){var i=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));0>t&&0!==n&&(n=1/n);var r=i.ease?i.ease.to:i.transform.scale,o=i.transform.scaleZoom(r*n);i.zoomTo(o,{duration:0,around:i.unproject(this._pos),delayEndEvents:200},{originalEvent:e})}}}},{"../../util/browser":88,"../../util/dom":91,"../../util/util":99}],81:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var r=t("../../util/dom"),o=t("../../util/util");e.exports=n;var a=.15,s=o.bezier(0,0,a,1),l=12,u=2.5,h=.15,c=4;n.prototype={enable:function(){this.disable(),this._el.addEventListener("touchstart",this._onStart,!1)},disable:function(){this._el.removeEventListener("touchstart",this._onStart)},disableRotation:function(){this._rotationDisabled=!0},enableRotation:function(){this._rotationDisabled=!1},_onStart:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),i=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(i),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),i=r.mousePos(this._el,t.touches[1]),n=e.add(i).div(2),o=e.sub(i),a=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var u={duration:0,around:l.unproject(n)};"rotate"===this._gestureIntent&&(u.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(u.zoom=l.transform.scaleZoom(this._startScale*a)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,n]),l.easeTo(u,{originalEvent:t})}else{var f=Math.abs(1-a)>h,d=Math.abs(s)>c;d?this._gestureIntent="rotate":f&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}t.preventDefault()}},_onEnd:function(t){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,i=this._map;if(e.length<2)return void i.snapToNorth({},{originalEvent:t});var n=e[e.length-1],r=e[0],o=i.transform.scaleZoom(this._startScale*n[1]),h=i.transform.scaleZoom(this._startScale*r[1]),c=o-h,f=(n[0]-r[0])/1e3,d=n[2];if(0===f||o===h)return void i.snapToNorth({},{originalEvent:t});var p=c*a/f;Math.abs(p)>u&&(p=p>0?u:-u);var m=1e3*Math.abs(p/(l*a)),_=o+p*m/2e3;0>_&&(_=0),i.easeTo({zoom:_,duration:m,easing:s,around:i.unproject(d)},{originalEvent:t})},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),i=160;t.length>2&&e-t[0][0]>i;)t.shift()}}},{"../../util/dom":91,"../../util/util":99}],82:[function(t,e,i){"use strict";function n(){r.bindAll(["_onHashChange","_updateHash"],this)}e.exports=n;var r=t("../util/util");n.prototype={addTo:function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace("#","").split("/");return t.length>=3?(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0):!1},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),i=this._map.getBearing(),n=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),r="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(n)+"/"+t.lng.toFixed(n)+(i?"/"+Math.round(10*i)/10:"");window.history.replaceState("","",r)}}},{"../util/util":99}],83:[function(t,e,i){"use strict";function n(t){this._map=t,this._el=t.getCanvasContainer();for(var e in r)t[e]=new r[e](t);a.bindHandlers(this)}var r={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")},o=t("../util/dom"),a=t("../util/util");e.exports=n,n.prototype={enable:function(){var t=this._map.options,e=this._el;for(var i in r)t[i]&&this._map[i].enable();e.addEventListener("mousedown",this._onMouseDown,!1),e.addEventListener("mouseup",this._onMouseUp,!1),e.addEventListener("touchstart",this._onTouchStart,!1),e.addEventListener("click",this._onClick,!1),e.addEventListener("mousemove",this._onMouseMove,!1),e.addEventListener("dblclick",this._onDblClick,!1),e.addEventListener("contextmenu",this._onContextMenu,!1)},disable:function(){var t=this._map.options,e=this._el;for(var i in r)t[i]&&this._map[i].disable();e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("click",this._onClick),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("dblclick",this._onDblClick),e.removeEventListener("contextmenu",this._onContextMenu)},_onMouseDown:function(t){this._map.stop(),this._startPos=o.mousePos(this._el,t),this._fireEvent("mousedown",t)},_onMouseUp:function(t){var e=this._map,i=e.dragRotate&&e.dragRotate.active;this._contextMenuEvent&&!i&&this._fireEvent("contextmenu",this._contextMenuEvent),this._contextMenuEvent=null,this._fireEvent("mouseup",t)},_onTouchStart:function(t){!t.touches||t.touches.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._fireEvent("dblclick",t)):this._tapped=setTimeout(this._onTimeout,300))},_onTimeout:function(){this._tapped=null},_onMouseMove:function(t){var e=this._map,i=this._el;if(!(e.dragPan&&e.dragPan.active||e.dragRotate&&e.dragRotate.active)){for(var n=t.toElement||t.target;n&&n!==i;)n=n.parentNode;n===i&&this._fireEvent("mousemove",t)}},_onClick:function(t){var e=o.mousePos(this._el,t);e.equals(this._startPos)&&this._fireEvent("click",t)},_onDblClick:function(t){this._fireEvent("dblclick",t),t.preventDefault()},_onContextMenu:function(t){this._contextMenuEvent=t,t.preventDefault()},_fireEvent:function(t,e){var i=o.mousePos(this._el,e);return this._map.fire(t,{lngLat:this._map.unproject(i),point:i,originalEvent:e})}}},{"../util/dom":91,"../util/util":99,"./handler/box_zoom":75,"./handler/dblclick_zoom":76,"./handler/drag_pan":77,"./handler/drag_rotate":78,"./handler/keyboard":79,"./handler/scroll_zoom":80,"./handler/touch_zoom_rotate":81}],84:[function(t,e,i){"use strict";function n(t){t.parentNode&&t.parentNode.removeChild(t)}var r=t("../util/canvas"),o=t("../util/util"),a=t("../util/browser"),s=t("../util/evented"),l=t("../util/dom"),u=t("../style/style"),h=t("../style/animation_loop"),c=t("../render/painter"),f=t("../geo/transform"),d=t("./hash"),p=t("./interaction"),m=t("./camera"),_=t("../geo/lng_lat"),v=t("../geo/lng_lat_bounds"),g=t("point-geometry"),y=t("./control/attribution"),x=e.exports=function(t){if(t=this.options=o.inherit(this.options,t),this.animationLoop=new h,this.transform=new f(t.minZoom,t.maxZoom),t.maxBounds){var e=v.convert(t.maxBounds);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()]}o.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowResize","onError","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!=typeof window&&window.addEventListener("resize",this._onWindowResize,!1),this.interaction=new p(this),t.interactive&&this.interaction.enable(),this._hash=t.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo(t),this.sources={},this.stacks={},this._classes={},this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new y(t.attributionControl)),this.on("style.error",this.onError),this.on("source.error",this.onError),this.on("tile.error",this.onError),this.on("layer.error",this.onError)};o.extend(x.prototype,s),o.extend(x.prototype,m.prototype),o.extend(x.prototype,{options:{center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:20,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1},addControl:function(t){return t.addTo(this),this},addClass:function(t,e){this._classes[t]||(this._classes[t]=!0,this.style&&this.style._cascade(this._classes,e))},removeClass:function(t,e){this._classes[t]&&(delete this._classes[t],this.style&&this.style._cascade(this._classes,e))},setClasses:function(t,e){this._classes={};for(var i=0;i<t.length;i++)this._classes[t[i]]=!0;this.style&&this.style._cascade(this._classes,e)},hasClass:function(t){return!!this._classes[t]},getClasses:function(){return Object.keys(this._classes)},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){var t=new v(this.transform.pointLocation(new g(0,0)),this.transform.pointLocation(this.transform.size));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new g(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new g(0,this.transform.size.y)))),t},project:function(t){return this.transform.locationPoint(_.convert(t))},unproject:function(t){return this.transform.pointLocation(g.convert(t))},featuresAt:function(t,e,i){var n=this.unproject(t).wrap(),r=this.transform.locationCoordinate(n);return this.style.featuresAt(r,e,i),this},featuresIn:function(t,e,i){return"undefined"==typeof i&&(i=e,e=t,t=[g.convert([0,0]),g.convert([this.transform.width,this.transform.height])]),t=t.map(g.convert.bind(g)),t=[new g(Math.min(t[0].x,t[1].x),Math.min(t[0].y,t[1].y)),new g(Math.max(t[0].x,t[1].x),Math.max(t[0].y,t[1].y))].map(this.transform.pointCoordinate.bind(this.transform)),this.style.featuresIn(t,e,i),this},batch:function(t){this.style.batch(t),this.style._cascade(this._classes),this._update(!0)},setStyle:function(t){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("layer.error",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this._update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof u?this.style=t:this.style=new u(t,this.animationLoop),this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("layer.error",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this._update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},getStyle:function(){return this.style.serialize()},addSource:function(t,e){return this.style.addSource(t,e),this},removeSource:function(t){return this.style.removeSource(t),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this.style._cascade(this._classes),this},removeLayer:function(t){return this.style.removeLayer(t),this.style._cascade(this._classes),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this},setLayerZoomRange:function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,i,n){return this.batch(function(r){r.setPaintProperty(t,e,i,n)}),this},getPaintProperty:function(t,e,i){return this.style.getPaintProperty(t,e,i)},setLayoutProperty:function(t,e,i){return this.batch(function(n){n.setLayoutProperty(t,e,i)}),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this.options.container,e=this._container="string"==typeof t?document.getElementById(t):t;e.classList.add("mapboxgl-map");var i=this._canvasContainer=l.create("div","mapboxgl-canvas-container",e);this.options.interactive&&i.classList.add("mapboxgl-interactive"),this._canvas=new r(this,i);var n=this._controlContainer=l.create("div","mapboxgl-control-container",e),o=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=l.create("div","mapboxgl-ctrl-"+t,n)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this.options.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.options.preserveDrawingBuffer});return t?void(this.painter=new c(t,this.transform)):void console.error("Failed to initialize WebGL")},_contextLost:function(t){t.preventDefault(),this._frameId&&a.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},loaded:function(){return this._styleDirty||this._sourcesDirty?!1:!(!this.style||!this.style.loaded())},_update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},_render:function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.debug,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||!this.animationLoop.stopped())&&this._rerender(),this},remove:function(){this._hash&&this._hash.remove(),a.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof window&&window.removeEventListener("resize",this._onWindowResize,!1),n(this._canvasContainer),n(this._controlContainer),this._container.classList.remove("mapboxgl-map")},onError:function(t){console.error(t.error)},_rerender:function(){this.style&&!this._frameId&&(this._frameId=a.frame(this._render))},_forwardStyleEvent:function(t){this.fire("style."+t.type,o.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style._cascade(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this._update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this._update(),this._forwardSourceEvent(t)},_onWindowResize:function(){this.stop().resize()._update()}}),o.extendAll(x.prototype,{_debug:!1,get debug(){return this._debug},set debug(t){this._debug!==t&&(this._debug=t,this._update())},_collisionDebug:!1,get collisionDebug(){return this._collisionDebug},set collisionDebug(t){this._collisionDebug!==t&&(this._collisionDebug=t,this.style._redoPlacement())},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this._update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this._update()}})},{"../geo/lng_lat":11,"../geo/lng_lat_bounds":12,"../geo/transform":13,"../render/painter":27,"../style/animation_loop":41,"../style/style":44,"../util/browser":88,"../util/canvas":89,"../util/dom":91,"../util/evented":93,"../util/util":99,"./camera":71,"./control/attribution":72,"./hash":82,"./interaction":83,"point-geometry":152}],85:[function(t,e,i){"use strict";function n(t){r.setOptions(this,t),r.bindAll(["_update","_onClickClose"],this)}e.exports=n;var r=t("../util/util"),o=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat");n.prototype=r.inherit(o,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=s.convert(t),this._update(),this},setText:function(t){return this._createContent(),this._content.appendChild(document.createTextNode(t)),this._update(),this},setHTML:function(t){this._createContent();var e,i=document.createElement("body");for(i.innerHTML=t;e=i.firstChild,e;)this._content.appendChild(e);return this._update(),this},_createContent:function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},_update:function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this._map.project(this._lngLat).round(),e=this.options.anchor;if(!e){var i=this._container.offsetWidth,n=this._container.offsetHeight;e=t.y<n?["top"]:t.y>this._map.transform.height-n?["bottom"]:[],t.x<i/2?e.push("left"):t.x>this._map.transform.width-i/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var r={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},o=this._container.classList;for(var s in r)o.remove("mapboxgl-popup-anchor-"+s);o.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,r[e]+" translate("+t.x+"px,"+t.y+"px)")}},_onClickClose:function(){this.remove()}})},{"../geo/lng_lat":11,"../util/dom":91,"../util/evented":93,"../util/util":99}],86:[function(t,e,i){"use strict";function n(t,e){this.target=t,this.parent=e,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}e.exports=n,n.prototype.receive=function(t){var e,i=t.data;if("<response>"===i.type)e=this.callbacks[i.id],delete this.callbacks[i.id],e(i.error||null,i.data);else if("undefined"!=typeof i.id){var n=i.id;this.parent[i.type](i.data,function(t,e,i){this.postMessage({type:"<response>",id:String(n),error:t?String(t):null,data:e},i)}.bind(this))}else this.parent[i.type](i.data)},n.prototype.send=function(t,e,i,n){var r=null;i&&(this.callbacks[r=this.callbackID++]=i),this.postMessage({type:t,id:String(r),data:e},n)},n.prototype.postMessage=function(t,e){try{this.target.postMessage(t,e)}catch(i){this.target.postMessage(t)}}},{}],87:[function(t,e,i){"use strict";function n(t){var e=document.createElement("a");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}i.getJSON=function(t,e){var i=new XMLHttpRequest;return i.open("GET",t,!0),i.setRequestHeader("Accept","application/json"),i.onerror=function(t){e(t)},i.onload=function(){if(i.status>=200&&i.status<300&&i.response){var t;try{t=JSON.parse(i.response)}catch(n){return e(n)}e(null,t)}else e(new Error(i.statusText))},i.send(),i},i.getArrayBuffer=function(t,e){var i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onerror=function(t){e(t)},i.onload=function(){i.status>=200&&i.status<300&&i.response?e(null,i.response):e(new Error(i.statusText))},i.send(),i},i.getImage=function(t,e){return i.getArrayBuffer(t,function(t,i){if(t)return e(t);var n=new Image;n.onload=function(){e(null,n),(window.URL||window.webkitURL).revokeObjectURL(n.src)};var r=new Blob([new Uint8Array(i)],{type:"image/png"});return n.src=(window.URL||window.webkitURL).createObjectURL(r),n.getData=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=n.width,t.height=n.height,e.drawImage(n,0,0),e.getImageData(0,0,n.width,n.height).data},n})},i.getVideo=function(t,e){var i=document.createElement("video");i.onloadstart=function(){e(null,i)};for(var r=0;r<t.length;r++){var o=document.createElement("source");n(t[r])||(i.crossOrigin="Anonymous"),o.src=t[r],i.appendChild(o)}return i.getData=function(){return i},i}},{}],88:[function(t,e,i){"use strict";var n=t("./canvas");e.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;i.frame=function(t){return r(t)};var o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;i.cancelFrame=function(t){o(t)},i.timed=function(t,n,r){function o(l){a||(l=e.exports.now(),l>=s+n?t.call(r,1):(t.call(r,(l-s)/n),i.frame(o)))}if(!n)return t.call(r,1),null;var a=!1,s=e.exports.now();return i.frame(o),function(){a=!0}},i.supportsWebGL={},i.supported=function(t){for(var e=([function(){return"undefined"!=typeof window},function(){return"undefined"!=typeof document},function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)},function(){return!(!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions))},function(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON},function(){var e=t&&t.failIfMajorPerformanceCaveat||!1,r="fimpc_"+String(e);if(void 0===i.supportsWebGL[r]){var o=new n;i.supportsWebGL[r]=o.supportsWebGLContext(e)}return i.supportsWebGL[r]},function(){return"Worker"in window}]),r=0;r<e.length;r++)if(!e[r]())return!1;return!0},i.hardwareConcurrency=navigator.hardwareConcurrency||8,Object.defineProperty(i,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),i.supportsWebp=!1;var a=document.createElement("img");a.onload=function(){i.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./canvas":89}],89:[function(t,e,i){"use strict";function n(t,e){this.canvas=document.createElement("canvas"),t&&e&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",t._contextLost.bind(t),!1),this.canvas.addEventListener("webglcontextrestored",t._contextRestored.bind(t),!1),this.canvas.setAttribute("tabindex",0),e.appendChild(this.canvas))}var r=t("../util");e.exports=n,n.prototype.resize=function(t,e){var i=window.devicePixelRatio||1;this.canvas.width=i*t,this.canvas.height=i*e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"};var o={antialias:!1,alpha:!0,stencil:!0,depth:!0};n.prototype.getWebGLContext=function(t){return t=r.extend({},t,o),this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)},n.prototype.supportsWebGLContext=function(t){var e=r.extend({failIfMajorPerformanceCaveat:t},o);return"probablySupportsContext"in this.canvas?this.canvas.probablySupportsContext("webgl",e)||this.canvas.probablySupportsContext("experimental-webgl",e):"supportsContext"in this.canvas?this.canvas.supportsContext("webgl",e)||this.canvas.supportsContext("experimental-webgl",e):!!window.WebGLRenderingContext&&!!this.getWebGLContext(t)},n.prototype.getElement=function(){return this.canvas}},{"../util":99}],90:[function(t,e,i){"use strict";function n(e,i){this.actors=[],this.currentActor=0;for(var n=0;e>n;n++){var a=new o(t("../../source/worker")),s=new r(a,i);s.name="Worker "+n,this.actors.push(s)}}var r=t("../actor"),o=t("webworkify");e.exports=n,n.prototype={broadcast:function(t,e){for(var i=0;i<this.actors.length;i++)this.actors[i].send(t,e)},send:function(t,e,i,n,r){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i,r),n},remove:function(){for(var t=0;t<this.actors.length;t++)this.actors[t].target.terminate();this.actors=[]}}},{"../../source/worker":39,"../actor":86,webworkify:163}],91:[function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function r(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",r,!0)}var o=t("point-geometry");i.create=function(t,e,i){var n=document.createElement(t);return e&&(n.className=e),i&&i.appendChild(n),n};var a,s=document.documentElement.style,l=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){l&&(a=s[l],s[l]="none")},i.enableDrag=function(){l&&(s[l]=a)};var u=n(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[u]=e},i.suppressClick=function(){window.addEventListener("click",r,!0),window.setTimeout(function(){window.removeEventListener("click",r,!0)},0)},i.mousePos=function(t,e){var i=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)}},{"point-geometry":152}],92:[function(t,e,i){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},{}],93:[function(t,e,i){"use strict";var n=t("./util"),r={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var i=this._events[t].indexOf(e);i>=0&&this._events[t].splice(i,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var i=function(n){this.off(t,i),e.call(this,n)}.bind(this);return this.on(t,i),this},fire:function(t,e){if(!this.listens(t))return this;e=n.extend({},e),n.extend(e,{type:t,target:this});for(var i=this._events[t].slice(),r=0;r<i.length;r++)i[r].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};e.exports=r},{"./util":99}],94:[function(t,e,i){"use strict";function n(t,e){this.stacks=t.readFields(r,[],e)}function r(t,e,i){if(1===t){var n=i.readMessage(o,{glyphs:{}});e.push(n)}}function o(t,e,i){if(1===t)e.name=i.readString();else if(2===t)e.range=i.readString();else if(3===t){var n=i.readMessage(a,{});e.glyphs[n.id]=n}}function a(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}e.exports=n},{}],95:[function(t,e,i){"use strict";function n(t,e,i){return t*(1-i)+e*i}e.exports=n,n.number=n,n.vec2=function(t,e,i){return[n(t[0],e[0],i),n(t[1],e[1],i)]},n.color=function(t,e,i){return[n(t[0],e[0],i),n(t[1],e[1],i),n(t[2],e[2],i),n(t[3],e[3],i)]},n.array=function(t,e,i){return t.map(function(t,r){return n(t,e[r],i)})}},{}],96:[function(t,e,i){"use strict";function n(t,e){this.max=t,this.onRemove=e,this.reset()}e.exports=n,n.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},n.prototype.add=function(t,e){if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.get(this.order[0]);i&&this.onRemove(i)}return this},n.prototype.has=function(t){return t in this.data},n.prototype.keys=function(){return this.order},n.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},n.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.get(this.order[0]);e&&this.onRemove(e)}return this}},{}],97:[function(t,e,i){"use strict";function n(t,e,i){if(i=i||r.ACCESS_TOKEN,!i&&r.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(t=t.replace(/^mapbox:\/\//,r.API_URL+e),t+=-1!==t.indexOf("?")?"&access_token=":"?access_token=",r.REQUIRE_ACCESS_TOKEN){
if("s"===i[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");t+=i}return t}var r=t("./config"),o=t("./browser");e.exports.normalizeStyleURL=function(t,e){if(!t.match(/^mapbox:\/\/styles\//))return t;var i=t.split("/"),r=i[3],o=i[4],a=i[5]?"/draft":"";return n("mapbox://"+r+"/"+o+a,"/styles/v1/",e)},e.exports.normalizeSourceURL=function(t,e){return t.match(/^mapbox:\/\//)?n(t+".json","/v4/",e)+"&secure":t},e.exports.normalizeGlyphsURL=function(t,e){if(!t.match(/^mapbox:\/\//))return t;var i=t.split("/")[3];return n("mapbox://"+i+"/{fontstack}/{range}.pbf","/fonts/v1/",e)},e.exports.normalizeSpriteURL=function(t,e,i,r){if(!t.match(/^mapbox:\/\/sprites\//))return t+e+i;var o=t.split("/"),a=o[3],s=o[4],l=o[5]?"/draft":"";return n("mapbox://"+a+"/"+s+l+"/sprite"+e+i,"/styles/v1/",r)},e.exports.normalizeTileURL=function(t,e,i){if(!e||!e.match(/^mapbox:\/\//))return t;t=t.replace(/([?&]access_token=)tk\.[^&]+/,"$1"+r.ACCESS_TOKEN);var n=o.supportsWebp?"webp":"$1";return t.replace(/\.((?:png|jpg)\d*)(?=$|\?)/,o.devicePixelRatio>=2||512===i?"@2x."+n:"."+n)}},{"./browser":88,"./config":92}],98:[function(t,e,i){"use strict";function n(t,e){return e.replace(/{([^{}()\[\]<>$=:;.,^]+)}/g,function(e,i){return i in t?t[i]:""})}e.exports=n},{}],99:[function(t,e,i){"use strict";var n=t("unitbezier"),r=t("../geo/coordinate");i.easeCubicInOut=function(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)},i.bezier=function(t,e,i,r){var o=new n(t,e,i,r);return function(t){return o.solve(t)}},i.ease=i.bezier(.25,.1,.25,1),i.premultiply=function(t,e){if(!t)return null;var i=t[3]*e;return[t[0]*i,t[1]*i,t[2]*i,i]},i.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},i.wrap=function(t,e,i){var n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r},i.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},i.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var n=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0===--n&&i(o,r)})})},i.keysDifference=function(t,e){var i=[];for(var n in t)n in e||i.push(n);return i},i.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t},i.extendAll=function(t,e){for(var i in e)Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return t},i.inherit=function(t,e){var n="function"==typeof t?t.prototype:t,r=Object.create(n);return i.extendAll(r,e),r},i.pick=function(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];r in t&&(i[r]=t[r])}return i};var o=1;i.uniqueId=function(){return o++},i.throttle=function(t,e,i){var n,r,o,a;return a=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(t.apply(i,arguments),setTimeout(a,e),n=!0)}},i.debounce=function(t,e){var i,n;return function(){n=arguments,clearTimeout(i),i=setTimeout(function(){t.apply(null,n)},e)}},i.bindAll=function(t,e){t.forEach(function(t){e[t]=e[t].bind(e)})},i.bindHandlers=function(t){for(var e in t)"function"==typeof t[e]&&0===e.indexOf("_on")&&(t[e]=t[e].bind(t))},i.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?Object.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options},i.getCoordinatesCenter=function(t){for(var e=1/0,i=1/0,n=-(1/0),o=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),i=Math.min(i,t[a].row),n=Math.max(n,t[a].column),o=Math.max(o,t[a].row);var s=n-e,l=o-i,u=Math.max(s,l);return new r((e+n)/2,(i+o)/2,0).zoomTo(Math.floor(-Math.log(u)/Math.LN2))},i.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},i.startsWith=function(t,e){return 0===t.indexOf(e)},i.mapObject=function(t,e,i){var n={};for(var r in t)n[r]=e.call(i||this,t[r],r,t);return n},i.filterObject=function(t,e,i){var n={};for(var r in t)e.call(i||this,t[r],r,t)&&(n[r]=t[r]);return n},i.deepEqual=function a(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!a(t[i],e[i]))return!1;return!0}if("object"==typeof t){if("object"!=typeof e)return!1;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var r in t)if(!a(t[r],e[r]))return!1;return!0}return t===e}},{"../geo/coordinate":10,unitbezier:157}],100:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],101:[function(t,e,i){(function(t){function e(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};i.resolve=function(){for(var i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(i=a+"/"+i,r="/"===a.charAt(0))}return i=e(n(i.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+i||"."},i.normalize=function(t){var r=i.isAbsolute(t),o="/"===a(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},i.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=i.resolve(t).substr(1),e=i.resolve(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),a=Math.min(r.length,o.length),s=a,l=0;a>l;l++)if(r[l]!==o[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){var e=o(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},i.basename=function(t,e){var i=o(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},i.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return 0>e&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:102}],102:[function(t,e,i){function n(){h=!1,s.length?u=s.concat(u):c=-1,u.length&&r()}function r(){if(!h){var t=setTimeout(n);h=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,h=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,l=e.exports={},u=[],h=!1,c=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new o(t,e)),1!==u.length||h||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],103:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],104:[function(t,e,i){(function(e,n){function r(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(e)?n.showHidden=e:e&&i._extend(n,e),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),l(n,t,n.depth)}function o(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function l(t,e,n){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return y(r)||(r=l(t,r,n)),r}var o=u(t,e);if(o)return o;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),M(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(e);if(0===a.length){if(E(e)){var _=e.name?": "+e.name:"";return t.stylize("[Function"+_+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return t.stylize(Date.prototype.toString.call(e),"date");if(M(e))return h(e)}var v="",g=!1,x=["{","}"];if(p(e)&&(g=!0,x=["[","]"]),E(e)){var b=e.name?": "+e.name:"";v=" [Function"+b+"]"}if(w(e)&&(v=" "+RegExp.prototype.toString.call(e)),S(e)&&(v=" "+Date.prototype.toUTCString.call(e)),M(e)&&(v=" "+h(e)),0===a.length&&(!g||0==e.length))return x[0]+v+x[1];if(0>n)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var T;return T=g?c(t,e,n,m,a):a.map(function(i){return f(t,e,n,m,i,g)}),t.seen.pop(),d(T,v,x)}function u(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return g(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):_(e)?t.stylize("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,i,n,r){for(var o=[],a=0,s=e.length;s>a;++a)A(e,String(a))?o.push(f(t,e,i,n,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,i,n,r,!0))}),o}function f(t,e,i,n,r,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),A(n,r)||(a="["+r+"]"),s||(t.seen.indexOf(u.value)<0?(s=_(i)?l(t,u.value,null):l(t,u.value,i-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),b(a)){if(o&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t,e,i){var n=0,r=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function p(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function _(t){return null===t}function v(t){return null==t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function b(t){return void 0===t}function w(t){return T(t)&&"[object RegExp]"===I(t)}function T(t){return"object"==typeof t&&null!==t}function S(t){return T(t)&&"[object Date]"===I(t)}function M(t){return T(t)&&("[object Error]"===I(t)||t instanceof Error)}function E(t){return"function"==typeof t}function D(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function I(t){return Object.prototype.toString.call(t)}function P(t){return 10>t?"0"+t.toString(10):t.toString(10)}function z(){var t=new Date,e=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;i.format=function(t){if(!y(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,o=n.length,a=String(t).replace(k,function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return t}}),s=n[i];o>i;s=n[++i])a+=_(s)||!T(s)?" "+s:" "+r(s);return a},i.deprecate=function(t,r){function o(){if(!a){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),a=!0}return t.apply(this,arguments)}if(b(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var C,L={};i.debuglog=function(t){if(b(C)&&(C=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(C)){var n=e.pid;L[t]=function(){var e=i.format.apply(i,arguments);console.error("%s %d: %s",t,n,e)}}else L[t]=function(){};return L[t]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=m,i.isNull=_,i.isNullOrUndefined=v,i.isNumber=g,i.isString=y,i.isSymbol=x,i.isUndefined=b,i.isRegExp=w,i.isObject=T,i.isDate=S,i.isError=M,i.isFunction=E,i.isPrimitive=D,i.isBuffer=t("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",z(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!T(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":103,_process:102,inherits:100}],105:[function(t,e,i){function n(t){return t=Math.round(t),0>t?0:t>255?255:t}function r(t){return 0>t?0:t>1?1:t}function o(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var i=parseInt(e.substr(1),16);return i>=0&&4095>=i?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null}if(7===e.length){var i=parseInt(e.substr(1),16);return i>=0&&16777215>=i?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null}return null}var r=e.indexOf("("),l=e.indexOf(")");if(-1!==r&&l+1===e.length){var h=e.substr(0,r),c=e.substr(r+1,l-(r+1)).split(","),f=1;switch(h){case"rgba":if(4!==c.length)return null;f=a(c.pop());case"rgb":return 3!==c.length?null:[o(c[0]),o(c[1]),o(c[2]),f];case"hsla":if(4!==c.length)return null;f=a(c.pop());case"hsl":if(3!==c.length)return null;var d=(parseFloat(c[0])%360+360)%360/360,p=a(c[1]),m=a(c[2]),_=.5>=m?m*(p+1):m+p-m*p,v=2*m-_;return[n(255*s(v,_,d+1/3)),n(255*s(v,_,d)),n(255*s(v,_,d-1/3)),f];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{i.parseCSSColor=l}catch(h){}},{}],106:[function(t,e,i){"use strict";function n(t){return new Function("f","return "+r(t))}function r(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var i="=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?t.slice(1).map(r).join("||"):"all"===e?t.slice(1).map(r).join("&&"):"none"===e?"!("+t.slice(1).map(r).join("||")+")":"in"===e?s(t[1],t.slice(2)):"!in"===e?"!("+s(t[1],t.slice(2))+")":"true";return"("+i+")"}function o(t){return"$type"===t?"f.type":"(f.properties || {})["+JSON.stringify(t)+"]"}function a(t,e,i,n){var r=o(t),a="$type"===t?u.indexOf(e):JSON.stringify(e);return(n?"typeof "+r+"=== typeof "+a+"&&":"")+r+i+a}function s(t,e){"$type"===t&&(e=e.map(function(t){return u.indexOf(t)}));var i=JSON.stringify(e.sort(l)),n=o(t);return e.length<=200?i+".indexOf("+n+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+n+", "+i+",0,"+(e.length-1)+")"}function l(t,e){return e>t?-1:t>e?1:0}e.exports=n;var u=["Unknown","Point","LineString","Polygon"]},{}],107:[function(t,e,i){"use strict";function n(t,e,i,n,a,s,l,u){if(i/=e,n/=e,l>=i&&n>=u)return t;if(l>n||i>u)return null;for(var h=[],c=0;c<t.length;c++){var f,d,p=t[c],m=p.geometry,_=p.type;if(f=p.min[a],d=p.max[a],f>=i&&n>=d)h.push(p);else if(!(f>n||i>d)){var v=1===_?r(m,i,n,a):o(m,i,n,a,s,3===_);v.length&&h.push({geometry:v,type:_,tags:t[c].tags||null,min:p.min,max:p.max})}}return h.length?h:null}function r(t,e,i,n){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=a[n];s>=e&&i>=s&&r.push(a)}return r}function o(t,e,i,n,r,o){for(var s=[],l=0;l<t.length;l++){var u,h,c,f=0,d=0,p=null,m=t[l],_=m.area,v=m.dist,g=m.length,y=[];for(h=0;g-1>h;h++)u=p||m[h],p=m[h+1],f=d||u[n],d=p[n],e>f?d>i?(y.push(r(u,p,e),r(u,p,i)),o||(y=a(s,y,_,v))):d>=e&&y.push(r(u,p,e)):f>i?e>d?(y.push(r(u,p,i),r(u,p,e)),o||(y=a(s,y,_,v))):i>=d&&y.push(r(u,p,i)):(y.push(u),e>d?(y.push(r(u,p,e)),o||(y=a(s,y,_,v))):d>i&&(y.push(r(u,p,i)),o||(y=a(s,y,_,v))));u=m[g-1],f=u[n],f>=e&&i>=f&&y.push(u),c=y[y.length-1],o&&c&&(y[0][0]!==c[0]||y[0][1]!==c[1])&&y.push(y[0]),a(s,y,_,v)}return s}function a(t,e,i,n){return e.length&&(e.area=i,e.dist=n,t.push(e)),[]}e.exports=n},{}],108:[function(t,e,i){"use strict";function n(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)r(i,t.features[n],e);else"Feature"===t.type?r(i,t,e):r(i,{geometry:t},e);return i}function r(t,e,i){var n,l,u,h=e.geometry,c=h.type,f=h.coordinates,d=e.properties;if("Point"===c)t.push(o(d,1,[s(f)]));else if("MultiPoint"===c)t.push(o(d,1,a(f)));else if("LineString"===c)t.push(o(d,2,[a(f,i)]));else if("MultiLineString"===c||"Polygon"===c){for(u=[],n=0;n<f.length;n++)u.push(a(f[n],i));t.push(o(d,"Polygon"===c?3:2,u))}else if("MultiPolygon"===c){for(u=[],n=0;n<f.length;n++)for(l=0;l<f[n].length;l++)u.push(a(f[n][l],i));t.push(o(d,3,u))}else{if("GeometryCollection"!==c)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<h.geometries.length;n++)r(t,{geometry:h.geometries[n],properties:d},i)}}function o(t,e,i){var n={geometry:i,type:e,tags:t||null,min:[2,1],max:[-1,0]};return u(n),n}function a(t,e){for(var i=[],n=0;n<t.length;n++)i.push(s(t[n]));return e&&(c(i,e),l(i)),i}function s(t){var e=Math.sin(t[1]*Math.PI/180),i=t[0]/360+.5,n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n=-1>n?-1:n>1?1:n,[i,n,0]}function l(t){for(var e,i,n=0,r=0,o=0;o<t.length-1;o++)e=i||t[o],i=t[o+1],n+=e[0]*i[1]-i[0]*e[1],r+=Math.abs(i[0]-e[0])+Math.abs(i[1]-e[1]);t.area=Math.abs(n/2),t.dist=r}function u(t){var e=t.geometry,i=t.min,n=t.max;if(1===t.type)h(i,n,e);else for(var r=0;r<e.length;r++)h(i,n,e[r]);return t}function h(t,e,i){for(var n,r=0;r<i.length;r++)n=i[r],t[0]=Math.min(n[0],t[0]),e[0]=Math.max(n[0],e[0]),t[1]=Math.min(n[1],t[1]),e[1]=Math.max(n[1],e[1])}e.exports=n;var c=t("./simplify")},{"./simplify":110}],109:[function(t,e,i){"use strict";function n(t,e){return new r(t,e)}function r(t,e){e=this.options=l(Object.create(this.options),e);var i=e.debug;i&&console.time("preprocess data");var n=1<<e.maxZoom,r=h(t,e.tolerance/(n*e.extent));this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=d(r,e.buffer/e.extent,a),r.length&&this.splitTile(r,0,0,0),i&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,i){return 32*((1<<t)*i+e)+t}function a(t,e,i){return[i,(i-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,i){return[(i-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],i,1]}function l(t,e){for(var i in e)t[i]=e[i];return t}function u(t,e,i){var n=t.source;if(1!==n.length)return!1;var r=n[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var a=0;o>a;a++){var s=c.point(r.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-i&&s[0]!==e+i||s[1]!==-i&&s[1]!==e+i)return!1}return!0}e.exports=n;var h=t("./convert"),c=t("./transform"),f=t("./clip"),d=t("./wrap"),p=t("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,i,n,r,l,h){for(var c=[t,e,i,n],d=this.options,m=d.debug,_=null;c.length;){n=c.pop(),i=c.pop(),e=c.pop(),t=c.pop();var v=1<<e,g=o(e,i,n),y=this.tiles[g],x=e===d.maxZoom?0:d.tolerance/(v*d.extent);if(!y&&(m>1&&console.time("creation"),y=this.tiles[g]=p(t,v,i,n,x,e===d.maxZoom),this.tileCoords.push({z:e,x:i,y:n}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,y.numFeatures,y.numPoints,y.numSimplified),console.timeEnd("creation"));var b="z"+e;this.stats[b]=(this.stats[b]||0)+1,this.total++}if(y.source=t,r){if(e===d.maxZoom||e===r)continue;var w=1<<r-e;if(i!==Math.floor(l/w)||n!==Math.floor(h/w))continue}else if(e===d.indexMaxZoom||y.numPoints<=d.indexMaxPoints)continue;if(d.solidChildren||!u(y,d.extent,d.buffer)){y.source=null,m>1&&console.time("clipping");var T,S,M,E,D,I,P=.5*d.buffer/d.extent,z=.5-P,A=.5+P,k=1+P;T=S=M=E=null,D=f(t,v,i-P,i+A,0,a,y.min[0],y.max[0]),I=f(t,v,i+z,i+k,0,a,y.min[0],y.max[0]),D&&(T=f(D,v,n-P,n+A,1,s,y.min[1],y.max[1]),S=f(D,v,n+z,n+k,1,s,y.min[1],y.max[1])),I&&(M=f(I,v,n-P,n+A,1,s,y.min[1],y.max[1]),E=f(I,v,n+z,n+k,1,s,y.min[1],y.max[1])),m>1&&console.timeEnd("clipping"),T&&c.push(T,e+1,2*i,2*n),S&&c.push(S,e+1,2*i,2*n+1),M&&c.push(M,e+1,2*i+1,2*n),E&&c.push(E,e+1,2*i+1,2*n+1)}else r&&(_=e)}return _},r.prototype.getTile=function(t,e,i){var n=this.options,r=n.extent,a=n.debug,s=1<<t;e=(e%s+s)%s;var l=o(t,e,i);if(this.tiles[l])return c.tile(this.tiles[l],r);a>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var h,f=t,d=e,p=i;!h&&f>0;)f--,d=Math.floor(d/2),p=Math.floor(p/2),h=this.tiles[o(f,d,p)];if(!h||!h.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",f,d,p),u(h,r,n.buffer))return c.tile(h,r);a>1&&console.time("drilling down");var m=this.splitTile(h.source,f,d,p,t,e,i);if(a>1&&console.timeEnd("drilling down"),null!==m){var _=1<<t-m;l=o(m,Math.floor(e/_),Math.floor(i/_))}return this.tiles[l]?c.tile(this.tiles[l],r):null}},{"./clip":107,"./convert":108,"./tile":111,"./transform":112,"./wrap":113}],110:[function(t,e,i){"use strict";function n(t,e){var i,n,o,a,s=e*e,l=t.length,u=0,h=l-1,c=[];for(t[u][2]=1,t[h][2]=1;h;){for(n=0,i=u+1;h>i;i++)o=r(t[i],t[u],t[h]),o>n&&(a=i,n=o);n>s?(t[a][2]=n,c.push(u),c.push(a),u=a):(h=c.pop(),u=c.pop())}}function r(t,e,i){var n=e[0],r=e[1],o=i[0],a=i[1],s=t[0],l=t[1],u=o-n,h=a-r;if(0!==u||0!==h){var c=((s-n)*u+(l-r)*h)/(u*u+h*h);c>1?(n=o,r=a):c>0&&(n+=u*c,r+=h*c)}return u=s-n,h=l-r,u*u+h*h}e.exports=n},{}],111:[function(t,e,i){"use strict";function n(t,e,i,n,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z2:e,transformed:!1,min:[2,1],max:[-1,0]},l=0;l<t.length;l++){s.numFeatures++,r(s,t[l],o,a);var u=t[l].min,h=t[l].max;u[0]<s.min[0]&&(s.min[0]=u[0]),u[1]<s.min[1]&&(s.min[1]=u[1]),h[0]>s.max[0]&&(s.max[0]=h[0]),h[1]>s.max[1]&&(s.max[1]=h[1])}return s}function r(t,e,i,n){var r,o,a,s,l=e.geometry,u=e.type,h=[],c=i*i;if(1===u)for(r=0;r<l.length;r++)h.push(l[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<l.length;r++)if(a=l[r],n||!(2===u&&a.dist<i||3===u&&a.area<c)){var f=[];for(o=0;o<a.length;o++)s=a[o],(n||s[2]>c)&&(f.push(s),t.numSimplified++),t.numPoints++;h.push(f)}else t.numPoints+=a.length;h.length&&t.features.push({geometry:h,type:u,tags:e.tags||null})}e.exports=n},{}],112:[function(t,e,i){"use strict";function n(t,e){if(t.transformed)return t;var i,n,o,a=t.z2,s=t.x,l=t.y;for(i=0;i<t.features.length;i++){var u=t.features[i],h=u.geometry,c=u.type;if(1===c)for(n=0;n<h.length;n++)h[n]=r(h[n],e,a,s,l);else for(n=0;n<h.length;n++){var f=h[n];for(o=0;o<f.length;o++)f[o]=r(f[o],e,a,s,l)}}return t.transformed=!0,t}function r(t,e,i,n,r){var o=Math.round(e*(t[0]*i-n)),a=Math.round(e*(t[1]*i-r));return[o,a]}i.tile=n,i.point=r},{}],113:[function(t,e,i){"use strict";function n(t,e,i){var n=t,o=a(t,1,-1-e,e,0,i,-1,2),s=a(t,1,1-e,2+e,0,i,-1,2);return(o||s)&&(n=a(t,1,-e,1+e,0,i,-1,2),o&&(n=r(o,1).concat(n)),s&&(n=n.concat(r(s,-1)))),n}function r(t,e){for(var i=[],n=0;n<t.length;n++){var r,a=t[n],s=a.type;if(1===s)r=o(a.geometry,e);else{r=[];for(var l=0;l<a.geometry.length;l++)r.push(o(a.geometry[l],e))}i.push({geometry:r,type:s,tags:a.tags,min:[a.min[0]+e,a.min[1]],max:[a.max[0]+e,a.max[1]]})}return i}function o(t,e){var i=[];i.area=t.area,i.dist=t.dist;for(var n=0;n<t.length;n++)i.push([t[n][0]+e,t[n][1],t[n][2]]);return i}var a=t("./clip");e.exports=n},{"./clip":107}],114:[function(t,e,i){i.glMatrix=t("./gl-matrix/common.js"),i.mat2=t("./gl-matrix/mat2.js"),i.mat2d=t("./gl-matrix/mat2d.js"),i.mat3=t("./gl-matrix/mat3.js"),i.mat4=t("./gl-matrix/mat4.js"),i.quat=t("./gl-matrix/quat.js"),i.vec2=t("./gl-matrix/vec2.js"),i.vec3=t("./gl-matrix/vec3.js"),i.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":115,"./gl-matrix/mat2.js":116,"./gl-matrix/mat2d.js":117,"./gl-matrix/mat3.js":118,"./gl-matrix/mat4.js":119,"./gl-matrix/quat.js":120,"./gl-matrix/vec2.js":121,"./gl-matrix/vec3.js":122,"./gl-matrix/vec4.js":123}],115:[function(t,e,i){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=n},{}],116:[function(t,e,i){var n=t("./common.js"),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.fromValues=function(t,e,i,r){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o},r.set=function(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t},r.transpose=function(t,e){if(t===e){var i=e[1];t[1]=e[2],t[2]=i}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i*o-r*n;return a?(a=1/a,t[0]=o*a,t[1]=-n*a,t[2]=-r*a,t[3]=i*a,t):null},r.adjoint=function(t,e){var i=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=i,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],l=i[1],u=i[2],h=i[3];return t[0]=n*s+o*l,t[1]=r*s+a*l,t[2]=n*u+o*h,t[3]=r*u+a*h,t},r.mul=r.multiply,r.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+o*s,t[1]=r*l+a*s,t[2]=n*-s+o*l,t[3]=r*-s+a*l,t},r.scale=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],l=i[1];return t[0]=n*s,t[1]=r*s,t[2]=o*l,t[3]=a*l,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,i,n){return t[2]=n[2]/n[0],i[0]=n[0],i[1]=n[1],i[3]=n[3]-t[2]*i[1],[t,e,i]},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},r.sub=r.subtract,r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=e[0],l=e[1],u=e[2],h=e[3];return Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))},r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t},e.exports=r},{"./common.js":115}],117:[function(t,e,i){var n=t("./common.js"),r={};r.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,
t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.fromValues=function(t,e,i,r,o,a){var s=new n.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s[4]=o,s[5]=a,s},r.set=function(t,e,i,n,r,o,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=i*o-n*r;return l?(l=1/l,t[0]=o*l,t[1]=-n*l,t[2]=-r*l,t[3]=i*l,t[4]=(r*s-o*a)*l,t[5]=(n*a-i*s)*l,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=i[0],h=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return t[0]=n*u+o*h,t[1]=r*u+a*h,t[2]=n*c+o*f,t[3]=r*c+a*f,t[4]=n*d+o*p+s,t[5]=r*d+a*p+l,t},r.mul=r.multiply,r.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(i),h=Math.cos(i);return t[0]=n*h+o*u,t[1]=r*h+a*u,t[2]=n*-u+o*h,t[3]=r*-u+a*h,t[4]=s,t[5]=l,t},r.scale=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=i[0],h=i[1];return t[0]=n*u,t[1]=r*u,t[2]=o*h,t[3]=a*h,t[4]=s,t[5]=l,t},r.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=i[0],h=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=n*u+o*h+s,t[5]=r*u+a*h+l,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=0,t[5]=0,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=e[0],h=e[1],c=e[2],f=e[3],d=e[4],p=e[5];return Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-f)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-p)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))},e.exports=r},{"./common.js":115}],118:[function(t,e,i){var n=t("./common.js"),r={};r.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},r.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromValues=function(t,e,i,r,o,a,s,l,u){var h=new n.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=i,h[3]=r,h[4]=o,h[5]=a,h[6]=s,h[7]=l,h[8]=u,h},r.set=function(t,e,i,n,r,o,a,s,l,u){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=h*a-s*u,f=-h*o+s*l,d=u*o-a*l,p=i*c+n*f+r*d;return p?(p=1/p,t[0]=c*p,t[1]=(-h*n+r*u)*p,t[2]=(s*n-r*a)*p,t[3]=f*p,t[4]=(h*i-r*l)*p,t[5]=(-s*i+r*o)*p,t[6]=d*p,t[7]=(-u*i+n*l)*p,t[8]=(a*i-n*o)*p,t):null},r.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],h=e[8];return t[0]=a*h-s*u,t[1]=r*u-n*h,t[2]=n*s-r*a,t[3]=s*l-o*h,t[4]=i*h-r*l,t[5]=r*o-i*s,t[6]=o*u-a*l,t[7]=n*l-i*u,t[8]=i*a-n*o,t},r.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+i*(-u*r+a*s)+n*(l*r-o*s)},r.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],f=i[0],d=i[1],p=i[2],m=i[3],_=i[4],v=i[5],g=i[6],y=i[7],x=i[8];return t[0]=f*n+d*a+p*u,t[1]=f*r+d*s+p*h,t[2]=f*o+d*l+p*c,t[3]=m*n+_*a+v*u,t[4]=m*r+_*s+v*h,t[5]=m*o+_*l+v*c,t[6]=g*n+y*a+x*u,t[7]=g*r+y*s+x*h,t[8]=g*o+y*l+x*c,t},r.mul=r.multiply,r.translate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],f=i[0],d=i[1];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=f*n+d*a+u,t[7]=f*r+d*s+h,t[8]=f*o+d*l+c,t},r.rotate=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],f=Math.sin(i),d=Math.cos(i);return t[0]=d*n+f*a,t[1]=d*r+f*s,t[2]=d*o+f*l,t[3]=d*a-f*n,t[4]=d*s-f*r,t[5]=d*l-f*o,t[6]=u,t[7]=h,t[8]=c,t},r.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,l=r+r,u=i*a,h=n*a,c=n*s,f=r*a,d=r*s,p=r*l,m=o*a,_=o*s,v=o*l;return t[0]=1-c-p,t[3]=h-v,t[6]=f+_,t[1]=h+v,t[4]=1-u-p,t[7]=d-m,t[2]=f-_,t[5]=d+m,t[8]=1-u-c,t},r.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],_=e[14],v=e[15],g=i*s-n*a,y=i*l-r*a,x=i*u-o*a,b=n*l-r*s,w=n*u-o*s,T=r*u-o*l,S=h*m-c*p,M=h*_-f*p,E=h*v-d*p,D=c*_-f*m,I=c*v-d*m,P=f*v-d*_,z=g*P-y*I+x*D+b*E-w*M+T*S;return z?(z=1/z,t[0]=(s*P-l*I+u*D)*z,t[1]=(l*E-a*P-u*M)*z,t[2]=(a*I-s*E+u*S)*z,t[3]=(r*I-n*P-o*D)*z,t[4]=(i*P-r*E+o*M)*z,t[5]=(n*E-i*I-o*S)*z,t[6]=(m*T-_*w+v*b)*z,t[7]=(_*x-p*T-v*y)*z,t[8]=(p*w-m*x+v*g)*z,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=e[0],d=e[1],p=e[2],m=e[3],_=e[4],v=e[5],g=t[6],y=e[7],x=e[8];return Math.abs(i-f)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-d)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-_)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(l-v)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(h-y)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(c-x)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))},e.exports=r},{"./common.js":115}],119:[function(t,e,i){var n=t("./common.js"),r={scalar:{},SIMD:{}};r.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.fromValues=function(t,e,i,r,o,a,s,l,u,h,c,f,d,p,m,_){var v=new n.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=i,v[3]=r,v[4]=o,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=h,v[10]=c,v[11]=f,v[12]=d,v[13]=p,v[14]=m,v[15]=_,v},r.set=function(t,e,i,n,r,o,a,s,l,u,h,c,f,d,p,m,_){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=h,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=_,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},r.SIMD.transpose=function(t,e){var i,n,r,o,a,s,l,u,h,c;return i=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(i,n,0,1,4,5),s=SIMD.Float32x4.shuffle(r,o,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),a=SIMD.Float32x4.shuffle(i,n,2,3,6,7),s=SIMD.Float32x4.shuffle(r,o,2,3,6,7),h=SIMD.Float32x4.shuffle(a,s,0,2,4,6),c=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,c),t},r.transpose=n.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],_=e[14],v=e[15],g=i*s-n*a,y=i*l-r*a,x=i*u-o*a,b=n*l-r*s,w=n*u-o*s,T=r*u-o*l,S=h*m-c*p,M=h*_-f*p,E=h*v-d*p,D=c*_-f*m,I=c*v-d*m,P=f*v-d*_,z=g*P-y*I+x*D+b*E-w*M+T*S;return z?(z=1/z,t[0]=(s*P-l*I+u*D)*z,t[1]=(r*I-n*P-o*D)*z,t[2]=(m*T-_*w+v*b)*z,t[3]=(f*w-c*T-d*b)*z,t[4]=(l*E-a*P-u*M)*z,t[5]=(i*P-r*E+o*M)*z,t[6]=(_*x-p*T-v*y)*z,t[7]=(h*T-f*x+d*y)*z,t[8]=(a*I-s*E+u*S)*z,t[9]=(n*E-i*I-o*S)*z,t[10]=(p*w-m*x+v*g)*z,t[11]=(c*x-h*w-d*g)*z,t[12]=(s*M-a*D-l*S)*z,t[13]=(i*D-n*M+r*S)*z,t[14]=(m*y-p*b-_*g)*z,t[15]=(h*b-c*y+f*g)*z,t):null},r.SIMD.invert=function(t,e){var i,n,r,o,a,s,l,u,h,c,f=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(f,d,0,1,4,5),n=SIMD.Float32x4.shuffle(p,m,0,1,4,5),i=SIMD.Float32x4.shuffle(a,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,a,1,3,5,7),a=SIMD.Float32x4.shuffle(f,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,m,2,3,6,7),r=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(n,a),l=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),h=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),s),u=SIMD.Float32x4.mul(i,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(i,n),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),h),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),u),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.mul(i,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(n,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,a),h),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,2,3,0,1),c),c=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c,1,0,3,2),c),a=SIMD.Float32x4.reciprocalApproximation(c),c=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(c,SIMD.Float32x4.mul(a,a))),(c=SIMD.Float32x4.swizzle(c,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(c,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(c,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(c,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(c,h)),t):null},r.invert=n.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],m=e[13],_=e[14],v=e[15];return t[0]=s*(f*v-d*_)-c*(l*v-u*_)+m*(l*d-u*f),t[1]=-(n*(f*v-d*_)-c*(r*v-o*_)+m*(r*d-o*f)),t[2]=n*(l*v-u*_)-s*(r*v-o*_)+m*(r*u-o*l),t[3]=-(n*(l*d-u*f)-s*(r*d-o*f)+c*(r*u-o*l)),t[4]=-(a*(f*v-d*_)-h*(l*v-u*_)+p*(l*d-u*f)),t[5]=i*(f*v-d*_)-h*(r*v-o*_)+p*(r*d-o*f),t[6]=-(i*(l*v-u*_)-a*(r*v-o*_)+p*(r*u-o*l)),t[7]=i*(l*d-u*f)-a*(r*d-o*f)+h*(r*u-o*l),t[8]=a*(c*v-d*m)-h*(s*v-u*m)+p*(s*d-u*c),t[9]=-(i*(c*v-d*m)-h*(n*v-o*m)+p*(n*d-o*c)),t[10]=i*(s*v-u*m)-a*(n*v-o*m)+p*(n*u-o*s),t[11]=-(i*(s*d-u*c)-a*(n*d-o*c)+h*(n*u-o*s)),t[12]=-(a*(c*_-f*m)-h*(s*_-l*m)+p*(s*f-l*c)),t[13]=i*(c*_-f*m)-h*(n*_-r*m)+p*(n*f-r*c),t[14]=-(i*(s*_-l*m)-a*(n*_-r*m)+p*(n*l-r*s)),t[15]=i*(s*f-l*c)-a*(n*f-r*c)+h*(n*l-r*s),t},r.SIMD.adjoint=function(t,e){var i,n,r,o,a,s,l,u,h,c,f,d,p,i=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return h=SIMD.Float32x4.shuffle(i,n,0,1,4,5),s=SIMD.Float32x4.shuffle(r,o,0,1,4,5),a=SIMD.Float32x4.shuffle(h,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,h,1,3,5,7),h=SIMD.Float32x4.shuffle(i,n,2,3,6,7),u=SIMD.Float32x4.shuffle(r,o,2,3,6,7),l=SIMD.Float32x4.shuffle(h,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,h,1,3,5,7),h=SIMD.Float32x4.mul(l,u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),c=SIMD.Float32x4.mul(s,h),f=SIMD.Float32x4.mul(a,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,h),c),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,h),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),h=SIMD.Float32x4.mul(s,l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),c),p=SIMD.Float32x4.mul(a,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,h)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,h),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),h=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),c),d=SIMD.Float32x4.mul(a,h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(l,h)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,h),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),h=SIMD.Float32x4.mul(a,s),h=SIMD.Float32x4.swizzle(h,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,h),p),h=SIMD.Float32x4.swizzle(h,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,h),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,h)),h=SIMD.Float32x4.mul(a,u),h=SIMD.Float32x4.swizzle(h,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,h)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,h),d),h=SIMD.Float32x4.swizzle(h,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,h),f),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,h)),h=SIMD.Float32x4.mul(a,l),h=SIMD.Float32x4.swizzle(h,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,h),f),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,h)),h=SIMD.Float32x4.swizzle(h,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,h)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,h),p),SIMD.Float32x4.store(t,0,c),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,d),SIMD.Float32x4.store(t,12,p),t},r.adjoint=n.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],h=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],_=t[15],v=e*a-i*o,g=e*s-n*o,y=e*l-r*o,x=i*s-n*a,b=i*l-r*a,w=n*l-r*s,T=u*p-h*d,S=u*m-c*d,M=u*_-f*d,E=h*m-c*p,D=h*_-f*p,I=c*_-f*m;return v*I-g*D+y*E+x*M-b*S+w*T},r.SIMD.multiply=function(t,e,i){var n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(i,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(i,4),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(t,4,h);var c=SIMD.Float32x4.load(i,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),a))));SIMD.Float32x4.store(t,8,f);var d=SIMD.Float32x4.load(i,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,p),t},r.scalar.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],f=e[9],d=e[10],p=e[11],m=e[12],_=e[13],v=e[14],g=e[15],y=i[0],x=i[1],b=i[2],w=i[3];return t[0]=y*n+x*s+b*c+w*m,t[1]=y*r+x*l+b*f+w*_,t[2]=y*o+x*u+b*d+w*v,t[3]=y*a+x*h+b*p+w*g,y=i[4],x=i[5],b=i[6],w=i[7],t[4]=y*n+x*s+b*c+w*m,t[5]=y*r+x*l+b*f+w*_,t[6]=y*o+x*u+b*d+w*v,t[7]=y*a+x*h+b*p+w*g,y=i[8],x=i[9],b=i[10],w=i[11],t[8]=y*n+x*s+b*c+w*m,t[9]=y*r+x*l+b*f+w*_,t[10]=y*o+x*u+b*d+w*v,t[11]=y*a+x*h+b*p+w*g,y=i[12],x=i[13],b=i[14],w=i[15],t[12]=y*n+x*s+b*c+w*m,t[13]=y*r+x*l+b*f+w*_,t[14]=y*o+x*u+b*d+w*v,t[15]=y*a+x*h+b*p+w*g,t},r.multiply=n.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,e,i){var n,r,o,a,s,l,u,h,c,f,d,p,m=i[0],_=i[1],v=i[2];return e===t?(t[12]=e[0]*m+e[4]*_+e[8]*v+e[12],t[13]=e[1]*m+e[5]*_+e[9]*v+e[13],t[14]=e[2]*m+e[6]*_+e[10]*v+e[14],t[15]=e[3]*m+e[7]*_+e[11]*v+e[15]):(n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=h,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=n*m+s*_+c*v+e[12],t[13]=r*m+l*_+f*v+e[13],t[14]=o*m+u*_+d*v+e[14],t[15]=a*m+h*_+p*v+e[15]),t},r.SIMD.translate=function(t,e,i){var n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(i[0],i[1],i[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(s,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(n,SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,l),t},r.translate=n.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,e,i){var n=i[0],r=i[1],o=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.SIMD.scale=function(t,e,i){var n,r,o,a=SIMD.Float32x4(i[0],i[1],i[2],0);return n=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(a,0,0,0,0))),r=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.scale=n.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,e,i,r){var o,a,s,l,u,h,c,f,d,p,m,_,v,g,y,x,b,w,T,S,M,E,D,I,P=r[0],z=r[1],A=r[2],k=Math.sqrt(P*P+z*z+A*A);return Math.abs(k)<n.EPSILON?null:(k=1/k,P*=k,z*=k,A*=k,o=Math.sin(i),a=Math.cos(i),s=1-a,l=e[0],u=e[1],h=e[2],c=e[3],f=e[4],d=e[5],p=e[6],m=e[7],_=e[8],v=e[9],g=e[10],y=e[11],x=P*P*s+a,b=z*P*s+A*o,w=A*P*s-z*o,T=P*z*s-A*o,S=z*z*s+a,M=A*z*s+P*o,E=P*A*s+z*o,D=z*A*s-P*o,I=A*A*s+a,t[0]=l*x+f*b+_*w,t[1]=u*x+d*b+v*w,t[2]=h*x+p*b+g*w,t[3]=c*x+m*b+y*w,t[4]=l*T+f*S+_*M,t[5]=u*T+d*S+v*M,t[6]=h*T+p*S+g*M,t[7]=c*T+m*S+y*M,t[8]=l*E+f*D+_*I,t[9]=u*E+d*D+v*I,t[10]=h*E+p*D+g*I,t[11]=c*E+m*D+y*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},r.scalar.rotateX=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],h=e[9],c=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*n,t[5]=a*r+h*n,t[6]=s*r+c*n,t[7]=l*r+f*n,t[8]=u*r-o*n,t[9]=h*r-a*n,t[10]=c*r-s*n,t[11]=f*r-l*n,t},r.SIMD.rotateX=function(t,e,i){var n=SIMD.Float32x4.splat(Math.sin(i)),r=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(o,n))),t},r.rotateX=n.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],h=e[9],c=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-u*n,t[1]=a*r-h*n,t[2]=s*r-c*n,t[3]=l*r-f*n,t[8]=o*n+u*r,t[9]=a*n+h*r,t[10]=s*n+c*r,t[11]=l*n+f*r,t},r.SIMD.rotateY=function(t,e,i){var n=SIMD.Float32x4.splat(Math.sin(i)),r=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(a,r))),t},r.rotateY=n.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],h=e[5],c=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*n,t[1]=a*r+h*n,t[2]=s*r+c*n,t[3]=l*r+f*n,t[4]=u*r-o*n,t[5]=h*r-a*n,t[6]=c*r-s*n,t[7]=f*r-l*n,t},r.SIMD.rotateZ=function(t,e,i){var n=SIMD.Float32x4.splat(Math.sin(i)),r=SIMD.Float32x4.splat(Math.cos(i));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(o,n))),t},r.rotateZ=n.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,e,i){var r,o,a,s=i[0],l=i[1],u=i[2],h=Math.sqrt(s*s+l*l+u*u);return Math.abs(h)<n.EPSILON?null:(h=1/h,s*=h,l*=h,u*=h,r=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=l*s*a+u*r,t[2]=u*s*a-l*r,t[3]=0,t[4]=s*l*a-u*r,t[5]=l*l*a+o,t[6]=u*l*a+s*r,t[7]=0,t[8]=s*u*a+l*r,t[9]=l*u*a-s*r,t[10]=u*u*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=n+n,l=r+r,u=o+o,h=n*s,c=n*l,f=n*u,d=r*l,p=r*u,m=o*u,_=a*s,v=a*l,g=a*u;return t[0]=1-(d+m),t[1]=c+g,t[2]=f-v,t[3]=0,t[4]=c-g,t[5]=1-(h+m),t[6]=p+_,t[7]=0,t[8]=f+v,t[9]=p-_,t[10]=1-(h+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},r.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},r.getRotation=function(t,e){var i=e[0]+e[5]+e[10],n=0;return i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},r.fromRotationTranslationScale=function(t,e,i,n){var r=e[0],o=e[1],a=e[2],s=e[3],l=r+r,u=o+o,h=a+a,c=r*l,f=r*u,d=r*h,p=o*u,m=o*h,_=a*h,v=s*l,g=s*u,y=s*h,x=n[0],b=n[1],w=n[2];return t[0]=(1-(p+_))*x,t[1]=(f+y)*x,t[2]=(d-g)*x,t[3]=0,t[4]=(f-y)*b,t[5]=(1-(c+_))*b,t[6]=(m+v)*b,t[7]=0,t[8]=(d+g)*w,t[9]=(m-v)*w,t[10]=(1-(c+p))*w,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,e,i,n,r){var o=e[0],a=e[1],s=e[2],l=e[3],u=o+o,h=a+a,c=s+s,f=o*u,d=o*h,p=o*c,m=a*h,_=a*c,v=s*c,g=l*u,y=l*h,x=l*c,b=n[0],w=n[1],T=n[2],S=r[0],M=r[1],E=r[2];return t[0]=(1-(m+v))*b,t[1]=(d+x)*b,t[2]=(p-y)*b,t[3]=0,t[4]=(d-x)*w,t[5]=(1-(f+v))*w,t[6]=(_+g)*w,t[7]=0,t[8]=(p+y)*T,t[9]=(_-g)*T,t[10]=(1-(f+m))*T,t[11]=0,t[12]=i[0]+S-(t[0]*S+t[4]*M+t[8]*E),t[13]=i[1]+M-(t[1]*S+t[5]*M+t[9]*E),t[14]=i[2]+E-(t[2]*S+t[6]*M+t[10]*E),t[15]=1,t},r.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i+i,s=n+n,l=r+r,u=i*a,h=n*a,c=n*s,f=r*a,d=r*s,p=r*l,m=o*a,_=o*s,v=o*l;return t[0]=1-c-p,t[1]=h+v,t[2]=f-_,t[3]=0,t[4]=h-v,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=f+_,t[9]=d-m,t[10]=1-u-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,e,i,n,r,o,a){var s=1/(i-e),l=1/(r-n),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(i+e)*s,t[9]=(r+n)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t},r.perspective=function(t,e,i,n,r){var o=1/Math.tan(e/2),a=1/(n-r);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*a,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,e,i,n){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(r+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((a-s)*l*.5),t[9]=(r-o)*u*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t},r.ortho=function(t,e,i,n,r,o,a){var s=1/(e-i),l=1/(n-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*s,t[13]=(r+n)*l,t[14]=(a+o)*u,t[15]=1,t},r.lookAt=function(t,e,i,o){var a,s,l,u,h,c,f,d,p,m,_=e[0],v=e[1],g=e[2],y=o[0],x=o[1],b=o[2],w=i[0],T=i[1],S=i[2];return Math.abs(_-w)<n.EPSILON&&Math.abs(v-T)<n.EPSILON&&Math.abs(g-S)<n.EPSILON?r.identity(t):(f=_-w,d=v-T,p=g-S,m=1/Math.sqrt(f*f+d*d+p*p),f*=m,d*=m,p*=m,a=x*p-b*d,s=b*f-y*p,l=y*d-x*f,m=Math.sqrt(a*a+s*s+l*l),m?(m=1/m,a*=m,s*=m,l*=m):(a=0,s=0,l=0),u=d*l-p*s,h=p*a-f*l,c=f*s-d*a,m=Math.sqrt(u*u+h*h+c*c),m?(m=1/m,u*=m,h*=m,c*=m):(u=0,h=0,c=0),t[0]=a,t[1]=u,t[2]=f,t[3]=0,t[4]=s,t[5]=h,t[6]=d,t[7]=0,t[8]=l,t[9]=c,t[10]=p,t[11]=0,t[12]=-(a*_+s*v+l*g),t[13]=-(u*_+h*v+c*g),t[14]=-(f*_+d*v+p*g),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t},r.multiplyScalarAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t[9]=e[9]+i[9]*n,t[10]=e[10]+i[10]*n,t[11]=e[11]+i[11]*n,t[12]=e[12]+i[12]*n,t[13]=e[13]+i[13]*n,t[14]=e[14]+i[14]*n,t[15]=e[15]+i[15]*n,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],h=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],_=t[13],v=t[14],g=t[15],y=e[0],x=e[1],b=e[2],w=e[3],T=e[4],S=e[5],M=e[6],E=e[7],D=e[8],I=e[9],P=e[10],z=e[11],A=e[12],k=e[13],C=e[14],L=e[15];
return Math.abs(i-y)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(r-x)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-b)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-w)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-T)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(l-S)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-M)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-E)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(c-D)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(f-I)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-P)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(p-z)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(z))&&Math.abs(m-A)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(_-k)<=n.EPSILON*Math.max(1,Math.abs(_),Math.abs(k))&&Math.abs(v-C)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(g-L)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))},e.exports=r},{"./common.js":115}],120:[function(t,e,i){var n=t("./common.js"),r=t("./mat3.js"),o=t("./vec3.js"),a=t("./vec4.js"),s={};s.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),i=o.fromValues(0,1,0);return function(n,r,a){var l=o.dot(r,a);return-.999999>l?(o.cross(t,e,r),o.length(t)<1e-6&&o.cross(t,i,r),o.normalize(t,t),s.setAxisAngle(n,t,Math.PI),n):l>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,r,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+l,s.normalize(n,n))}}(),s.setAxes=function(){var t=r.create();return function(e,i,n,r){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,i){i=.5*i;var n=Math.sin(i);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i),t},s.getAxisAngle=function(t,e){var i=2*Math.acos(e[3]),n=Math.sin(i/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),i},s.add=a.add,s.multiply=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],l=i[1],u=i[2],h=i[3];return t[0]=n*h+a*s+r*u-o*l,t[1]=r*h+a*l+o*s-n*u,t[2]=o*h+a*u+n*l-r*s,t[3]=a*h-n*s-r*l-o*u,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+a*s,t[1]=r*l+o*s,t[2]=o*l-r*s,t[3]=a*l-n*s,t},s.rotateY=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l-o*s,t[1]=r*l+a*s,t[2]=o*l+n*s,t[3]=a*l-r*s,t},s.rotateZ=function(t,e,i){i*=.5;var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+r*s,t[1]=r*l-n*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t},s.calculateW=function(t,e){var i=e[0],n=e[1],r=e[2];return t[0]=i,t[1]=n,t[2]=r,t[3]=Math.sqrt(Math.abs(1-i*i-n*n-r*r)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,i,n){var r,o,a,s,l,u=e[0],h=e[1],c=e[2],f=e[3],d=i[0],p=i[1],m=i[2],_=i[3];return o=u*d+h*p+c*m+f*_,0>o&&(o=-o,d=-d,p=-p,m=-m,_=-_),1-o>1e-6?(r=Math.acos(o),a=Math.sin(r),s=Math.sin((1-n)*r)/a,l=Math.sin(n*r)/a):(s=1-n,l=n),t[0]=s*u+l*d,t[1]=s*h+l*p,t[2]=s*c+l*m,t[3]=s*f+l*_,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(i,n,r,o,a,l){return s.slerp(t,n,a,l),s.slerp(e,r,o,l),s.slerp(i,t,e,2*l*(1-l)),i}}(),s.invert=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i*i+n*n+r*r+o*o,s=a?1/a:0;return t[0]=-i*s,t[1]=-n*s,t[2]=-r*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,a=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*i,i=.5/i,t[3]=(e[3*o+a]-e[3*a+o])*i,t[o]=(e[3*o+r]+e[3*r+o])*i,t[a]=(e[3*a+r]+e[3*r+a])*i}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},{"./common.js":115,"./mat3.js":118,"./vec3.js":122,"./vec4.js":123}],121:[function(t,e,i){var n=t("./common.js"),r={};r.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var i=new n.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,i){return t[0]=e,t[1]=i,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},r.lerp=function(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t},r.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},r.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},r.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},r.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,o,a){var s,l;for(i||(i=2),n||(n=0),l=r?Math.min(r*i+n,e.length):e.length,s=n;l>s;s+=i)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r.equals=function(t,e){var i=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(i-o)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))},e.exports=r},{"./common.js":115}],122:[function(t,e,i){var n=t("./common.js"),r={};r.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,i){var r=new n.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=i,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=e[2],o=i*i+n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2];return t[0]=r*l-o*s,t[1]=o*a-n*l,t[2]=n*s-r*a,t},r.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t},r.hermite=function(t,e,i,n,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,u=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+i[0]*l+n[0]*u+r[0]*h,t[1]=e[1]*s+i[1]*l+n[1]*u+r[1]*h,t[2]=e[2]*s+i[2]*l+n[2]*u+r[2]*h,t},r.bezier=function(t,e,i,n,r,o){var a=1-o,s=a*a,l=o*o,u=s*a,h=3*o*s,c=3*l*a,f=l*o;return t[0]=e[0]*u+i[0]*h+n[0]*c+r[0]*f,t[1]=e[1]*u+i[1]*h+n[1]*c+r[1]*f,t[2]=e[2]*u+i[2]*h+n[2]*c+r[2]*f,t},r.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI,r=2*n.RANDOM()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(i)*o,t[1]=Math.sin(i)*o,t[2]=r*e,t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[3]*n+i[7]*r+i[11]*o+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*r+i[8]*o+i[12])/a,t[1]=(i[1]*n+i[5]*r+i[9]*o+i[13])/a,t[2]=(i[2]*n+i[6]*r+i[10]*o+i[14])/a,t},r.transformMat3=function(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t},r.transformQuat=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2],u=i[3],h=u*n+s*o-l*r,c=u*r+l*n-a*o,f=u*o+a*r-s*n,d=-a*n-s*r-l*o;return t[0]=h*u+d*-a+c*-l-f*-s,t[1]=c*u+d*-s+f*-a-h*-l,t[2]=f*u+d*-l+h*-s-c*-a,t},r.rotateX=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0],o[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),o[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},r.rotateY=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),o[1]=r[1],o[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},r.rotateZ=function(t,e,i,n){var r=[],o=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],o[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),o[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),o[2]=r[2],t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,o,a){var s,l;for(i||(i=3),n||(n=0),l=r?Math.min(r*i+n,e.length):e.length,s=n;l>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),r.angle=function(t,e){var i=r.fromValues(t[0],t[1],t[2]),n=r.fromValues(e[0],e[1],e[2]);r.normalize(i,i),r.normalize(n,n);var o=r.dot(i,n);return o>1?0:Math.acos(o)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},e.exports=r},{"./common.js":115}],123:[function(t,e,i){var n=t("./common.js"),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.fromValues=function(t,e,i,r){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.set=function(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(i*i+n*n+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return i*i+n*n+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return Math.sqrt(e*e+i*i+n*n+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return e*e+i*i+n*n+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=i*i+n*n+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=i*a,t[1]=n*a,t[2]=r*a,t[3]=o*a),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},r.lerp=function(t,e,i,n){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t[2]=a+n*(i[2]-a),t[3]=s+n*(i[3]-s),t},r.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),r.normalize(t,t),r.scale(t,t,e),t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*a,t[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*a,t[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*a,t[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*a,t},r.transformQuat=function(t,e,i){var n=e[0],r=e[1],o=e[2],a=i[0],s=i[1],l=i[2],u=i[3],h=u*n+s*o-l*r,c=u*r+l*n-a*o,f=u*o+a*r-s*n,d=-a*n-s*r-l*o;return t[0]=h*u+d*-a+c*-l-f*-s,t[1]=c*u+d*-s+f*-a-h*-l,t[2]=f*u+d*-l+h*-s-c*-a,t[3]=e[3],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,o,a){var s,l;for(i||(i=4),n||(n=0),l=r?Math.min(r*i+n,e.length):e.length,s=n;l>s;s+=i)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},r.equals=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3],s=e[0],l=e[1],u=e[2],h=e[3];return Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-h)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))},e.exports=r},{"./common.js":115}],124:[function(t,e,i){"use strict";function n(t){return function(){return t}}function r(t,e,i){return t*(1-i)+e*i}function o(t,e,i){for(var n=[],o=0;o<t.length;o++)n[o]=r(t[o],e[o],i);return n}i.interpolated=function(t){if(!t.stops)return n(t);var e=t.stops,i=t.base||1,a=Array.isArray(e[0][1])?o:r;return function(t){for(var n,r,o=0;o<e.length;o++){var s=e[o];if(s[0]<=t&&(n=s),s[0]>t){r=s;break}}if(n&&r){var l=r[0]-n[0],u=t-n[0],h=1===i?u/l:(Math.pow(i,u)-1)/(Math.pow(i,l)-1);return a(n[1],r[1],h)}return n?n[1]:r?r[1]:void 0}},i["piecewise-constant"]=function(t){if(!t.stops)return n(t);var e=t.stops;return function(t){for(var i=0;i<e.length;i++)if(e[i][0]>t)return e[0===i?0:i-1][1];return e[e.length-1][1]}}},{}],125:[function(t,e,i){"use strict";function n(t,e){this.message=(t?t+": ":"")+r.apply(r,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var r=t("util").format;e.exports=n},{util:104}],126:[function(t,e,i){"use strict";e.exports=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}},{}],127:[function(t,e,i){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],128:[function(t,e,i){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],129:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("../util/extend");e.exports=function(e){var i=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),"boolean":t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),"enum":t("./validate_enum"),filter:t("./validate_filter"),"function":t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),string:t("./validate_string")},l=e.value,u=e.valueSpec,h=e.key,c=e.styleSpec,f=e.style;if("string"===r(l)&&"@"===l[0]){if(c.$version>7)return[new n(h,l,"constants have been deprecated as of v8")];if(!(l in f.constants))return[new n(h,l,'constant "%s" not found',l)];e=o({},e,{value:f.constants[l]})}return u["function"]&&"object"===r(l)?i(e):u.type&&s[u.type]?s[u.type](e):a(o({},e,{valueSpec:u.type?c[u.type]:u}))}},{"../error/validation_error":125,"../util/extend":126,"../util/get_type":127,"./validate_array":130,"./validate_boolean":131,"./validate_color":132,"./validate_constants":133,"./validate_enum":134,"./validate_filter":135,"./validate_function":136,"./validate_layer":137,"./validate_number":139,"./validate_object":140,"./validate_source":142,"./validate_string":143}],130:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.valueSpec,a=t.style,s=t.styleSpec,l=t.key,u=t.arrayElementValidator||r;if("array"!==n(e))return[new o(l,e,"array expected, %s found",n(e))];if(i.length&&e.length!==i.length)return[new o(l,e,"array length %d expected, length %d found",i.length,e.length)];if(i["min-length"]&&e.length<i["min-length"])return[new o(l,e,"array length at least %d expected, length %d found",i["min-length"],e.length)];var h={type:i.value};s.$version<7&&(h["function"]=i["function"]),"object"===n(i.value)&&(h=i.value);for(var c=[],f=0;f<e.length;f++)c=c.concat(u({array:e,arrayIndex:f,value:e[f],valueSpec:h,style:a,styleSpec:s,key:l+"["+f+"]"}));return c}},{"../error/validation_error":125,"../util/get_type":127,"./validate":129}],131:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,o=n(e);return"boolean"!==o?[new r(i,e,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":125,"../util/get_type":127}],132:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,i=t.value,a=r(i);return"string"!==a?[new n(e,i,"color expected, %s found",a)]:null===o(i)?[new n(e,i,'color expected, "%s" found',i)]:[]}},{"../error/validation_error":125,"../util/get_type":127,csscolorparser:105}],133:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type");e.exports=function(t){var e=t.key,i=t.value,o=t.styleSpec;if(o.$version>7)return i?[new n(e,i,"constants have been deprecated as of v8")]:[];var a=r(i);if("object"!==a)return[new n(e,i,"object expected, %s found",a)];var s=[];for(var l in i)"@"!==l[0]&&s.push(new n(e+"."+l,i[l],'constants must start with "@"'));return s}},{"../error/validation_error":125,"../util/get_type":127}],134:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,a=[];return-1===o.values.indexOf(r(i))&&a.push(new n(e,i,"expected one of [%s], %s found",o.values.join(", "),i)),a}},{"../error/validation_error":125,"../util/unbundle_jsonlint":128}],135:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("./validate_enum"),o=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function s(t){var e,i=t.value,l=t.key,u=t.styleSpec,h=[];if("array"!==o(i))return[new n(l,i,"array expected, %s found",o(i))];if(i.length<1)return[new n(l,i,"filter array must have at least 1 element")];switch(h=h.concat(r({key:l+"[0]",value:i[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),a(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"==i[1]&&h.push(new n(l,i,'"$type" cannot be use with operator "%s"',i[0]));case"==":case"!=":3!=i.length&&h.push(new n(l,i,'filter array for operator "%s" must have 3 elements',i[0]));case"in":case"!in":i.length>=2&&(e=o(i[1]),"string"!==e?h.push(new n(l+"[1]",i[1],"string expected, %s found",e)):"@"===i[1][0]&&h.push(new n(l+"[1]",i[1],"filter key cannot be a constant")));for(var c=2;c<i.length;c++)e=o(i[c]),"$type"==i[1]?h=h.concat(r({key:l+"["+c+"]",value:i[c],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===e&&"@"===i[c][0]?h.push(new n(l+"["+c+"]",i[c],"filter value cannot be a constant")):"string"!==e&&"number"!==e&&"boolean"!==e&&h.push(new n(l+"["+c+"]",i[c],"string, number, or boolean expected, %s found",e));break;case"any":case"all":case"none":for(c=1;c<i.length;c++)h=h.concat(s({key:l+"["+c+"]",value:i[c],style:t.style,styleSpec:t.styleSpec}))}return h}},{"../error/validation_error":125,"../util/get_type":127,"../util/unbundle_jsonlint":128,"./validate_enum":134}],136:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array");e.exports=function(t){function e(t){var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:i})),"array"===r(o)&&0===o.length&&e.push(new n(t.key,o,"array must have at least one stop")),e}function i(t){var e=[],i=t.value,a=t.key;return"array"!==r(i)?[new n(a,i,"array expected, %s found",r(i))]:2!==i.length?[new n(a,i,"array length %d expected, length %d found",2,i.length)]:(e=e.concat(o({key:a+"[0]",value:i[0],valueSpec:{type:"number"},style:t.style,styleSpec:t.styleSpec})),e=e.concat(o({key:a+"[1]",value:i[1],valueSpec:l,style:t.style,styleSpec:t.styleSpec})),"number"===r(i[0])&&("piecewise-constant"===l["function"]&&i[0]%1!==0&&e.push(new n(a+"[0]",i[0],"zoom level for piecewise-constant functions must be an integer")),0!==t.arrayIndex&&i[0]<t.array[t.arrayIndex-1][0]&&e.push(new n(a+"[0]",i[0],"array stops must appear in ascending order"))),e)}var l=t.valueSpec;return a({key:t.key,value:t.value,valueSpec:t.styleSpec["function"],style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e}})}},{"../error/validation_error":125,"../util/get_type":127,"./validate":129,"./validate_array":130,"./validate_object":140}],137:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("../util/extend");e.exports=function(t){var e=[],i=t.value,h=t.key,c=t.style,f=t.styleSpec;i.type||i.ref||e.push(new n(h,i,'either "type" or "ref" is required'));var d=r(i.type),p=r(i.ref);if(i.id)for(var m=0;m<t.arrayIndex;m++){var _=c.layers[m];r(_.id)===r(i.id)&&e.push(new n(h,i.id,'duplicate layer id "%s", previously used at line %d',i.id,_.id.__line__))}if("ref"in i){["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new n(h,i[t],'"%s" is prohibited for ref layers',t))});var v;c.layers.forEach(function(t){t.id==p&&(v=t)}),v?v.ref?e.push(new n(h,i.ref,"ref cannot reference another ref layer")):d=r(v.type):e.push(new n(h,i.ref,'ref layer "%s" not found',p))}else if("background"!==d)if(i.source){var g=c.sources[i.source];g?"vector"==g.type&&"raster"==d?e.push(new n(h,i.source,'layer "%s" requires a raster source',i.id)):"raster"==g.type&&"raster"!=d?e.push(new n(h,i.source,'layer "%s" requires a vector source',i.id)):"vector"!=g.type||i["source-layer"]||e.push(new n(h,i,'layer "%s" must specify a "source-layer"',i.id)):e.push(new n(h,i.source,'source "%s" not found',i.source))}else e.push(new n(h,i,'missing required property "source"'));return e=e.concat(o({key:h,value:i,valueSpec:f.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{filter:a,layout:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(u({layerType:d},t))}}})},paint:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(u({layerType:d},t))}}})}}}))}},{"../error/validation_error":125,"../util/extend":126,"../util/unbundle_jsonlint":128,"./validate_filter":135,"./validate_layout_property":138,"./validate_object":140,"./validate_paint_property":141}],138:[function(t,e,i){"use strict";var n=t("./validate"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,l=o["layout_"+t.layerType];return t.valueSpec||l[s]?n({key:t.key,value:a,valueSpec:t.valueSpec||l[s],style:i,styleSpec:o}):[new r(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":125,"./validate":129}],139:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,a=n(i);return"number"!==a?[new r(e,i,"number expected, %s found",a)]:"minimum"in o&&i<o.minimum?[new r(e,i,"%s is less than the minimum value %s",i,o.minimum)]:"maximum"in o&&i>o.maximum?[new r(e,i,"%s is greater than the maximum value %s",i,o.maximum)]:[]}},{"../error/validation_error":125,"../util/get_type":127}],140:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,i=t.value,a=t.valueSpec,s=t.objectElementValidators||{},l=t.style,u=t.styleSpec,h=[],c=r(i);if("object"!==c)return[new n(e,i,"object expected, %s found",c)];for(var f in i){var d=f.split(".")[0],p=a&&(a[d]||a["*"]),m=s[d]||s["*"];p||m?h=h.concat((m||o)({key:(e?e+".":e)+f,value:i[f],valueSpec:p,style:l,styleSpec:u,object:i,objectKey:f})):""!==e&&1!==e.split(".").length&&h.push(new n(e,i[f],'unknown property "%s"',f))}for(d in a)a[d].required&&void 0===a[d]["default"]&&void 0===i[d]&&h.push(new n(e,i,'missing required property "%s"',d));return h}},{"../error/validation_error":125,"../util/get_type":127,"./validate":129}],141:[function(t,e,i){"use strict";var n=t("./validate"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,l=o["paint_"+t.layerType],u=s.match(/^(.*)-transition$/);return u&&l[u[1]]&&l[u[1]].transition?n({key:e,value:a,valueSpec:o.transition,style:i,styleSpec:o}):t.valueSpec||l[s]?n({key:t.key,value:a,valueSpec:t.valueSpec||l[s],style:i,styleSpec:o}):[new r(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":125,"./validate":129}],142:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,i=t.key,s=t.styleSpec,l=t.style;if(!e.type)return[new n(i,e,'"type" is required')];var u=r(e.type);switch(u){case"vector":case"raster":var h=[];if(h=h.concat(o({key:i,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var c in e)["type","url","tileSize"].indexOf(c)<0&&h.push(new n(i+"."+c,e[c],'a source with a "url" property may not include a "%s" property',c));return h;case"geojson":return o({key:i,value:e,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return o({key:i,value:e,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return o({key:i,value:e,valueSpec:s.source_image,style:l,styleSpec:s});default:return a({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:l,styleSpec:s})}}},{"../error/validation_error":125,"../util/unbundle_jsonlint":128,"./validate_enum":134,"./validate_object":140}],143:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,o=n(e);return"string"!==o?[new r(i,e,"string expected, %s found",o)]:[]}},{"../error/validation_error":125,"../util/get_type":127}],144:[function(t,e,i){"use strict";function n(t,e){e=e||l;var i=[];return i=i.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t})),e.$version>7&&t.constants&&(i=i.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),r(i)}function r(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return r(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),l=t("../reference/latest.min");n.source=o(t("./validate/validate_source")),n.layer=o(t("./validate/validate_layer")),n.filter=o(t("./validate/validate_filter")),n.paintProperty=o(t("./validate/validate_paint_property")),n.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=n},{"../reference/latest.min":146,"./validate/validate":129,"./validate/validate_constants":133,"./validate/validate_filter":135,"./validate/validate_layer":137,"./validate/validate_layout_property":138,"./validate/validate_paint_property":141,"./validate/validate_source":142}],145:[function(t,e,i){e.exports=t("./v8.json")},{"./v8.json":147}],146:[function(t,e,i){e.exports=t("./v8.min.json")},{"./v8.min.json":148}],147:[function(t,e,i){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Stylesheet version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:"Default bearing, in degrees.  The style bearing will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface.  The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},sources:{
required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended.",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. Valid tokens are {fontstack} and {range}.",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For GeoJSON and video sources, a URL must be provided."}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"],doc:"The data type of the tile source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"],doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":14,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},buffer:{type:"number","default":64,doc:"Tile buffer size on each side (higher means fewer rendering artifacts near tile edges but slower performance)."},tolerance:{type:"number","default":3,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups."},clusterRadius:{type:"number","default":400,doc:"Radius of each cluster when clustering points, relative to 4096 tile."},clusterMaxZoom:{type:"number",doc:"Max zoom to cluster points on. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."}},source_video:{type:{required:!0,type:"enum",values:["video"],doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:["image"],doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image"},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"],doc:"Rendering type of this layer."},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},ref:{type:"string",doc:"References another layer to copy `type`, `source`, `source-layer`, `minzoom`, `maxzoom`, `filter`, and `layout` properties from. This allows the layers to share processing and be more efficient."},source:{type:"string",doc:"Name of a source description to be used for this layer."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required if the source supports multiple layers."},minzoom:{type:"number",minimum:0,maximum:22,doc:"The minimum zoom level on which the layer gets parsed and appears on."},maxzoom:{type:"number",minimum:0,maximum:22,doc:"The maximum zoom level on which the layer gets parsed and appears on."},interactive:{type:"boolean",doc:"Enable querying of feature data from this layer for interactivity.","default":!1},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."},"paint.*":{type:"paint",doc:"Class-specific paint properties for this layer. The class name is the part after the first dot."}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant",values:["butt","round","square"],"default":"butt",doc:"The display of line endings."},"line-join":{type:"enum","function":"piecewise-constant",values:["bevel","round","miter"],"default":"miter",doc:"The display of lines when joining."},"line-miter-limit":{type:"number","default":2,"function":"interpolated",doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated",doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant",values:["point","line"],"default":"point",doc:"Label placement relative to its geometry. `line` can only be used on LineStrings and Polygons."},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated",units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer."},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",doc:"Orientation of icon when map is rotated.",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated",doc:"Scale factor for icon. 1 is original size, 3 triples the size.",requires:["icon-image"]},"icon-image":{type:"string","function":"piecewise-constant",doc:"A string with {tokens} replaced, referencing the data property to pull from.",tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated",units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated",units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",doc:"Orientation of text when map is rotated.",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","default":"",tokens:!0,doc:"Value to use for a text label. Feature properties are specified using tokens like {field_name}."},"text-font":{type:"array",value:"string","function":"piecewise-constant","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated",doc:"Font size.",requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated",doc:"The maximum line width for text wrapping.",requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated",doc:"Text leading value for multi-line text.",requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated",doc:"Text tracking amount.",requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant",values:["left","center","right"],"default":"center",doc:"Text justification options.",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated",doc:"Rotates the text clockwise.",requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant",values:["none","uppercase","lowercase"],"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"]},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.",value:"number",units:"ems","function":"interpolated",length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible",doc:"The display of this layer. `none` hides this layer."}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none"],doc:"The filter operator."},geometry_type:{type:"enum",values:["Point","LineString","Polygon"],doc:"The geometry type for the filter to select."},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"],doc:"A color operation to apply."},"function":{stops:{type:"array",required:!0,doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2,doc:"Zoom level and value pair."},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","default":!0,doc:"Whether or not the fill should be antialiased."},"fill-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,doc:"The opacity given to the fill color.",transition:!0},"fill-color":{type:"color","default":"#000000",doc:"The color of the fill.","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"fill-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512)."}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"line-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Stroke thickness."},"line-gap-width":{type:"number","default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.","function":"interpolated",transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,doc:'The line\'s offset perpendicular to its direction. Values may be positive or negative, where positive indicates "rightwards" (if you were moving in the direction of the line) and negative indicates "leftwards."',"function":"interpolated",transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels."},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512)."}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Circle radius."},"circle-color":{type:"color","default":"#000000",doc:"The color of the circle.","function":"interpolated",transition:!0},"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.","function":"interpolated",transition:!0},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively."},"circle-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen)","default":"map",requires:["circle-translate"]}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with sdf icons.",requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["text-field"]},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],doc:"Control whether the translation is relative to the map (north) or viewport (screen).","default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated",transition:!0,units:"degrees",doc:"Rotates hues around the color wheel."},"raster-brightness-min":{type:"number","function":"interpolated",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated",transition:!0,units:"milliseconds",doc:"Fade duration when a new tile is added."}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.","function":"interpolated",transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512)."},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.","function":"interpolated",transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}}}},{}],148:[function(t,e,i){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number","default":14},buffer:{type:"number","default":64},tolerance:{type:"number","default":3},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":400},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean","default":!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant",values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated",requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated",requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant",values:["point","line"],"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated",units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated",requires:["icon-image"]},"icon-image":{type:"string","function":"piecewise-constant",tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated",units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated",units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",requires:["icon-image"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"viewport",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated",requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated",requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated",requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated",requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant",values:["left","center","right"],"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated",requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated",requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated",requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant",values:["none","uppercase","lowercase"],"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated",length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant",values:["visible","none"],"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},"function":{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number","default":1,minimum:0}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","default":!0},"fill-opacity":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant",transition:!0}},paint_line:{"line-opacity":{
type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated",transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant",transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated",transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated",transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated",transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["circle-translate"]}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated",transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated",transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant",values:["map","viewport"],"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated",transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated",transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated",transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated",transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant",transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated",transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},{}],149:[function(t,e,i){"use strict";function n(t){var e;t&&t.length&&(e=t,t=e.length);var i=new Uint8Array(t||0);return e&&i.set(e),i.readUInt32LE=o.readUInt32LE,i.writeUInt32LE=o.writeUInt32LE,i.readInt32LE=o.readInt32LE,i.writeInt32LE=o.writeInt32LE,i.readFloatLE=o.readFloatLE,i.writeFloatLE=o.writeFloatLE,i.readDoubleLE=o.readDoubleLE,i.writeDoubleLE=o.writeDoubleLE,i.toString=o.toString,i.write=o.write,i.slice=o.slice,i.copy=o.copy,i._isBuffer=!0,i}function r(t){for(var e,i,n=t.length,r=[],o=0;n>o;o++){if(e=t.charCodeAt(o),e>55295&&57344>e){if(!i){e>56319||o+1===n?r.push(239,191,189):i=e;continue}if(56320>e){r.push(239,191,189),i=e;continue}e=i-55296<<10|e-56320|65536,i=null}else i&&(r.push(239,191,189),i=null);128>e?r.push(e):2048>e?r.push(e>>6|192,63&e|128):65536>e?r.push(e>>12|224,e>>6&63|128,63&e|128):r.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return r}e.exports=n;var o,a,s,l=t("ieee754");o={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return l.read(this,t,!0,23,4)},readDoubleLE:function(t){return l.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return l.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return l.write(this,t,e,!0,52,8)},toString:function(t,e,i){var n="",r="";e=e||0,i=Math.min(this.length,i||this.length);for(var o=e;i>o;o++){var a=this[o];127>=a?(n+=decodeURIComponent(r)+String.fromCharCode(a),r=""):r+="%"+a.toString(16)}return n+=decodeURIComponent(r)},write:function(t,e){for(var i=t===a?s:r(t),n=0;n<i.length;n++)this[e+n]=i[n]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var i=0;i<this.length;i++)t[e+i]=this[i]}},o.writeInt32LE=o.writeUInt32LE,n.byteLength=function(t){return a=t,s=r(t),s.length},n.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:151}],150:[function(t,e,i){(function(i){"use strict";function n(t){this.buf=d.isBuffer(t)?t:new d(t||0),this.pos=0,this.length=this.buf.length}function r(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function o(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function a(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function s(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function l(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function h(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}e.exports=n;var d=i.Buffer||t("./buffer");n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var p=4294967296,m=1/p,_=Math.pow(2,63);n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,o=this.pos;t(r,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*p;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*p;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,i,n,r,o,a=this.buf;if(i=a[this.pos++],128>i)return i;if(i=127&i,n=a[this.pos++],128>n)return i|n<<7;if(n=(127&n)<<7,r=a[this.pos++],128>r)return i|n|r<<14;if(r=(127&r)<<14,o=a[this.pos++],128>o)return i|n|r|o<<21;if(t=i|n|r|(127&o)<<21,e=a[this.pos++],t+=268435456*(127&e),128>e)return t;if(e=a[this.pos++],t+=34359738368*(127&e),128>e)return t;if(e=a[this.pos++],t+=4398046511104*(127&e),128>e)return t;if(e=a[this.pos++],t+=562949953421312*(127&e),128>e)return t;if(e=a[this.pos++],t+=72057594037927940*(127&e),128>e)return t;if(e=a[this.pos++],t+=0x8000000000000000*(127&e),128>e)return t;throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){var t=this.pos,e=this.readVarint();if(_>e)return e;for(var i=this.pos-2;255===this.buf[i];)i--;t>i&&(i=t),e=0;for(var n=0;i-t+1>n;n++){var r=127&~this.buf[t+n];e+=4>n?r<<7*n:r*Math.pow(2,7*n)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new d(e);this.buf.copy(i),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*m),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t,127>=t)this.realloc(1),this.buf[this.pos++]=t;else if(16383>=t)this.realloc(2),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127;else if(2097151>=t)this.realloc(3),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127;else if(268435455>=t)this.realloc(4),this.buf[this.pos++]=t>>>0&127|128,this.buf[this.pos++]=t>>>7&127|128,this.buf[this.pos++]=t>>>14&127|128,this.buf[this.pos++]=t>>>21&127;else{for(var e=this.pos;t>=128;)this.realloc(1),this.buf[this.pos++]=255&t|128,t/=128;if(this.realloc(1),this.buf[this.pos++]=0|t,this.pos-e>10)throw new Error("Given varint doesn't fit into 10 bytes")}},writeSVarint:function(t){this.writeVarint(0>t?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=d.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;e>i;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i,r=127>=n?1:16383>=n?2:2097151>=n?3:268435455>=n?4:Math.ceil(Math.log(n)/(7*Math.LN2));if(r>1){this.realloc(r-1);for(var o=this.pos-1;o>=i;o--)this.buf[o+r-1]=this.buf[o]}this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,r,e)},writePackedSVarint:function(t,e){this.writeMessage(t,o,e)},writePackedBoolean:function(t,e){this.writeMessage(t,l,e)},writePackedFloat:function(t,e){this.writeMessage(t,a,e)},writePackedDouble:function(t,e){this.writeMessage(t,s,e)},writePackedFixed32:function(t,e){this.writeMessage(t,u,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,c,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,f,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":149}],151:[function(t,e,i){i.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,u=l>>1,h=-7,c=i?r-1:0,f=i?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[e+c],c+=f,h-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},i.write=function(t,e,i,n,r,o){var a,s,l,u=8*o-r-1,h=(1<<u)-1,c=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+c>=1?f/l:f*Math.pow(2,1-c),e*l>=2&&(a++,l/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*l-1)*Math.pow(2,r),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));r>=8;t[i+d]=255&s,d+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[i+d]=255&a,d+=p,a/=256,u-=8);t[i+d-p]|=128*m}},{}],152:[function(t,e,i){"use strict";function n(t,e){this.x=t,this.y=e}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,r=i*this.x+e*this.y;return this.x=n,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],153:[function(e,i,n){!function(){"use strict";function e(t,i){return this instanceof e?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),void this.clear()):new e(t,i)}function n(t,e){t.bbox=r(t,0,t.children.length,e)}function r(t,e,i,n){for(var r,s=o(),l=e;i>l;l++)r=t.children[l],a(s,t.leaf?n(r):r.bbox);return s}function o(){return[1/0,1/0,-(1/0),-(1/0)]}function a(t,e){return t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t}function s(t,e){return t.bbox[0]-e.bbox[0]}function l(t,e){return t.bbox[1]-e.bbox[1]}function u(t){return(t[2]-t[0])*(t[3]-t[1])}function h(t){return t[2]-t[0]+(t[3]-t[1])}function c(t,e){return(Math.max(e[2],t[2])-Math.min(e[0],t[0]))*(Math.max(e[3],t[3])-Math.min(e[1],t[1]))}function f(t,e){var i=Math.max(t[0],e[0]),n=Math.max(t[1],e[1]),r=Math.min(t[2],e[2]),o=Math.min(t[3],e[3]);return Math.max(0,r-i)*Math.max(0,o-n)}function d(t,e){return t[0]<=e[0]&&t[1]<=e[1]&&e[2]<=t[2]&&e[3]<=t[3]}function p(t,e){return e[0]<=t[2]&&e[1]<=t[3]&&e[2]>=t[0]&&e[3]>=t[1]}function m(t,e,i,n,r){for(var o,a=[e,i];a.length;)i=a.pop(),e=a.pop(),n>=i-e||(o=e+Math.ceil((i-e)/n/2)*n,_(t,e,i,o,r),a.push(e,o,o,i))}function _(t,e,i,n,r){for(var o,a,s,l,u,h,c,f,d;i>e;){for(i-e>600&&(o=i-e+1,a=n-e+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(0>a-o/2?-1:1),h=Math.max(e,Math.floor(n-a*l/o+u)),c=Math.min(i,Math.floor(n+(o-a)*l/o+u)),_(t,h,c,n,r)),f=t[n],a=e,d=i,v(t,e,n),r(t[i],f)>0&&v(t,e,i);d>a;){for(v(t,a,d),a++,d--;r(t[a],f)<0;)a++;for(;r(t[d],f)>0;)d--}0===r(t[e],f)?v(t,e,d):(d++,v(t,d,i)),n>=d&&(e=d+1),d>=n&&(i=d-1)}}function v(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}e.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!p(t,e.bbox))return i;for(var r,o,a,s,l=[];e;){for(r=0,o=e.children.length;o>r;r++)a=e.children[r],s=e.leaf?n(a):a.bbox,p(t,s)&&(e.leaf?i.push(a):d(t,s)?this._all(a,i):l.push(a));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!p(t,e.bbox))return!1;for(var n,r,o,a,s=[];e;){for(n=0,r=e.children.length;r>n;n++)if(o=e.children[n],a=e.leaf?i(o):o.bbox,p(t,a)){if(e.leaf||d(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;i>e;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data={children:[],height:1,bbox:o(),leaf:!0},this},remove:function(t){if(!t)return this;for(var e,i,n,r,o=this.data,a=this.toBBox(t),s=[],l=[];o||s.length;){if(o||(o=s.pop(),i=s[s.length-1],e=l.pop(),r=!0),o.leaf&&(n=o.children.indexOf(t),-1!==n))return o.children.splice(n,1),s.push(o),this._condense(s),this;r||o.leaf||!d(o.bbox,a)?i?(e++,o=i.children[e],r=!1):o=null:(s.push(o),l.push(e),e=0,i=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:function(t,e){return t[0]-e[0]},compareMinY:function(t,e){return t[1]-e[1]},toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var o,a=i-e+1,s=this._maxEntries;if(s>=a)return o={children:t.slice(e,i+1),height:1,bbox:null,leaf:!0},n(o,this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),o={children:[],height:r,bbox:null,leaf:!1};var l,u,h,c,f=Math.ceil(a/s),d=f*Math.ceil(Math.sqrt(s));for(m(t,e,i,d,this.compareMinX),l=e;i>=l;l+=d)for(h=Math.min(l+d-1,i),m(t,l,h,f,this.compareMinY),u=l;h>=u;u+=f)c=Math.min(u+f-1,h),o.children.push(this._build(t,u,c,r-1));return n(o,this.toBBox),o},_chooseSubtree:function(t,e,i,n){for(var r,o,a,s,l,h,f,d;n.push(e),!e.leaf&&n.length-1!==i;){for(f=d=1/0,r=0,o=e.children.length;o>r;r++)a=e.children[r],l=u(a.bbox),h=c(t,a.bbox)-l,d>h?(d=h,f=f>l?l:f,s=a):h===d&&f>l&&(f=l,s=a);e=s}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t.bbox:n(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),a(s.bbox,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);var a=this._chooseSplitIndex(i,o,r),s={children:i.children.splice(a,i.children.length-a),height:i.height,bbox:null,leaf:!1};i.leaf&&(s.leaf=!0),n(i,this.toBBox),n(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data={children:[t,e],height:t.height+1,bbox:null,leaf:!1},n(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,o,a,s,l,h,c,d;for(h=c=1/0,n=e;i-e>=n;n++)o=r(t,0,n,this.toBBox),a=r(t,n,i,this.toBBox),s=f(o,a),l=u(o)+u(a),h>s?(h=s,d=n,c=c>l?l:c):s===h&&c>l&&(c=l,d=n);return d},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:s,r=t.leaf?this.compareMinY:l,o=this._allDistMargin(t,e,i,n),a=this._allDistMargin(t,e,i,r);a>o&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var o,s,l=this.toBBox,u=r(t,0,e,l),c=r(t,i-e,i,l),f=h(u)+h(c);for(o=e;i-e>o;o++)s=t.children[o],a(u,t.leaf?l(s):s.bbox),f+=h(u);for(o=i-e-1;o>=e;o--)s=t.children[o],a(c,t.leaf?l(s):s.bbox),f+=h(c);return f},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)a(e[n].bbox,t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return [a"+t.join(", a")+"];")}},"function"==typeof t&&t.amd?t("rbush",function(){return e}):"undefined"!=typeof i?i.exports=e:"undefined"!=typeof self?self.rbush=e:window.rbush=e}()},{}],154:[function(e,i,n){void function(e,r){"function"==typeof t&&t.amd?t(r):"object"==typeof n?i.exports=r():e.resolveUrl=r()}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var i=document.getElementsByTagName("head")[0];i.insertBefore(e,i.firstChild);for(var n,r=document.createElement("a"),o=1;t>o;o++)r.href=arguments[o],n=r.href,e.href=n;return i.removeChild(e),n}return t})},{}],155:[function(t,e,i){"use strict";function n(t,e){this.width=t,this.height=e,this.shelves=[],this.stats={},this.count=function(t){this.stats[t]=(0|this.stats[t])+1}}function r(t,e,i){this.y=t,this.x=0,this.width=this.free=e,this.height=i}e.exports=n,n.prototype.allocate=function(t,e){for(var i,n,o=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(i=this.shelves[s],o+=i.height,e===i.height&&t<=i.free)return this.count(e),i.alloc(t,e);e>i.height||t>i.free||e<i.height&&t<=i.free&&(n=i.height-e,n<a.waste&&(a.waste=n,a.shelf=s))}return-1!==a.shelf?(i=this.shelves[a.shelf],this.count(e),i.alloc(t,e)):e<=this.height-o&&t<=this.width?(i=new r(o,this.width,e),this.shelves.push(i),this.count(e),i.alloc(t,e)):{x:-1,y:-1}},n.prototype.resize=function(t,e){if(t<this.width||e<this.height)return!1;this.height=e,this.width=t;for(var i=0;i<this.shelves.length;i++)this.shelves[i].resize(t);return!0},r.prototype={alloc:function(t,e){if(t>this.free||e>this.height)return{x:-1,y:-1};var i=this.x;return this.x+=t,this.free-=t,{x:i,y:this.y,w:t,h:e}},resize:function(t){return t<this.width?!1:(this.free+=t-this.width,this.width=t,!0)}}},{}],156:[function(t,e,i){"use strict";function n(t){return new r(t)}function r(t){this.options=v(Object.create(this.options),t),this._initTrees()}function o(t){return[t.x,t.y,t.x,t.y]}function a(t,e){return t.x-e.x}function s(t,e){return t.y-e.y}function l(t,e){return{x:t,y:e,wx:t,wy:e,zoom:1/0,point:null,numPoints:1}}function u(t){var e=t.geometry.coordinates,i=l(f(e[0]),d(e[1]));return i.point=t,i}function h(t){return t.point?t.point:{type:"Feature",properties:c(t),geometry:{type:"Point",coordinates:[p(t.wx),m(t.wy)]}}}function c(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:i}}function f(t){return t/360+.5}function d(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return 0>i?0:i>1?1:i}function p(t){return 360*(t-.5)}function m(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function _(t,e){var i=t.wx-e.wx,n=t.wy-e.wy;return i*i+n*n}function v(t,e){for(var i in e)t[i]=e[i];return t}var g=t("rbush");e.exports=n,r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:16,log:!1},load:function(t){var e=this.options.log;e&&console.time("total time");var i="prepare "+t.length+" points";e&&console.time(i);var n=t.map(u);e&&console.timeEnd(i);for(var r=this.options.maxZoom;r>=this.options.minZoom;r--){var o=+Date.now();this.trees[r+1].load(n),n=this._cluster(n,r),e&&console.log("z%d: %d clusters in %dms",r,n.length,+Date.now()-o)}return this.trees[this.options.minZoom].load(n),e&&console.timeEnd("total time"),this},getClusters:function(t,e){var i=[f(t[0]),d(t[3]),f(t[2]),d(t[1])],n=Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1)),r=this.trees[n].search(i);return r.map(h)},getTile:function(t,e,i){var n=Math.pow(2,t),r=this.options.extent,o=this.options.radius/r,a=this.trees[t].search([(e-o)/n,(i-o)/n,(e+1+o)/n,(i+1+o)/n]);if(!a.length)return null;for(var s={features:[]},l=0;l<a.length;l++){var u=a[l],h={type:1,geometry:[[Math.round(r*(u.wx*n-e)),Math.round(r*(u.wy*n-i))]],tags:u.point?u.point.properties:c(u)};s.features.push(h)}return s},_initTrees:function(){this.trees=[];for(var t=0;t<=this.options.maxZoom+1;t++)this.trees[t]=g(this.options.nodeSize),this.trees[t].toBBox=o,this.trees[t].compareMinX=a,this.trees[t].compareMinY=s},_cluster:function(t,e){for(var i=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),r=[0,0,0,0],o=0;o<t.length;o++){var a=t[o];if(!(a.zoom<=e)){a.zoom=e,r[0]=a.wx-n,r[1]=a.wy-n,r[2]=a.wx+n,r[3]=a.wy+n;for(var s=this.trees[e+1].search(r),u=!1,h=a.numPoints,c=a.wx*h,f=a.wy*h,d=0;d<s.length;d++){var p=s[d];e<p.zoom&&_(a,p)<=n*n&&(u=!0,p.zoom=e,c+=p.wx*p.numPoints,f+=p.wy*p.numPoints,h+=p.numPoints)}if(u){var m=l(a.x,a.y);m.numPoints=h,m.wx=c/h,m.wy=f/h,i.push(m)}else i.push(a)}}return i}}},{rbush:153}],157:[function(t,e,i){function n(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}e.exports=n,n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var i,n,r,o,a;for(r=t,a=0;8>a;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?i=r:n=r,r=.5*(n-i)+i}return r},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],158:[function(t,e,i){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":159,"./lib/vectortilefeature.js":160,"./lib/vectortilelayer.js":161}],159:[function(t,e,i){"use strict";function n(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,i){if(3===t){var n=new o(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}var o=t("./vectortilelayer");e.exports=n},{"./vectortilelayer":161}],160:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(r,this,e)}function r(t,e,i){1==t?e._id=i.readVarint():2==t?o(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}var a=t("point-geometry");e.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,r=0,o=0,s=0,l=[];t.pos<i;){if(!r){var u=t.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&l.push(e),e=[]),e.push(new a(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&l.push(e),l},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,o=0,a=1/0,s=-(1/0),l=1/0,u=-(1/0);t.pos<e;){if(!n){var h=t.readVarint();i=7&h,n=h>>3}if(n--,1===i||2===i)r+=t.readSVarint(),o+=t.readSVarint(),a>r&&(a=r),r>s&&(s=r),l>o&&(l=o),o>u&&(u=o);else if(7!==i)throw new Error("unknown command "+i)}return[a,l,s,u]},n.prototype.toGeoJSON=function(t,e,i){for(var r=this.extent*Math.pow(2,i),o=this.extent*t,a=this.extent*e,s=this.loadGeometry(),l=n.types[this.type],u=0;u<s.length;u++)for(var h=s[u],c=0;c<h.length;c++){var f=h[c],d=180-360*(f.y+a)/r;h[c]=[360*(f.x+o)/r-180,360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90]}"Point"===l&&1===s.length?s=s[0][0]:"Point"===l?(s=s[0],l="MultiPoint"):"LineString"===l&&1===s.length?s=s[0]:"LineString"===l&&(l="MultiLineString");var p={type:"Feature",geometry:{type:l,coordinates:s},properties:this.properties};return"_id"in this&&(p.id=this._id),p}},{"point-geometry":162}],161:[function(t,e,i){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(o(i))}function o(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=n,n.prototype.feature=function(t){if(0>t||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;
return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":160}],162:[function(t,e,i){arguments[4][152][0].apply(i,arguments)},{dup:152}],163:[function(t,e,i){var n=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t){for(var e,i=Object.keys(o),s=0,l=i.length;l>s;s++){var u=i[s],h=o[u].exports;if(h===t||h["default"]===t){e=u;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},s=0,l=i.length;l>s;s++){var u=i[s];c[u]=u}r[e]=[Function(["require","module","exports"],"("+t+")(self)"),c]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};d[e]=e,r[f]=[Function(["require"],"var f = require("+a(e)+");(f.default ? f.default : f)(self);"),d];var p="("+n+")({"+Object.keys(r).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(f)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(m.createObjectURL(new Blob([p],{type:"text/javascript"})))}},{}]},{},[15])(15)}),/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
function(t){t.fn.hoverIntent=function(e,i,n){var r={interval:100,sensitivity:6,timeout:0};r="object"==typeof e?t.extend(r,e):t.isFunction(i)?t.extend(r,{over:e,out:i,selector:n}):t.extend(r,{over:e,out:e,selector:i});var o,a,s,l,u=function(t){o=t.pageX,a=t.pageY},h=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.sqrt((s-o)*(s-o)+(l-a)*(l-a))<r.sensitivity?(t(i).off("mousemove.hoverIntent",u),i.hoverIntent_s=!0,r.over.apply(i,[e])):(s=o,l=a,i.hoverIntent_t=setTimeout(function(){h(e,i)},r.interval),void 0)},c=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=!1,r.out.apply(e,[t])},f=function(e){var i=t.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===e.type?(s=i.pageX,l=i.pageY,t(n).on("mousemove.hoverIntent",u),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){h(i,n)},r.interval))):(t(n).off("mousemove.hoverIntent",u),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(i,n)},r.timeout)))};return this.on({"mouseenter.hoverIntent":f,"mouseleave.hoverIntent":f},r.selector)}}(jQuery);/*!
 * VERSION: 1.18.1
 * DATE: 2015-12-11
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},o=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,s=i._internals,l=s.isSelector,u=s.isArray,h=o.prototype=i.to({},.1,{}),c=[];o.version="1.18.1",h.constructor=o,h.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},h.updateTo=function(t,e){var n,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,l=1/(1-r),u=this._firstPT;u;)s=u.s+u.c,u.c*=l,u.s=s-u.c,u=u._next;return this},h.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,o,l,u,h,c,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._totalTime,_=this._cycle,v=this._duration,g=this._rawPrevTime;if(t>=d-1e-7?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>g||0>=t&&t>=-1e-7||g===a&&"isPause"!==this.data)&&g!==t&&(i=!0,g>a&&(r="onReverseComplete")),this._rawPrevTime=f=!e||t||g===t?t:a)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===v&&g>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(g>=0&&(i=!0),this._rawPrevTime=f=!e||t||g===t?t:a)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(u=this._time/v,h=this._easeType,c=this._easePower,(1===h||3===h&&u>=.5)&&(u=1-u),3===h&&(u*=2),1===c?u*=u:2===c?u*=u*u:3===c?u*=u*u*u:4===c&&(u*=u*u*u*u),1===h?this.ratio=1-u:2===h?this.ratio=u:this._time/v<.5?this.ratio=u/2:this.ratio=1-u/2):this.ratio=this._ease.getRatio(this._time/v)),p===this._time&&!i&&_===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=m,this._rawPrevTime=g,this._cycle=_,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||n)&&this._callback("onUpdate")),this._cycle!==_&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===v&&this._rawPrevTime===a&&f!==a&&(this._rawPrevTime=0))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,a,s,h,f,d){s=s||0;var p,m,_,v,g=0,y=[],x=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(d||a.callbackScope||this,f||c)},b=a.cycle,w=a.startAt&&a.startAt.cycle;for(u(t)||("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t))),t=t||[],0>s&&(t=n(t),t.reverse(),s*=-1),p=t.length-1,_=0;p>=_;_++){m={};for(v in a)m[v]=a[v];if(b&&r(m,t,_),w){w=m.startAt={};for(v in a.startAt)w[v]=a.startAt[v];r(m.startAt,t,_)}m.delay=g+(m.delay||0),_===p&&h&&(m.onComplete=x),y[_]=new o(t[_],e,m),g+=s}return y},o.staggerFrom=o.allFrom=function(t,e,i,n,r,a,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,r,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,r,a,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,r,a,s,l)},o.delayedCall=function(t,e,i,n,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var f=function(t,e){for(var n=[],r=0,o=t._first;o;)o instanceof i?n[r++]=o:(e&&(n[r++]=o),n=n.concat(f(o,e)),r=n.length),o=o._next;return n},d=o.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var o,a,s,l=d(0!=r),u=l.length,h=i&&n&&r;for(s=0;u>s;s++)a=l[s],(h||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,a,h,c,f,d=s.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t)),u(t))for(c=t.length;--c>-1;)o.killChildTweensOf(t[c],e);else{r=[];for(h in d)for(a=d[h].target.parentNode;a;)a===t&&(r=r.concat(d[h].tweens)),a=a.parentNode;for(f=r.length,c=0;f>c;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var p=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var o,a,s=d(r),l=i&&n&&r,u=s.length;--u>-1;)a=s[u],(l||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,i){p(!0,t,e,i)},o.resumeAll=function(t,e,i){p(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||a,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},h.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},h.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},h.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,o=i._internals,a=n._internals={},s=o.isSelector,l=o.isArray,u=o.lazyTweens,h=o.lazyRender,c=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},d=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},p=a.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},_=n.prototype=new e;return n.version="1.18.1",_.constructor=n,_.kill()._gc=_._forcingPlayhead=_._hasPause=!1,_.to=function(t,e,n,r){var o=n.repeat&&c.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},_.from=function(t,e,n,r){return this.add((n.repeat&&c.TweenMax||i).from(t,e,n),r)},_.fromTo=function(t,e,n,r,o){var a=r.repeat&&c.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),o):this.set(t,r,o)},_.staggerTo=function(t,e,r,o,a,l,u,h){var c,p,_=new n({onComplete:l,onCompleteParams:u,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],s(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),p=0;p<t.length;p++)c=f(r),c.startAt&&(c.startAt=f(c.startAt),c.startAt.cycle&&d(c.startAt,t,p)),v&&d(c,t,p),_.to(t[p],e,c,p*o);return this.add(_,a)},_.staggerFrom=function(t,e,i,n,r,o,a,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,a,s)},_.staggerFromTo=function(t,e,i,n,r,o,a,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,a,s,l)},_.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},_.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,a=new n(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,r=s._first;r;)o=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=o;return s.add(a,0),a},_.add=function(r,o,a,s){var u,h,c,f,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",s=s||0,u=o,h=r.length,c=0;h>c;c++)l(f=r[c])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?u=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),u+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>r._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},_.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},_._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},_.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},_.insert=_.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},_.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},_.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},_.addPause=function(t,e,n,r){var o=i.delayedCall(0,p,n,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},_.removeLabel=function(t){return delete this._labels[t],this},_.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},_._parseTimeOrLabel=function(e,i,n,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},_.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},_.stop=function(){return this.paused(!0)},_.gotoAndPlay=function(t,e){return this.play(t,e)},_.gotoAndStop=function(t,e){return this.pause(t,e)},_.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,a,s,l,c,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._startTime,_=this._timeScale,v=this._paused;if(t>=d-1e-7)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=d+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!c;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(c=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!c;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(c=n),n=n._prev;c&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),f=this._time,f>=p)for(n=this._first;n&&(a=n._next,f===this._time&&(!this._paused||v));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(c===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,f===this._time&&(!this._paused||v));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(c===n){for(c=n._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(u.length&&h(),this._callback("onUpdate"))),s&&(this._gc||(m===this._startTime||_!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(o&&(u.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},_._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},_.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<r||(a instanceof i?e!==!1&&(o[s++]=a):(n!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,n)),s=o.length))),a=a._next;return o},_.getTweensOf=function(t,e){var n,r,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[s++]=n[r]);return o&&this._enabled(!1,!0),a},_.recent=function(){return this._recent},_._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},_.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},_._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},_.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},_.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},_._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},_.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},_.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},_.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},_.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},_.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},_.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,o=e._internals,a=o.lazyTweens,s=o.lazyRender,l=new i(null,null,1,0),u=n.prototype=new t;return u.constructor=n,u.kill()._gc=!1,n.version="1.18.1",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,i){i=i||{};var n,r,o,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new e(this,n,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&o._callback("onStart")},o},u.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,l,u,h,c,f,d,p=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,_=this._time,v=this._totalTime,g=this._startTime,y=this._timeScale,x=this._rawPrevTime,b=this._paused,w=this._cycle;if(t>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,u="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||0>x||x===r)&&x!==t&&this._first&&(h=!0,x>r&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==_||0===m&&x!==r&&(x>0||0>t&&x>=0)&&!this._locked)&&(u="onReverseComplete",o=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,u="onReverseComplete"):x>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(h=!0)}else if(0===m&&0>x&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=m+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=_)for(n=this._first;n&&n._startTime<=t&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var T=this._yoyo&&0!==(1&w),S=T===(this._yoyo&&0!==(1&this._cycle)),M=this._totalTime,E=this._cycle,D=this._rawPrevTime,I=this._time;if(this._totalTime=w*m,this._cycle<w?T=!T:this._totalTime+=m,this._time=_,this._rawPrevTime=0===m?x-1e-4:x,this._cycle=w,this._locked=!0,_=T?0:m,this.render(_,e,0===m),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),_!==this._time)return;if(S&&(_=T?m+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=I,this._totalTime=M,this._cycle=E,this._rawPrevTime=D}if(!(this._time!==_&&this._first||i||h||f))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),d=this._time,d>=_)for(n=this._first;n&&(l=n._next,d===this._time&&(!this._paused||b));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(f===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=l;else for(n=this._last;n&&(l=n._prev,d===this._time&&(!this._paused||b));){if(n._active||n._startTime<=_&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,i),f=f._prev;f=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=l}this._onUpdate&&(e||(a.length&&s(),this._callback("onUpdate"))),u&&(this._locked||this._gc||(g===this._startTime||y!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(o&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))},u.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,o=[],a=this.getChildren(t,e,i),s=0,l=a.length;for(n=0;l>n;n++)r=a[n],r.isActive()&&(o[s++]=r);return o},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},u.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},o=_gsScope._gsDefine.globals,a=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},s=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,i,n){var r={a:t},o={},a={},s={c:n},l=(t+e)/2,u=(e+i)/2,h=(i+n)/2,c=(l+u)/2,f=(u+h)/2,d=(f-c)/8;return r.b=l+(t-l)/4,o.b=c+d,r.c=o.a=(r.b+o.b)/2,o.c=a.a=(c+f)/2,a.b=f-d,s.b=h+(n-h)/4,a.c=s.a=(a.b+s.b)/2,[r,o,a,s]},u=function(t,r,o,a,s){var u,h,c,f,d,p,m,_,v,g,y,x,b,w=t.length-1,T=0,S=t[0].a;for(u=0;w>u;u++)d=t[T],h=d.a,c=d.d,f=t[T+1].d,s?(y=e[u],x=i[u],b=(x+y)*r*.25/(a?.5:n[u]||.5),p=c-(c-h)*(a?.5*r:0!==y?b/y:0),m=c+(f-c)*(a?.5*r:0!==x?b/x:0),_=c-(p+((m-p)*(3*y/(y+x)+.5)/4||0))):(p=c-(c-h)*r*.5,m=c+(f-c)*r*.5,_=c-(p+m)/2),p+=_,m+=_,d.c=v=p,0!==u?d.b=S:d.b=S=d.a+.6*(d.c-d.a),d.da=c-h,d.ca=v-h,d.ba=S-h,o?(g=l(h,S,v,c),t.splice(T,1,g[0],g[1],g[2],g[3]),T+=4):T++,S=m;d=t[T],d.b=S,d.c=S+.4*(d.d-S),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=S-d.a,o&&(g=l(d.a,S,d.c,d.d),t.splice(T,1,g[0],g[1],g[2],g[3]))},h=function(t,n,r,o){var s,l,u,h,c,f,d=[];if(o)for(t=[o].concat(t),l=t.length;--l>-1;)"string"==typeof(f=t[l][n])&&"="===f.charAt(1)&&(t[l][n]=o[n]+Number(f.charAt(0)+f.substr(2)));if(s=t.length-2,0>s)return d[0]=new a(t[0][n],0,0,t[-1>s?0:1][n]),d;for(l=0;s>l;l++)u=t[l][n],h=t[l+1][n],d[l]=new a(u,0,0,h),r&&(c=t[l+2][n],e[l]=(e[l]||0)+(h-u)*(h-u),i[l]=(i[l]||0)+(c-h)*(c-h));return d[l]=new a(t[l][n],0,0,t[l+1][n]),d},c=function(t,o,a,l,c,f){var d,p,m,_,v,g,y,x,b={},w=[],T=f||t[0];c="string"==typeof c?","+c+",":s,null==o&&(o=1);for(p in t[0])w.push(p);if(t.length>1){for(x=t[t.length-1],y=!0,d=w.length;--d>-1;)if(p=w[d],Math.abs(T[p]-x[p])>.05){y=!1;break}y&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=i.length=n.length=0,d=w.length;--d>-1;)p=w[d],r[p]=-1!==c.indexOf(","+p+","),b[p]=h(t,p,r[p],f);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!l){for(d=w.length;--d>-1;)if(r[p])for(m=b[w[d]],g=m.length-1,_=0;g>_;_++)v=m[_+1].da/i[_]+m[_].da/e[_],n[_]=(n[_]||0)+v*v;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=w.length,_=a?4:1;--d>-1;)p=w[d],m=b[p],u(m,o,a,l,r[p]),y&&(m.splice(0,_),m.splice(m.length-_,_));return b},f=function(t,e,i){e=e||"soft";var n,r,o,s,l,u,h,c,f,d,p,m={},_="cubic"===e?3:2,v="soft"===e,g=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<_+1)throw"invalid Bezier data";for(f in t[0])g.push(f);for(u=g.length;--u>-1;){for(f=g[u],m[f]=l=[],d=0,c=t.length,h=0;c>h;h++)n=null==i?t[h][f]:"string"==typeof(p=t[h][f])&&"="===p.charAt(1)?i[f]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&h>1&&c-1>h&&(l[d++]=(n+l[d-2])/2),l[d++]=n;for(c=d-_+1,d=0,h=0;c>h;h+=_)n=l[h],r=l[h+1],o=l[h+2],s=2===_?0:l[h+3],l[d++]=p=3===_?new a(n,r,o,s):new a(n,(2*r+n)/3,(2*r+o)/3,o);l.length=d}return m},d=function(t,e,i){for(var n,r,o,a,s,l,u,h,c,f,d,p=1/i,m=t.length;--m>-1;)for(f=t[m],o=f.a,a=f.d-o,s=f.c-o,l=f.b-o,n=r=0,h=1;i>=h;h++)u=p*h,c=1-u,n=r-(r=(u*u*a+3*c*(u*s+c*l))*u),d=m*i+h-1,e[d]=(e[d]||0)+n*n},p=function(t,e){e=e>>0||6;var i,n,r,o,a=[],s=[],l=0,u=0,h=e-1,c=[],f=[];for(i in t)d(t[i],a,e);for(r=a.length,n=0;r>n;n++)l+=Math.sqrt(a[n]),o=n%e,f[o]=l,o===h&&(u+=l,o=n/e>>0,c[o]=f,s[o]=u,l=0,f=[]);return{length:u,lengths:s,segments:c}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,o,a,s,l=e.values||[],u={},h=l[0],d=e.autoRotate||i.vars.orientToBezier;this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",d===!0?0:Number(d)||0]]:null;for(n in h)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],u[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),s||u[n]!==l[0][n]&&(s=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):f(l,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var m=p(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,
this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),o=d.length;--o>-1;){for(a=0;3>a;a++)n=d[o][a],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=d[o][2],this._initialRotations[o]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,o,a,s,l,u,h,c,f=this._segCount,d=this._func,p=this._target,m=e!==this._startRatio;if(this._timeRes){if(h=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&f-1>r){for(u=f-1;u>r&&(this._l2=h[++r])<=e;);this._l1=h[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(u=c.length-1;u>r&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}s=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?f-1:f*e>>0,s=(e-i*(1/f))*f;for(n=1-s,r=this._props.length;--r>-1;)o=this._props[r],a=this._beziers[o][i],l=(s*s*a.da+3*n*(s*a.ca+n*a.ba))*s+a.a,this._round[o]&&(l=Math.round(l)),d[o]?p[o](l):p[o]=l;if(this._autoRotate){var _,v,g,y,x,b,w,T=this._autoRotate;for(r=T.length;--r>-1;)o=T[r][2],b=T[r][3]||0,w=T[r][4]===!0?1:t,a=this._beziers[T[r][0]],_=this._beziers[T[r][1]],a&&_&&(a=a[i],_=_[i],v=a.a+(a.b-a.a)*s,y=a.b+(a.c-a.b)*s,v+=(y-v)*s,y+=(a.c+(a.d-a.c)*s-y)*s,g=_.a+(_.b-_.a)*s,x=_.b+(_.c-_.b)*s,g+=(x-g)*s,x+=(_.c+(_.d-_.c)*s-x)*s,l=m?Math.atan2(x-g,y-v)*w+b:this._initialRotations[r],d[o]?p[o](l):p[o]=l)}}}),_=m.prototype;m.bezierThrough=c,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,l){e instanceof Array&&(e={values:e}),l=new m;var u,h,c,f=e.values,d=f.length-1,p=[],_={};if(0>d)return s;for(u=0;d>=u;u++)c=i(t,f[u],a,s,l,d!==u),p[u]=c.end;for(h in e)_[h]=e[h];return _.values=p,s=new r(t,"bezier",0,0,c.pt,2),s.data=c,s.plugin=l,s.setRatio=n,0===_.autoRotate&&(_.autoRotate=!0),!_.autoRotate||_.autoRotate instanceof Array||(u=_.autoRotate===!0?0:Number(_.autoRotate),_.autoRotate=null!=c.end.left?[["left","top","rotation",u,!1]]:null!=c.end.x?[["x","y","rotation",u,!1]]:!1),_.autoRotate&&(a._transform||a._enableTransforms(!1),c.autoRotate=a._target._gsTransform),l._onInitTween(c.proxy,_,a._tween),s}})}},_._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},_._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,o,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},s=_gsScope._gsDefine.globals,l={},u=a.prototype=new t("css");u.constructor=a,a.version="1.18.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,u="px",a.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var h,c,f,d,p,m,_=/(?:\d|\-\d|\.\d|\-\.\d)+/g,v=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,g=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,b=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,M=/([A-Z])/g,E=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(t,e){return e.toUpperCase()},P=/(?:Left|Right|Width)/i,z=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,A=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,k=/,(?=[^\)]*(?:\(|$))/gi,C=Math.PI/180,L=180/Math.PI,R={},F=document,O=function(t){return F.createElementNS?F.createElementNS("http://www.w3.org/1999/xhtml",t):F.createElement(t)},N=O("div"),j=O("img"),B=a._internals={_specialProps:l},q=navigator.userAgent,U=function(){var t=q.indexOf("Android"),e=O("a");return f=-1!==q.indexOf("Safari")&&-1===q.indexOf("Chrome")&&(-1===t||Number(q.substr(t+8,1))>3),p=f&&Number(q.substr(q.indexOf("Version/")+8,1))<6,d=-1!==q.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),V=function(t){return b.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(t){window.console&&console.log(t)},H="",$="",Y=function(t,e){e=e||N;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?($=3===n?"ms":i[n],H="-"+$.toLowerCase()+"-",$+t):null},G=F.defaultView?F.defaultView.getComputedStyle:function(){},W=a.getStyle=function(t,e,i,n,r){var o;return U||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||G(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(M,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):V(t)},Z=B.convertToPixels=function(t,i,n,r,o){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var s,l,u,h=P.test(i),c=t,f=N.style,d=0>n;if(d&&(n=-n),"%"===r&&-1!==i.indexOf("border"))s=n/100*(h?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+W(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||F.body,l=c._gsCache,u=e.ticker.frame,l&&h&&l.time===u)return l.width*n/100;f[h?"width":"height"]=n+r}c.appendChild(N),s=parseFloat(N[h?"offsetWidth":"offsetHeight"]),c.removeChild(N),h&&"%"===r&&a.cacheWidths!==!1&&(l=c._gsCache=c._gsCache||{},l.time=u,l.width=s/n*100),0!==s||o||(s=Z(t,i,n,r,!0))}return d?-s:s},J=B.calculateOffset=function(t,e,i){if("absolute"!==W(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=W(t,"margin"+n,i);return t["offset"+n]-(Z(t,e,parseFloat(r),r.replace(x,""))||0)},K=function(t,e){var i,n,r,o={};if(e=e||G(t,null))if(i=e.length)for(;--i>-1;)r=e[i],(-1===r.indexOf("-transform")||Mt===r)&&(o[r.replace(E,I)]=e.getPropertyValue(r));else for(i in e)(-1===i.indexOf("Transform")||St===i)&&(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(E,I)]=e[i]);return U||(o.opacity=V(t)),n=Ot(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Dt&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},Q=function(t,e,i,n,r){var o,a,s,l={},u=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(l[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(y,"")?o:0:J(t,a),void 0!==u[a]&&(s=new pt(u,a,u[a],s)));if(n)for(a in n)"className"!==a&&(l[a]=n[a]);return{difs:l,firstMPT:s}},tt={width:["Left","Right"],height:["Top","Bottom"]},et=["marginLeft","marginRight","marginTop","marginBottom"],it=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=tt[e],o=r.length;for(i=i||G(t,null);--o>-1;)n-=parseFloat(W(t,"padding"+r[o],i,!0))||0,n-=parseFloat(W(t,"border"+r[o]+"Width",i,!0))||0;return n},nt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="center"===n?"50%":"0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(n.replace(y,"")),e.oy=parseFloat(r.replace(y,"")),e.v=t),e||t},rt=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ot=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},at=function(t,e,i,n){var r,o,a,s,l,u=1e-6;return null==t?s=e:"number"==typeof t?s=t:(r=360,o=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:L)-(l?0:e),o.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(a/r|0)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),s=e+a),u>s&&s>-u&&(s=0),s},st={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},lt=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},ut=a.parseColor=function(t,e){var i,n,r,o,a,s,l,u,h,c,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),st[t])i=st[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+n+n+r+r+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(_),e){if(-1!==t.indexOf("="))return t.match(v)}else a=Number(i[0])%360/360,s=Number(i[1])/100,l=Number(i[2])/100,r=.5>=l?l*(s+1):l+s-l*s,n=2*l-r,i.length>3&&(i[3]=Number(t[3])),i[0]=lt(a+1/3,n,r),i[1]=lt(a,n,r),i[2]=lt(a-1/3,n,r);else i=t.match(_)||st.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=st.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,u=Math.max(n,r,o),h=Math.min(n,r,o),l=(u+h)/2,u===h?a=s=0:(c=u-h,s=l>.5?c/(2-u-h):c/(u+h),a=u===n?(r-o)/c+(o>r?6:0):u===r?(o-n)/c+2:(n-r)/c+4,a*=60),i[0]=a+.5|0,i[1]=100*s+.5|0,i[2]=100*l+.5|0),i},ht=function(t,e){var i,n,r,o=t.match(ct)||[],a=0,s=o.length?"":t;for(i=0;i<o.length;i++)n=o[i],r=t.substr(a,t.indexOf(n,a)-a),a+=r.length+n.length,n=ut(n,e),3===n.length&&n.push(1),s+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s},ct="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(u in st)ct+="|"+u+"\\b";ct=new RegExp(ct+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];ct.lastIndex=0,ct.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=ht(t[0],e),t[1]=ht(t[1],e))},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var ft=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(ct)||[""])[0]:"",a=t.split(o).join("").match(g)||[],s=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",h=a.length,c=h>0?a[0].replace(_,""):"";return h?r=e?function(t){var e,f,d,p;if("number"==typeof t)t+=c;else if(n&&k.test(t)){for(p=t.replace(k,"|").split("|"),d=0;d<p.length;d++)p[d]=r(p[d]);return p.join(",")}if(e=(t.match(ct)||[o])[0],f=t.split(e).join("").match(g)||[],d=f.length,h>d--)for(;++d<h;)f[d]=i?f[(d-1)/2|0]:a[d];return s+f.join(u)+u+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=c;else if(n&&k.test(t)){for(o=t.replace(k,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(e=t.match(g)||[],f=e.length,h>f--)for(;++f<h;)e[f]=i?e[(f-1)/2|0]:a[f];return s+e.join(u)+l}:function(t){return t}},dt=function(t){return t=t.split(","),function(e,i,n,r,o,a,s){var l,u=(i+"").split(" ");for(s={},l=0;4>l;l++)s[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,s,o,a)}},pt=(B._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,a=this.data,s=a.proxy,l=a.firstMPT,u=1e-6;l;)e=s[l.v],l.r?e=Math.round(e):u>e&&e>-u&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=s.rotation),1===t||0===t)for(l=a.firstMPT,o=1===t?"e":"b";l;){if(i=l.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),mt=(B._parseToProxy=function(t,e,i,n,r,o){var a,s,l,u,h,c=n,f={},d={},p=i._transform,m=R;for(i._transform=null,R=e,n=h=i.parse(t,e,n,r),R=m,o&&(i._transform=p,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(s=n.p,d[s]=n.s+n.c,f[s]=n.s,o||(u=new pt(n,"s",s,u,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)l="xn"+a,s=n.p+"_"+l,d[s]=n.data[l],f[s]=n[l],o||(u=new pt(n,l,s,u,n.rxp[l]));n=n._next}return{proxy:f,end:d,firstMPT:u,pt:h}},B.CSSPropTween=function(t,e,n,r,a,s,l,u,h,c,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof mt||o.push(this.n),this.r=u,this.type=s||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+r:f,a&&(this._next=a,a._prev=this)}),_t=function(t,e,i,n,r,o){var a=new mt(t,e,i,n-i,r,-1,o);return a.b=i,a.e=a.xs0=n,a},vt=a.parseComplex=function(t,e,i,n,r,o,a,s,l,u){i=i||o||"",a=new mt(t,e,0,0,a,u?2:1,null,!1,s,i,n),n+="";var c,f,d,p,m,g,y,x,b,w,T,S,M,E=i.split(", ").join(",").split(" "),D=n.split(", ").join(",").split(" "),I=E.length,P=h!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(E=E.join(" ").replace(k,", ").split(" "),D=D.join(" ").replace(k,", ").split(" "),I=E.length),I!==D.length&&(E=(o||"").split(" "),I=E.length),a.plugin=l,a.setRatio=u,ct.lastIndex=0,c=0;I>c;c++)if(p=E[c],m=D[c],x=parseFloat(p),x||0===x)a.appendXtra("",x,rt(m,x),m.replace(v,""),P&&-1!==m.indexOf("px"),!0);else if(r&&ct.test(p))S=","===m.charAt(m.length-1)?"),":")",M=-1!==m.indexOf("hsl")&&U,p=ut(p,M),m=ut(m,M),b=p.length+m.length>6,b&&!U&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(D[c]).join("transparent")):(U||(b=!1),M?a.appendXtra(b?"hsla(":"hsl(",p[0],rt(m[0],p[0]),",",!1,!0).appendXtra("",p[1],rt(m[1],p[1]),"%,",!1).appendXtra("",p[2],rt(m[2],p[2]),b?"%,":"%"+S,!1):a.appendXtra(b?"rgba(":"rgb(",p[0],m[0]-p[0],",",!0,!0).appendXtra("",p[1],m[1]-p[1],",",!0).appendXtra("",p[2],m[2]-p[2],b?",":S,!0),b&&(p=p.length<4?1:p[3],a.appendXtra("",p,(m.length<4?1:m[3])-p,S,!1))),ct.lastIndex=0;else if(g=p.match(_)){if(y=m.match(v),!y||y.length!==g.length)return a;for(d=0,f=0;f<g.length;f++)T=g[f],w=p.indexOf(T,d),a.appendXtra(p.substr(d,w-d),Number(T),rt(y[f],T),"",P&&"px"===p.substr(w+T.length,2),0===f),d=w+T.length;a["xs"+a.l]+=p.substr(d)}else a["xs"+a.l]+=a.l?" "+m:m;if(-1!==n.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,c=1;c<a.l;c++)S+=a["xs"+c]+a.data["xn"+c];a.e=S+a["xs"+c]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},gt=9;for(u=mt.prototype,u.l=u.pr=0;--gt>0;)u["xn"+gt]=0,u["xs"+gt]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(t,e,i,n,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&s?" "+t:t||"",i||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",s>0?(a.data["xn"+s]=e+i,a.rxp["xn"+s]=r,a["xn"+s]=e,a.plugin||(a.xfirst=new mt(a,"xn"+s,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+s]+=e+(n||""),a)};var yt=function(t,e){e=e||{},this.p=e.prefix?Y(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||ft(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},xt=B._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,o=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,r=new yt(o[n],e)},bt=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";xt(t,{parser:function(t,i,n,r,o,a,u){var h=s.com.greensock.plugins[e];return h?(h._cssRegister(),l[n].parse(t,i,n,r,o,a,u)):(X("Error: "+e+" js file not loaded."),o)}})}};u=yt.prototype,u.parseComplex=function(t,e,i,n,r,o){var a,s,l,u,h,c,f=this.keyword;if(this.multi&&(k.test(i)||k.test(e)?(s=e.replace(k,"|").split("|"),l=i.replace(k,"|").split("|")):f&&(s=[e],l=[i])),l){for(u=l.length>s.length?l.length:s.length,a=0;u>a;a++)e=s[a]=s[a]||this.dflt,i=l[a]=l[a]||this.dflt,f&&(h=e.indexOf(f),c=i.indexOf(f),h!==c&&(-1===c?s[a]=s[a].split(f).join(""):-1===h&&(s[a]+=" "+f)));e=s.join(", "),i=l.join(", ")}return vt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},u.parse=function(t,e,i,n,o,a,s){return this.parseComplex(t.style,this.format(W(t,this.p,r,!1,this.dflt)),this.format(e),o,a)},a.registerSpecialProp=function(t,e,i){xt(t,{parser:function(t,n,r,o,a,s,l){var u=new mt(t,r,0,0,a,2,r,!1,i);return u.plugin=s,u.setRatio=e(t,n,o._tween,r),u},priority:i})},a.useSVGTransformAttr=f||d;var wt,Tt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),St=Y("transform"),Mt=H+"transform",Et=Y("transformOrigin"),Dt=null!==Y("perspective"),It=B.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Dt?a.defaultForce3D||"auto":!1},Pt=window.SVGElement,zt=function(t,e,i){var n,r=F.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},At=F.documentElement,kt=function(){var t,e,i,n=m||/Android/i.test(q)&&!window.chrome;return F.createElementNS&&!n&&(t=zt("svg",At),e=zt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Et]="50% 50%",e.style[St]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(d&&Dt),At.removeChild(t)),n}(),Ct=function(t,e,i,n,r){var o,s,l,u,h,c,f,d,p,m,_,v,g,y,x=t._gsTransform,b=Ft(t,!0);x&&(g=x.xOrigin,y=x.yOrigin),(!n||(o=n.split(" ")).length<2)&&(f=t.getBBox(),e=nt(e).split(" "),o=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=u=parseFloat(o[0]),i.yOrigin=h=parseFloat(o[1]),n&&b!==Rt&&(c=b[0],f=b[1],d=b[2],p=b[3],m=b[4],_=b[5],v=c*p-f*d,s=u*(p/v)+h*(-d/v)+(d*_-p*m)/v,l=u*(-f/v)+h*(c/v)-(c*_-f*m)/v,u=i.xOrigin=o[0]=s,h=i.yOrigin=o[1]=l),x&&(r||r!==!1&&a.defaultSmoothOrigin!==!1?(s=u-g,l=h-y,x.xOffset+=s*b[0]+l*b[2]-s,x.yOffset+=s*b[1]+l*b[3]-l):x.xOffset=x.yOffset=0),t.setAttribute("data-svg-origin",o.join(" "))},Lt=function(t){return!!(Pt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Rt=[1,0,0,1,0,0],Ft=function(t,e){var i,n,r,o,a,s=t._gsTransform||new It,l=1e5;if(St?n=W(t,Mt,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(z),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),s.x||0,s.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(s.svg||t.getBBox&&Lt(t))&&(i&&-1!==(t.style[St]+"").indexOf("matrix")&&(n=t.style[St],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Rt;for(r=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],gt=r.length;--gt>-1;)o=Number(r[gt]),r[gt]=(a=o-(o|=0))?(a*l+(0>a?-.5:.5)|0)/l+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ot=B.getTransform=function(t,i,n,o){if(t._gsTransform&&n&&!o)return t._gsTransform;var s,l,u,h,c,f,d=n?t._gsTransform||new It:new It,p=d.scaleX<0,m=2e-5,_=1e5,v=Dt?parseFloat(W(t,Et,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,g=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!Lt(t)),d.svg&&(Ct(t,W(t,Et,r,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),wt=a.useSVGTransformAttr||kt),s=Ft(t),s!==Rt){if(16===s.length){var y,x,b,w,T,S=s[0],M=s[1],E=s[2],D=s[3],I=s[4],P=s[5],z=s[6],A=s[7],k=s[8],C=s[9],R=s[10],F=s[12],O=s[13],N=s[14],j=s[11],B=Math.atan2(z,R);d.zOrigin&&(N=-d.zOrigin,F=k*N-s[12],O=C*N-s[13],N=R*N+d.zOrigin-s[14]),d.rotationX=B*L,B&&(w=Math.cos(-B),T=Math.sin(-B),y=I*w+k*T,x=P*w+C*T,b=z*w+R*T,k=I*-T+k*w,C=P*-T+C*w,R=z*-T+R*w,j=A*-T+j*w,I=y,P=x,z=b),B=Math.atan2(-E,R),d.rotationY=B*L,B&&(w=Math.cos(-B),T=Math.sin(-B),y=S*w-k*T,x=M*w-C*T,b=E*w-R*T,C=M*T+C*w,R=E*T+R*w,j=D*T+j*w,S=y,M=x,E=b),B=Math.atan2(M,S),d.rotation=B*L,B&&(w=Math.cos(-B),T=Math.sin(-B),S=S*w+I*T,x=M*w+P*T,P=M*-T+P*w,z=E*-T+z*w,M=x),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),d.scaleX=(Math.sqrt(S*S+M*M)*_+.5|0)/_,d.scaleY=(Math.sqrt(P*P+C*C)*_+.5|0)/_,d.scaleZ=(Math.sqrt(z*z+R*R)*_+.5|0)/_,d.skewX=0,d.perspective=j?1/(0>j?-j:j):0,d.x=F,d.y=O,d.z=N,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*S-d.yOrigin*I),d.y-=d.yOrigin-(d.yOrigin*M-d.xOrigin*P))}else if((!Dt||o||!s.length||d.x!==s[4]||d.y!==s[5]||!d.rotationX&&!d.rotationY)&&(void 0===d.x||"none"!==W(t,"display",i))){var q=s.length>=6,U=q?s[0]:1,V=s[1]||0,X=s[2]||0,H=q?s[3]:1;d.x=s[4]||0,d.y=s[5]||0,u=Math.sqrt(U*U+V*V),h=Math.sqrt(H*H+X*X),c=U||V?Math.atan2(V,U)*L:d.rotation||0,f=X||H?Math.atan2(X,H)*L+c:d.skewX||0,Math.abs(f)>90&&Math.abs(f)<270&&(p?(u*=-1,f+=0>=c?180:-180,c+=0>=c?180:-180):(h*=-1,f+=0>=f?180:-180)),d.scaleX=u,d.scaleY=h,d.rotation=c,d.skewX=f,Dt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*U+d.yOrigin*X),d.y-=d.yOrigin-(d.xOrigin*V+d.yOrigin*H))}d.zOrigin=v;for(l in d)d[l]<m&&d[l]>-m&&(d[l]=0)}return n&&(t._gsTransform=d,d.svg&&(wt&&t.style[St]?e.delayedCall(.001,function(){qt(t.style,St)}):!wt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Nt=function(t){var e,i,n=this.data,r=-n.rotation*C,o=r+n.skewX*C,a=1e5,s=(Math.cos(r)*n.scaleX*a|0)/a,l=(Math.sin(r)*n.scaleX*a|0)/a,u=(Math.sin(o)*-n.scaleY*a|0)/a,h=(Math.cos(o)*n.scaleY*a|0)/a,c=this.t.style,f=this.t.currentStyle;if(f){i=l,l=-u,u=-i,e=f.filter,c.filter="";var d,p,_=this.t.offsetWidth,v=this.t.offsetHeight,g="absolute"!==f.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+u+", M22="+h,w=n.x+_*n.xPercent/100,T=n.y+v*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?_*n.ox*.01:n.ox)-_/2,p=(n.oyp?v*n.oy*.01:n.oy)-v/2,w+=d-(d*s+p*l),T+=p-(d*u+p*h)),g?(d=_/2,p=v/2,y+=", Dx="+(d-(d*s+p*l)+w)+", Dy="+(p-(d*u+p*h)+T)+")"):y+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(A,y):c.filter=y+" "+e,(0===t||1===t)&&1===s&&0===l&&0===u&&1===h&&(g&&-1===y.indexOf("Dx=0, Dy=0")||b.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!g){var S,M,E,D=8>m?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((_-((0>s?-s:s)*_+(0>l?-l:l)*v))/2+w),n.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>u?-u:u)*_))/2+T),gt=0;4>gt;gt++)M=et[gt],S=f[M],i=-1!==S.indexOf("px")?parseFloat(S):Z(this.t,M,parseFloat(S),S.replace(x,""))||0,E=i!==n[M]?2>gt?-n.ieOffsetX:-n.ieOffsetY:2>gt?d-n.ieOffsetX:p-n.ieOffsetY,c[M]=(n[M]=Math.round(i-E*(0===gt||2===gt?1:D)))+"px"}}},jt=B.set3DTransformRatio=B.setTransformRatio=function(t){var e,i,n,r,o,a,s,l,u,h,c,f,p,m,_,v,g,y,x,b,w,T,S,M=this.data,E=this.t.style,D=M.rotation,I=M.rotationX,P=M.rotationY,z=M.scaleX,A=M.scaleY,k=M.scaleZ,L=M.x,R=M.y,F=M.z,O=M.svg,N=M.perspective,j=M.force3D;if(((1===t||0===t)&&"auto"===j&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!j)&&!F&&!N&&!P&&!I&&1===k||wt&&O||!Dt)return void(D||M.skewX||O?(D*=C,T=M.skewX*C,S=1e5,e=Math.cos(D)*z,r=Math.sin(D)*z,i=Math.sin(D-T)*-A,o=Math.cos(D-T)*A,T&&"simple"===M.skewType&&(g=Math.tan(T),g=Math.sqrt(1+g*g),i*=g,o*=g,M.skewY&&(e*=g,r*=g)),O&&(L+=M.xOrigin-(M.xOrigin*e+M.yOrigin*i)+M.xOffset,R+=M.yOrigin-(M.xOrigin*r+M.yOrigin*o)+M.yOffset,wt&&(M.xPercent||M.yPercent)&&(m=this.t.getBBox(),L+=.01*M.xPercent*m.width,R+=.01*M.yPercent*m.height),m=1e-6,m>L&&L>-m&&(L=0),m>R&&R>-m&&(R=0)),x=(e*S|0)/S+","+(r*S|0)/S+","+(i*S|0)/S+","+(o*S|0)/S+","+L+","+R+")",O&&wt?this.t.setAttribute("transform","matrix("+x):E[St]=(M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) matrix(":"matrix(")+x):E[St]=(M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) matrix(":"matrix(")+z+",0,0,"+A+","+L+","+R+")");if(d&&(m=1e-4,m>z&&z>-m&&(z=k=2e-5),m>A&&A>-m&&(A=k=2e-5),!N||M.z||M.rotationX||M.rotationY||(N=0)),D||M.skewX)D*=C,_=e=Math.cos(D),v=r=Math.sin(D),M.skewX&&(D-=M.skewX*C,_=Math.cos(D),v=Math.sin(D),"simple"===M.skewType&&(g=Math.tan(M.skewX*C),g=Math.sqrt(1+g*g),_*=g,v*=g,M.skewY&&(e*=g,r*=g))),i=-v,o=_;else{if(!(P||I||1!==k||N||O))return void(E[St]=(M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+R+"px,"+F+"px)"+(1!==z||1!==A?" scale("+z+","+A+")":""));e=o=1,i=r=0}u=1,n=a=s=l=h=c=0,f=N?-1/N:0,p=M.zOrigin,m=1e-6,b=",",w="0",D=P*C,D&&(_=Math.cos(D),v=Math.sin(D),s=-v,h=f*-v,n=e*v,a=r*v,u=_,f*=_,e*=_,r*=_),D=I*C,D&&(_=Math.cos(D),v=Math.sin(D),g=i*_+n*v,y=o*_+a*v,l=u*v,c=f*v,n=i*-v+n*_,a=o*-v+a*_,u*=_,f*=_,i=g,o=y),1!==k&&(n*=k,a*=k,u*=k,f*=k),1!==A&&(i*=A,o*=A,l*=A,c*=A),1!==z&&(e*=z,r*=z,s*=z,h*=z),(p||O)&&(p&&(L+=n*-p,R+=a*-p,F+=u*-p+p),O&&(L+=M.xOrigin-(M.xOrigin*e+M.yOrigin*i)+M.xOffset,R+=M.yOrigin-(M.xOrigin*r+M.yOrigin*o)+M.yOffset),m>L&&L>-m&&(L=w),m>R&&R>-m&&(R=w),m>F&&F>-m&&(F=0)),x=M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) matrix3d(":"matrix3d(",x+=(m>e&&e>-m?w:e)+b+(m>r&&r>-m?w:r)+b+(m>s&&s>-m?w:s),x+=b+(m>h&&h>-m?w:h)+b+(m>i&&i>-m?w:i)+b+(m>o&&o>-m?w:o),I||P||1!==k?(x+=b+(m>l&&l>-m?w:l)+b+(m>c&&c>-m?w:c)+b+(m>n&&n>-m?w:n),x+=b+(m>a&&a>-m?w:a)+b+(m>u&&u>-m?w:u)+b+(m>f&&f>-m?w:f)+b):x+=",0,0,0,0,1,0,",x+=L+b+R+b+F+b+(N?1+-F/N:1)+")",E[St]=x};u=It.prototype,u.x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,xt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,o,s,l){if(n._lastParsedTransform===l)return o;n._lastParsedTransform=l;var u,h,c,f,d,p,m,_,v,g,y=t._gsTransform,x=t.style,b=1e-6,w=Tt.length,T=l,S={},M="transformOrigin";if(l.display?(f=W(t,"display"),x.display="block",u=Ot(t,r,!0,l.parseTransform),x.display=f):u=Ot(t,r,!0,l.parseTransform),n._transform=u,"string"==typeof T.transform&&St)f=N.style,f[St]=T.transform,f.display="block",f.position="absolute",F.body.appendChild(N),h=Ot(N,null,!1),F.body.removeChild(N),h.perspective||(h.perspective=u.perspective),null!=T.xPercent&&(h.xPercent=ot(T.xPercent,u.xPercent)),null!=T.yPercent&&(h.yPercent=ot(T.yPercent,u.yPercent));else if("object"==typeof T){if(h={scaleX:ot(null!=T.scaleX?T.scaleX:T.scale,u.scaleX),scaleY:ot(null!=T.scaleY?T.scaleY:T.scale,u.scaleY),scaleZ:ot(T.scaleZ,u.scaleZ),x:ot(T.x,u.x),y:ot(T.y,u.y),z:ot(T.z,u.z),xPercent:ot(T.xPercent,u.xPercent),yPercent:ot(T.yPercent,u.yPercent),perspective:ot(T.transformPerspective,u.perspective)},_=T.directionalRotation,null!=_)if("object"==typeof _)for(f in _)T[f]=_[f];else T.rotation=_;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(h.x=0,h.xPercent=ot(T.x,u.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(h.y=0,h.yPercent=ot(T.y,u.yPercent)),h.rotation=at("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:u.rotation,u.rotation,"rotation",S),Dt&&(h.rotationX=at("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":u.rotationX||0,u.rotationX,"rotationX",S),h.rotationY=at("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":u.rotationY||0,u.rotationY,"rotationY",S)),h.skewX=null==T.skewX?u.skewX:at(T.skewX,u.skewX),h.skewY=null==T.skewY?u.skewY:at(T.skewY,u.skewY),(c=h.skewY-u.skewY)&&(h.skewX+=c,h.rotation+=c)}for(Dt&&null!=T.force3D&&(u.force3D=T.force3D,m=!0),u.skewType=T.skewType||u.skewType||a.defaultSkewType,p=u.force3D||u.z||u.rotationX||u.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,p||null==T.scale||(h.scaleZ=1);--w>-1;)i=Tt[w],d=h[i]-u[i],(d>b||-b>d||null!=T[i]||null!=R[i])&&(m=!0,o=new mt(u,i,u[i],d,o),i in S&&(o.e=S[i]),o.xs0=0,o.plugin=s,n._overwriteProps.push(o.n));return d=T.transformOrigin,u.svg&&(d||T.svgOrigin)&&(v=u.xOffset,g=u.yOffset,Ct(t,nt(d),h,T.svgOrigin,T.smoothOrigin),o=_t(u,"xOrigin",(y?u:h).xOrigin,h.xOrigin,o,M),o=_t(u,"yOrigin",(y?u:h).yOrigin,h.yOrigin,o,M),(v!==u.xOffset||g!==u.yOffset)&&(o=_t(u,"xOffset",y?v:u.xOffset,u.xOffset,o,M),o=_t(u,"yOffset",y?g:u.yOffset,u.yOffset,o,M)),d=wt?null:"0px 0px"),(d||Dt&&p&&u.zOrigin)&&(St?(m=!0,i=Et,d=(d||W(t,i,r,!1,"50% 50%"))+"",o=new mt(x,i,0,0,o,-1,M),o.b=x[i],o.plugin=s,Dt?(f=u.zOrigin,d=d.split(" "),u.zOrigin=(d.length>2&&(0===f||"0px"!==d[2])?parseFloat(d[2]):f)||0,o.xs0=o.e=d[0]+" "+(d[1]||"50%")+" 0px",o=new mt(u,"zOrigin",0,0,o,-1,o.n),o.b=f,o.xs0=o.e=u.zOrigin):o.xs0=o.e=d):nt(d+"",u)),m&&(n._transformType=u.svg&&wt||!p&&3!==this._transformType?2:3),o},prefix:!0}),xt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,a,s){e=this.format(e);var l,u,h,c,f,d,p,m,_,v,g,y,x,b,w,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],M=t.style;for(_=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<S.length;u++)this.p.indexOf("border")&&(S[u]=Y(S[u])),f=c=W(t,S[u],r,!1,"0px"),-1!==f.indexOf(" ")&&(c=f.split(" "),f=c[0],c=c[1]),d=h=l[u],p=parseFloat(f),y=f.substr((p+"").length),x="="===d.charAt(1),x?(m=parseInt(d.charAt(0)+"1",10),d=d.substr(2),m*=parseFloat(d),g=d.substr((m+"").length-(0>m?1:0))||""):(m=parseFloat(d),g=d.substr((m+"").length)),""===g&&(g=n[i]||y),g!==y&&(b=Z(t,"borderLeft",p,y),w=Z(t,"borderTop",p,y),"%"===g?(f=b/_*100+"%",c=w/v*100+"%"):"em"===g?(T=Z(t,"borderLeft",1,"em"),f=b/T+"em",c=w/T+"em"):(f=b+"px",c=w+"px"),x&&(d=parseFloat(f)+m+g,h=parseFloat(c)+m+g)),a=vt(M,S[u],f+" "+c,d+" "+h,!1,"0px",a);return a},prefix:!0,formatter:ft("0px 0px 0px 0px",!1,!0)}),xt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,a){var s,l,u,h,c,f,d="background-position",p=r||G(t,null),_=this.format((p?m?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==_.indexOf("%")!=(-1!==v.indexOf("%"))&&(f=W(t,"backgroundImage").replace(D,""),f&&"none"!==f)){for(s=_.split(" "),l=v.split(" "),j.setAttribute("src",f),u=2;--u>-1;)_=s[u],h=-1!==_.indexOf("%"),h!==(-1!==l[u].indexOf("%"))&&(c=0===u?t.offsetWidth-j.width:t.offsetHeight-j.height,s[u]=h?parseFloat(_)/100*c+"px":parseFloat(_)/c*100+"%");_=s.join(" ")}return this.parseComplex(t.style,_,v,o,a)},formatter:nt}),xt("backgroundSize",{defaultValue:"0 0",formatter:nt}),xt("perspective",{defaultValue:"0px",prefix:!0}),xt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xt("transformStyle",{prefix:!0}),xt("backfaceVisibility",{prefix:!0}),xt("userSelect",{prefix:!0}),xt("margin",{parser:dt("marginTop,marginRight,marginBottom,marginLeft")}),xt("padding",{parser:dt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,a){var s,l,u;return 9>m?(l=t.currentStyle,u=8>m?" ":",",s="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(s=this.format(W(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),xt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,
multi:!0}),xt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),xt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,a){return this.parseComplex(t.style,this.format(W(t,"borderTopWidth",r,!1,"0px")+" "+W(t,"borderTopStyle",r,!1,"solid")+" "+W(t,"borderTopColor",r,!1,"#000")),this.format(e),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ct)||["#000"])[0]}}),xt("borderWidth",{parser:dt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new mt(a,s,0,0,r,-1,i,!1,0,a[s],e)}});var Bt=function(t){var e,i=this.t,n=i.filter||W(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!W(this.data,"filter")):(i.filter=n.replace(T,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(b,"opacity="+r))};xt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,a){var s=parseFloat(W(t,"opacity",r,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),u&&1===s&&"hidden"===W(t,"visibility",r)&&0!==e&&(s=0),U?o=new mt(l,"opacity",s,e-s,o):(o=new mt(l,"opacity",100*s,100*(e-s),o),o.xn1=u?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Bt),u&&(o=new mt(l,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var qt=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(M,"-$1").toLowerCase())):t.removeAttribute(e))},Ut=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:qt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xt("className",{parser:function(t,e,n,o,a,s,l){var u,h,c,f,d,p=t.getAttribute("class")||"",m=t.style.cssText;if(a=o._classNamePT=new mt(t,n,0,0,a,2),a.setRatio=Ut,a.pr=-11,i=!0,a.b=p,h=K(t,r),c=t._gsClassPT){for(f={},d=c.data;d;)f[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),u=Q(t,h,K(t),l,f),t.setAttribute("class",p),a.data=u.firstMPT,t.style.cssText=m,a=a.xfirst=o.parse(t,u.difs,a,s)}});var Vt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],l[i]&&(l[i].parse===s?r=!0:i="transformOrigin"===i?Et:l[i].p),qt(a,i);r&&(qt(a,St),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(xt("clearProps",{parser:function(t,e,n,r,o){return o=new mt(t,n,0,0,o,2),o.setRatio=Vt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),u="bezier,throwProps,physicsProps,physics2D".split(","),gt=u.length;gt--;)bt(u[gt]);u=a.prototype,u._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(t,e,s){if(!t.nodeType)return!1;this._target=t,this._tween=s,this._vars=e,h=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,r=G(t,""),o=this._overwriteProps;var u,d,m,_,v,g,y,x,b,T=t.style;if(c&&""===T.zIndex&&(u=W(t,"zIndex",r),("auto"===u||""===u)&&this._addLazySet(T,"zIndex",0)),"string"==typeof e&&(_=T.cssText,u=K(t,r),T.cssText=_+";"+e,u=Q(t,u,K(t)).difs,!U&&w.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,T.cssText=_),e.className?this._firstPT=d=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=d=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,St?f&&(c=!0,""===T.zIndex&&(y=W(t,"zIndex",r),("auto"===y||""===y)&&this._addLazySet(T,"zIndex",0)),p&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):T.zoom=1,m=d;m&&m._next;)m=m._next;x=new mt(t,"transform",0,0,null,2),this._linkCSSP(x,null,m),x.setRatio=St?jt:Nt,x.data=this._transform||Ot(t,r,!0),x.tween=s,x.pr=-1,o.pop()}if(i){for(;d;){for(g=d._next,m=_;m&&m.pr>d.pr;)m=m._next;(d._prev=m?m._prev:v)?d._prev._next=d:_=d,(d._next=m)?m._prev=d:v=d,d=g}this._firstPT=_}return!0},u.parse=function(t,e,i,o){var a,s,u,c,f,d,p,m,_,v,g=t.style;for(a in e)d=e[a],s=l[a],s?i=s.parse(t,d,a,this,i,o,e):(f=W(t,a,r)+"",_="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||_&&S.test(d)?(_||(d=ut(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=vt(g,a,f,d,!0,"transparent",i,0,o)):!_||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(u=parseFloat(f),p=u||0===u?f.substr((u+"").length):"",(""===f||"auto"===f)&&("width"===a||"height"===a?(u=it(t,a,r),p="px"):"left"===a||"top"===a?(u=J(t,a,r),p="px"):(u="opacity"!==a?0:1,p="")),v=_&&"="===d.charAt(1),v?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),m=d.replace(x,"")):(c=parseFloat(d),m=_?d.replace(x,""):""),""===m&&(m=a in n?n[a]:p),d=c||0===c?(v?c+u:c)+m:e[a],p!==m&&""!==m&&(c||0===c)&&u&&(u=Z(t,a,u,p),"%"===m?(u/=Z(t,a,100,"%")/100,e.strictUnits!==!0&&(f=u+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?u/=Z(t,a,1,m):"px"!==m&&(c=Z(t,a,c,m),m="px"),v&&(c||0===c)&&(d=c+u+m)),v&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==g[a]&&(d||d+""!="NaN"&&null!=d)?(i=new mt(g,a,c||u||0,0,i,-1,a,!1,0,f,d),i.xs0="none"!==d||"display"!==a&&-1===a.indexOf("Style")?d:f):X("invalid "+a+" tween value: "+e[a]):(i=new mt(g,a,u,c-u,i,0,a,h!==!1&&("px"===m||"zIndex"===a),0,f,d),i.xs0=m)):i=vt(g,a,f,d,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},u.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):o>e&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},u._enableTransforms=function(t){this._transform=this._transform||Ot(this._target,r,!0),this._transformType=this._transform.svg&&wt||!t&&3!==this._transformType?2:3};var Xt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(t,e,i){var n=this._firstPT=new mt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Xt,n.data=this},u._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},u._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Ht=function(t,e,i){var n,r,o,a;if(t.slice)for(r=t.length;--r>-1;)Ht(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],a=o.type,o.style&&(e.push(K(o)),i&&i.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Ht(o,e,i)};return a.cascadeTo=function(t,i,n){var r,o,a,s,l=e.to(t,i,n),u=[l],h=[],c=[],f=[],d=e._internals.reservedProps;for(t=l._targets||l.target,Ht(t,h,f),l.render(i,!0,!0),Ht(t,c),l.render(0,!0,!0),l._enabled(!0),r=f.length;--r>-1;)if(o=Q(f[r],h[r],c[r]),o.firstMPT){o=o.difs;for(a in n)d[a]&&(o[a]=n[a]);s={};for(a in o)s[a]=h[r][a];u.push(e.fromTo(f[r],i,s,o))}return u},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,n,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=o.length,s={},l=r._propLookup.roundProps;--a>-1;)s[o[a]]=1;for(a=o.length;--a>-1;)for(t=o[a],i=r._firstPT;i;)n=i._next,i.pg?i.t._roundProps(s,!0):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=l)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,i){var n;if("function"!=typeof t.setAttribute)return!1;for(n in e)this._addTween(t,"setAttribute",t.getAttribute(n)+"",e[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,r,o,a,s,l,u=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(n in e)"useRadians"!==n&&(l=(e[n]+"").split("_"),r=l[0],o=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),a=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?o+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,s=a-o,l.length&&(r=l.join("_"),-1!==r.indexOf("short")&&(s%=u,s!==s%(u/2)&&(s=0>s?s+u:s-u)),-1!==r.indexOf("_cw")&&0>s?s=(s+9999999999*u)%u-(s/u|0)*u:-1!==r.indexOf("ccw")&&s>0&&(s=(s-9999999999*u)%u-(s/u|0)*u)),(s>h||-h>s)&&(this._addTween(t,n,o,o+s,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=_gsScope.GreenSockGlobals||_gsScope,o=r.com.greensock,a=2*Math.PI,s=Math.PI/2,l=o._class,u=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},h=t.register||function(){},c=function(t,e,i,n,r){var o=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return h(o,t),o},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},d=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},p=c("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),_=m.prototype=new t;return _.constructor=m,_.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),_.config=m.config=function(t,e,i){return new m(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),_=e.prototype=new t,_.constructor=e,_.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},_.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,a,s,l=e.taper||"none",u=[],h=0,c=0|(e.points||20),d=c,p=e.randomize!==!1,m=e.clamp===!0,_=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=p?Math.random():1/c*d,n=_?_.getRatio(i):i,"none"===l?r=v:"out"===l?(o=1-i,r=o*o*v):"in"===l?r=i*i*v:.5>i?(o=2*i,r=o*o*.5*v):(o=2*(1-i),r=o*o*.5*v),p?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),u[h++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),s=new f(1,1,null),d=c;--d>-1;)a=u[d],s=new f(a.x,a.y,s);this._prev=new f(0,0,0!==s.t?s:s.next)},!0),_=i.prototype=new t,_.constructor=i,_.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},_.config=function(t){return new i(t)},i.ease=new i,c("Bounce",u("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),c("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",u("SineOut",function(t){return Math.sin(t*s)}),u("SineIn",function(t){return-Math.cos(t*s)+1}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(r.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var n,r,o,a,s,l=function(t){var e,n=t.split("."),r=i;for(e=0;e<n.length;e++)r[n[e]]=r=r[n[e]]||{};return r},u=l("com.greensock"),h=1e-10,c=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},f=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),p={},m=function(n,r,o,a){this.sc=p[n]?p[n].sc:[],p[n]=this,this.gsClass=null,this.func=o;var s=[];this.check=function(u){for(var h,c,f,d,_,v=r.length,g=v;--v>-1;)(h=p[r[v]]||new m(r[v],[])).gsClass?(s[v]=h.gsClass,g--):u&&h.sc.push(this);if(0===g&&o)for(c=("com.greensock."+n).split("."),f=c.pop(),d=l(c.join("."))[f]=this.gsClass=o.apply(o,s),a&&(i[f]=d,_="undefined"!=typeof module&&module.exports,!_&&"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return d}):n===e&&_&&(module.exports=d)),v=0;v<this.sc.length;v++)this.sc[v].check()},this.check(!0)},_=t._gsDefine=function(t,e,i,n){return new m(t,e,i,n)},v=u._class=function(t,e,i){return e=e||function(){},_(t,[],function(){return e},i),e};_.globals=i;var g=[0,0,1,1],y=[],x=v("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?g.concat(e):g},!0),b=x.map={},w=x.register=function(t,e,i,n){for(var r,o,a,s,l=e.split(","),h=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(o=l[h],r=n?v("easing."+o,null,!0):u.easing[o]||{},a=c.length;--a>-1;)s=c[a],b[o+"."+s]=b[s+o]=r[s]=t.getRatio?t:t[s]||new t};for(o=x.prototype,o._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=n.length;--r>-1;)o=n[r]+",Power"+r,w(new x(null,null,1,r),o,"easeOut",!0),w(new x(null,null,2,r),o,"easeIn"+(0===r?",easeNone":"")),w(new x(null,null,3,r),o,"easeInOut");b.linear=u.easing.Linear.easeIn,b.swing=u.easing.Quad.easeInOut;var T=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});o=T.prototype,o.addEventListener=function(t,e,i,n,r){r=r||0;var o,l,u=this._listeners[t],h=0;for(null==u&&(this._listeners[t]=u=[]),l=u.length;--l>-1;)o=u[l],o.c===e&&o.s===i?u.splice(l,1):0===h&&o.pr<r&&(h=l+1);u.splice(h,0,{c:e,s:i,up:n,pr:r}),this!==a||s||a.wake()},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var S=t.requestAnimationFrame,M=t.cancelAnimationFrame,E=Date.now||function(){return(new Date).getTime()},D=E();for(n=["ms","moz","webkit","o"],r=n.length;--r>-1&&!S;)S=t[n[r]+"RequestAnimationFrame"],M=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,n,r,o,l,u=this,c=E(),d=e!==!1&&S?"auto":!1,p=500,m=33,_="tick",v=function(t){var e,a,s=E()-D;s>p&&(c+=s-m),D+=s,u.time=(D-c)/1e3,e=u.time-l,(!i||e>0||t===!0)&&(u.frame++,l+=e+(e>=o?.004:o-e),a=!0),t!==!0&&(r=n(v)),a&&u.dispatchEvent(_)};T.call(u),u.time=u.frame=0,u.tick=function(){v(!0)},u.lagSmoothing=function(t,e){p=t||1/h,m=Math.min(e,p,0)},u.sleep=function(){null!=r&&(d&&M?M(r):clearTimeout(r),n=f,r=null,u===a&&(s=!1))},u.wake=function(t){null!==r?u.sleep():t?c+=-D+(D=E()):u.frame>10&&(D=E()-p+5),n=0===i?f:d&&S?S:function(t){return setTimeout(t,1e3*(l-u.time)+1|0)},u===a&&(s=!0),v(2)},u.fps=function(t){return arguments.length?(i=t,o=1/(i||60),l=this.time+o,void u.wake()):i},u.useRAF=function(t){return arguments.length?(u.sleep(),d=t,void u.fps(i)):d},u.fps(t),setTimeout(function(){"auto"===d&&u.frame<5&&"hidden"!==document.visibilityState&&u.useRAF(!1)},1500)}),o=u.Ticker.prototype=new u.events.EventDispatcher,o.constructor=u.Ticker;var I=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,Y){s||a.wake();var i=this.vars.useFrames?$:Y;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=I.ticker=new u.Ticker,o=I.prototype,o._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var P=function(){s&&E()-D>2e3&&a.wake(),setTimeout(P,2e3)};P(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},o._enabled=function(t,e){return s||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||y)},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=d(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(s||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(L.length&&W(),this.render(t,e,!1),L.length&&W())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(s||t||a.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var z=v("core.SimpleTimeline",function(t){I.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});o=z.prototype=new I,o.constructor=z,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},o.rawTime=function(){return s||a.wake(),this._totalTime};var A=v("TweenLite",function(e,i,n){if(I.call(this,i,n),this.render=A.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:A.selector(e)||e;var r,o,a,s=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?H[A.defaultOverwrite]:"number"==typeof l?l>>0:H[l],(s||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0])for(this._targets=a=c(e),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)o=a[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(c(o))):(this._siblings[r]=Z(o,this,!1),1===l&&this._siblings[r].length>1&&K(o,this,null,1,this._siblings[r])):(o=a[r--]=A.selector(o),"string"==typeof o&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=Z(e,this,!1),1===l&&this._siblings.length>1&&K(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(-this._delay))},!0),k=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},C=function(t,e){var i,n={};for(i in t)X[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!q[i]||q[i]&&q[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};o=A.prototype=new I,o.constructor=A,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,A.version="1.18.1",A.defaultEase=o._ease=new x(null,null,1,1),A.defaultOverwrite="auto",A.ticker=a,A.autoSleep=120,A.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},A.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(A.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var L=[],R={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,O=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},N=function(t,e,i,n){var r,o,a,s,l,u,h,c=[t,e],f=0,d="",p=0;for(c.start=t,i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(F)||[],o=e.match(F)||[],n&&(n._next=null,n.blob=1,c._firstPT=n),l=o.length,s=0;l>s;s++)h=o[s],u=e.substr(f,e.indexOf(h,f)-f),d+=u||!s?u:",",f+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),h===r[s]||r.length<=s?d+=h:(d&&(c.push(d),d=""),a=parseFloat(r[s]),c.push(a),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:a,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-a)||0,f:0,r:p&&4>p}),f+=h.length;return d+=e.substr(f),d&&c.push(d),c.setRatio=O,c},j=function(t,e,i,n,r,o,a,s){var l,u,h="get"===i?t[e]:i,c=typeof t[e],f="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:h,f:"function"===c,pg:0,n:r||e,r:o,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-h||0};return"number"!==c&&("function"===c&&"get"===i&&(u=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=h=a?t[u](a):t[u]()),"string"==typeof h&&(a||isNaN(h))?(d.fp=a,l=N(h,n,s||A.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):f||(d.s=parseFloat(h),d.c=parseFloat(n)-d.s||0)),d.c?((d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d):void 0},B=A._internals={isArray:d,isSelector:k,lazyTweens:L,blobDif:N},q=A._plugins={},U=B.tweenLookup={},V=0,X=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},H={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},$=I._rootFramesTimeline=new z,Y=I._rootTimeline=new z,G=30,W=B.lazyRender=function(){var t,e=L.length;for(R={};--e>-1;)t=L[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);L.length=0};Y._startTime=a.time,$._startTime=a.frame,Y._active=$._active=!0,setTimeout(W,1),I._updateRoot=A.render=function(){var t,e,i;if(L.length&&W(),Y.render((a.time-Y._startTime)*Y._timeScale,!1,!1),$.render((a.frame-$._startTime)*$._timeScale,!1,!1),L.length&&W(),a.frame>=G){G=a.frame+(parseInt(A.autoSleep,10)||120);for(i in U){for(e=U[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[i]}if(i=Y._first,(!i||i._paused)&&A.autoSleep&&!$._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",I._updateRoot);var Z=function(t,e,i){var n,r,o=t._gsTweenID;if(U[o||(t._gsTweenID=o="t"+V++)]||(U[o]={target:t,tweens:[]}),e&&(n=U[o].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return U[o].tweens},J=function(t,e,i,n){var r,o,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,n)),a=A.onOverwrite,a&&(o=a(t,e,i,n)),r!==!1&&o!==!1},K=function(t,e,i,n,r){var o,a,s,l;if(1===n||n>=4){for(l=r.length,o=0;l>o;o++)if((s=r[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var u,c=e._startTime+h,f=[],d=0,p=0===e._duration;for(o=r.length;--o>-1;)(s=r[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(u=u||Q(e,0,p),0===Q(s,u,p)&&(f[d++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((p||!s._initted)&&c-s._startTime<=2e-10||(f[d++]=s)));for(o=d;--o>-1;)if(s=f[o],2===n&&s._kill(i,t,e)&&(a=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!J(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},Q=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&2*h>o-e?h:(o+=t.totalDuration()/t._timeScale/r)>e+h?0:o-e-h};o._init=function(){var t,e,i,n,r,o=this.vars,a=this._overwrittenProps,s=this._duration,l=!!o.immediateRender,u=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in o.startAt)r[n]=o.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&o.lazy!==!1,r.startAt=r.delay=null,this._startAt=A.to(this.target,0,r),
l)if(this._time>0)this._startAt=null;else if(0!==s)return}else if(o.runBackwards&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in o)X[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&o.lazy!==!1,i.immediateRender=l,this._startAt=A.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof x?u:"function"==typeof u?new x(u,o.easeParams):b[u]||A.defaultEase:A.defaultEase,o.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&A._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},o._initProps=function(e,i,n,r){var o,a,s,l,u,h;if(null==e)return!1;R[e._gsTweenID]&&W(),this.vars.css||e.style&&e!==t&&e.nodeType&&q.css&&this.vars.autoCSS!==!1&&C(this.vars,e);for(o in this.vars)if(h=this.vars[o],X[o])h&&(h instanceof Array||h.push&&d(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(q[o]&&(l=new q[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(s=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else i[o]=j.call(this,e,o,"get",h,o,0,null,this.vars.stringFilter);return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&K(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(R[e._gsTweenID]=!0),s)},o.render=function(t,e,i){var n,r,o,a,s=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>u||0>=t&&t>=-1e-7||u===h&&"isPause"!==this.data)&&u!==t&&(i=!0,u>h&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||u===t?t:h);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&u>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(u!==h||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||u===t?t:h)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,f=this._easeType,d=this._easePower;(1===f||3===f&&c>=.5)&&(c=1-c),3===f&&(c*=2),1===d?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),1===f?this.ratio=1-c:2===f?this.ratio=c:.5>t/l?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=u,L.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==s||n)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===h&&a!==h&&(this._rawPrevTime=0))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:A.selector(e)||e;var n,r,o,a,s,l,u,h,c,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((d(e)||k(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(u=t||s,h=t!==r&&"all"!==r&&t!==s&&("object"!=typeof t||!t._tempKill),i&&(A.onOverwrite||this.vars.onOverwrite)){for(o in u)s[o]&&(c||(c=[]),c.push(o));if((c||!t)&&!J(this,i,e,c))return!1}for(o in u)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(u)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),h&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&A._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],I.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(-this._delay)),this},o._enabled=function(t,e){if(s||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=Z(n[i],this,!0);else this._siblings=Z(this.target,this,!0)}return I.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?A._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},A.to=function(t,e,i){return new A(t,e,i)},A.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new A(t,e,i)},A.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new A(t,e,n)},A.delayedCall=function(t,e,i,n,r){return new A(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},A.set=function(t,e){return new A(t,0,e)},A.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:A.selector(t)||t;var i,n,r,o;if((d(t)||k(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(A.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else for(n=Z(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},A.killTweensOf=A.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=A.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var tt=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=tt.prototype},!0);if(o=tt.prototype,tt.version="1.18.0",tt.API=2,o._firstPT=null,o._addTween=j,o.setRatio=O,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},A._onPluginEvent=function(t,e){var i,n,r,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:o=s,s=a}s=e._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(i=!0),s=s._next;return i},tt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===tt.API&&(q[(new t[e])._propName]=t[e]);return!0},_.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){tt.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),s=a.prototype=new tt(i);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,tt.activate([a]),a},n=t._gsQueue){for(r=0;r<n.length;r++)n[r]();for(o in p)p[o].func||t.console.log("GSAP encountered missing dependency: com.greensock."+o)}s=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");/*!
 * VERSION: 1.18.1
 * DATE: 2015-12-10
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,o=i._internals,a=n._internals={},s=o.isSelector,l=o.isArray,u=o.lazyTweens,h=o.lazyRender,c=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},d=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},p=a.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},_=n.prototype=new e;return n.version="1.18.1",_.constructor=n,_.kill()._gc=_._forcingPlayhead=_._hasPause=!1,_.to=function(t,e,n,r){var o=n.repeat&&c.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},_.from=function(t,e,n,r){return this.add((n.repeat&&c.TweenMax||i).from(t,e,n),r)},_.fromTo=function(t,e,n,r,o){var a=r.repeat&&c.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),o):this.set(t,r,o)},_.staggerTo=function(t,e,r,o,a,l,u,h){var c,p,_=new n({onComplete:l,onCompleteParams:u,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],s(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),p=0;p<t.length;p++)c=f(r),c.startAt&&(c.startAt=f(c.startAt),c.startAt.cycle&&d(c.startAt,t,p)),v&&d(c,t,p),_.to(t[p],e,c,p*o);return this.add(_,a)},_.staggerFrom=function(t,e,i,n,r,o,a,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,a,s)},_.staggerFromTo=function(t,e,i,n,r,o,a,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,a,s,l)},_.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},_.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,a=new n(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,r=s._first;r;)o=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=o;return s.add(a,0),a},_.add=function(r,o,a,s){var u,h,c,f,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",s=s||0,u=o,h=r.length,c=0;h>c;c++)l(f=r[c])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?u=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),u+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>r._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},_.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},_._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},_.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},_.insert=_.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},_.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},_.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},_.addPause=function(t,e,n,r){var o=i.delayedCall(0,p,n,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},_.removeLabel=function(t){return delete this._labels[t],this},_.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},_._parseTimeOrLabel=function(e,i,n,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},_.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},_.stop=function(){return this.paused(!0)},_.gotoAndPlay=function(t,e){return this.play(t,e)},_.gotoAndStop=function(t,e){return this.pause(t,e)},_.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,a,s,l,c,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._startTime,_=this._timeScale,v=this._paused;if(t>=d-1e-7)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=d+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!c;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(c=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!c;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(c=n),n=n._prev;c&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),f=this._time,f>=p)for(n=this._first;n&&(a=n._next,f===this._time&&(!this._paused||v));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(c===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,f===this._time&&(!this._paused||v));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(c===n){for(c=n._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(u.length&&h(),this._callback("onUpdate"))),s&&(this._gc||(m===this._startTime||_!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(o&&(u.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},_._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},_.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<r||(a instanceof i?e!==!1&&(o[s++]=a):(n!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,n)),s=o.length))),a=a._next;return o},_.getTweensOf=function(t,e){var n,r,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[s++]=n[r]);return o&&this._enabled(!1,!0),a},_.recent=function(){return this._recent},_._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},_.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},_._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},_.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},_.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},_._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},_.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},_.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},_.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},_.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},_.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},_.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}("TimelineLite");/*!
 * VERSION: beta 1.15.2
 * DATE: 2015-01-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=_gsScope.GreenSockGlobals||_gsScope,o=r.com.greensock,a=2*Math.PI,s=Math.PI/2,l=o._class,u=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},h=t.register||function(){},c=function(t,e,i,n,r){var o=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return h(o,t),o},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},d=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},p=c("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),_=m.prototype=new t;return _.constructor=m,_.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),_.config=m.config=function(t,e,i){return new m(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),_=e.prototype=new t,_.constructor=e,_.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},_.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,a,s,l=e.taper||"none",u=[],h=0,c=0|(e.points||20),d=c,p=e.randomize!==!1,m=e.clamp===!0,_=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=p?Math.random():1/c*d,n=_?_.getRatio(i):i,"none"===l?r=v:"out"===l?(o=1-i,r=o*o*v):"in"===l?r=i*i*v:.5>i?(o=2*i,r=o*o*.5*v):(o=2*(1-i),r=o*o*.5*v),p?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),u[h++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),s=new f(1,1,null),d=c;--d>-1;)a=u[d],s=new f(a.x,a.y,s);this._prev=new f(0,0,0!==s.t?s:s.next)},!0),_=i.prototype=new t,_.constructor=i,_.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},_.config=function(t){return new i(t)},i.ease=new i,c("Bounce",u("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},c("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),c("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",u("SineOut",function(t){return Math.sin(t*s)}),u("SineIn",function(t){return-Math.cos(t*s)+1}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(r.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var tl=new TimelineLite({delay:.3}),tlB=new TimelineLite,$cover=$(".Cover"),$header=$(".Header-nav"),$nav=$header.find("li"),$registration=$header.find(".Registration"),$leftCross=$header.find(".Cross--left"),$rightCross=$header.find(".Cross--right"),$topLeft=$(".tl"),$topMiddle=$(".tm"),$topRight=$(".tr"),$MiddleRight=$(".rm"),$BottomRight=$(".rb"),$BottomMiddle=$(".mb"),$BottomLeft=$(".lb"),$MiddleLeft=$(".ml"),$fade=$(".Fade"),$linkBox=$(".Link--box");setTimeout(function(){$fade.addClass("hide")},200),tlB.to($cover,1.5,{width:"0",ease:Power4.easeOut}).fromTo($nav,1,{y:6},{y:0,autoAlpha:1,ease:Linear.easeNone},"-=1"),tl.to($registration,1.5,{autoAlpha:1,rotation:"+=540",ease:Power1.easeOut}).fromTo($leftCross,.4,{height:"+=4",y:-2},{height:"-=4",y:0,ease:Linear.easeNone},"-=1").fromTo($rightCross,.4,{width:"+=4",x:-2},{width:"-=4",x:0,ease:Linear.easeNone},"-=1").fromTo($topLeft,1,{x:18,y:18},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.5").fromTo($topMiddle,1,{x:0,y:18},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.45").fromTo($topRight,1,{x:-18,y:18},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.4").fromTo($MiddleRight,1,{x:-18,y:0},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.35").fromTo($BottomRight,1,{x:-18,y:-18},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.3").fromTo($BottomMiddle,1,{x:0,y:-18},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.25").fromTo($BottomLeft,1,{x:18,y:-18},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.2").fromTo($MiddleLeft,1,{x:18,y:0},{x:0,y:0,autoAlpha:1,ease:Back.easeOut.config(1.7)},"-=1.15"),$(function(){$("a").not(".enlarge").on("click",function(){var t=$(this).attr("href"),e=["#","tel:+6092384513","mailto:JBIRD1111@gmail.com"];if("_blank"==$(this).attr("target"));else if(-1===jQuery.inArray(t,e))return $fade.removeClass("hide"),TweenLite.to($header,.7,{autoAlpha:0,ease:Linear.easeNone}),setTimeout(function(){window.location=t},700),!1}),$linkBox.hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})}),$(function(){function t(){$(".project").find("img").each(function(){var t=$(this).data("src"),e=$(this).parent()[0].innerText;r.push({src:t,caption:e})}),a=r.length;for(var t=0;a>t;t++)$newContent='<li><a href="'+r[t].src+'" class="enlarge"><img style="opacity:1" src="'+r[t].src+'">'+r[t].caption+"</a></li>",o.append($newContent).find("a.enlarge").fluidbox({}).on("openstart.fluidbox",function(){$(".Header-gallery").addClass("open")}).on("openend.fluidbox",function(){var t=$(this)[0].innerText;t.trim()&&($(".Caption--gallery span").text(t),$(".Caption--gallery").addClass("show")),$(".arrow").addClass("show")}).on("closestart.fluidbox",function(){$(".Caption--gallery").removeClass("show"),$(".Caption--gallery span").text(""),$(".Header-gallery").removeClass("open"),$(".arrow").removeClass("show")})}function e(){$("body").addClass("showGallery"),window.location.hash="gallery",setTimeout(function(){l.text(""+s+" Project Gallery ("+a+" images)"),TweenMax.to(o,1,{autoAlpha:1,ease:Power1.easeIn}),TweenMax.fromTo(o,1.5,{y:13},{y:0,ease:Power2.easeOut},"-=1")},500)}function i(){$("body").removeClass("showGallery"),window.location.hash="",TweenMax.to(o,.7,{autoAlpha:0,ease:Linear.easeNone}),TweenMax.fromTo(o,.7,{y:0},{y:13,ease:Power2.easeOut},"-=.8")}function n(t){for(var e=t.length,i=0;e>i;i++)$.ajax({type:"GET",url:"https://api.twitter.com/1/statuses/oembed.json?id="+t[i]+"&maxwidth=340&hide_media=true&hide_thread=true&omit_script=false",dataType:"jsonp",success:function(t){var e=t.html;$(".Tweets").append(e)}})}var r=($(window).height()-200,[]),o=$(".Gallery-wrap ul"),a="",s=$(".Header-intro h1").text(),l=$(".Header-gallery h4");setTimeout(function(){t()},1e3),"#gallery"==window.location.hash&&setTimeout(function(){e()},1e3),$(".article a").on("click",function(){return e(),!1}),$(".back").on("click",function(){i()}),$(".arrow").on("click",function(){var t=$(".fluidbox--opened"),e=$(this);return t.trigger("close.fluidbox"),setTimeout(function(){if(e.is(".next")){var i=t.parent("li").next().find(".enlarge");i.length>0?i.click():$(".Gallery-wrap li:first-of-type").find(".enlarge").click()}else{var n=t.parent("li").prev().find(".enlarge");n.length>0?n.click():$(".Gallery-wrap li:last-of-type").find(".enlarge").click()}},700),!1}),$(document).keyup(function(t){27==t.keyCode&&$("body").hasClass("showGallery")&&i()}),$("body").hasClass("work_brandassets")&&($(".swap").shuffle(),$(".photoSection").each(function(){$(this).find("a.enlarge").shuffle()})),$(".enlarge img").unveil(300,function(){var t=$(this);t.load(function(){var e=t[0].naturalWidth;$(this).closest(".enlarge").fluidbox({maxwidth:e}).on("openend.fluidbox",function(){var t=$(this)[0].innerText;t.trim()&&($(".Caption span").text(t),$(".Caption").addClass("show"))}).on("closestart.fluidbox",function(){$(".Caption").removeClass("show"),$(".Caption span").text("")}),$(this).addClass("show")})}),$("body").hasClass("work_buoy")?n(["690495916822904832","688844171935789056","685987064362496000","684439509111472128","682566424221585410","682428554009690112","679656274615754752","692503794110849024"]):$("body").hasClass("work_community")&&n(["646845247406739456","698465443099578368","665052000170721280","636597666294710272","635905737772810240","626023558741950464","577941459141160960","551191219951644672","509376753932836865","509376679744372736","509357069758390273","503351558231576576","587017764159807488"]),$("body").hasClass("work_blueapron")&&($(window).width()>500?$(".invision").attr("src","//invis.io/RT6C6ZIZP"):($(".invision").remove(),$(".revealMe").toggleClass("hidden"),$(".revealTrigger").closest("p").remove)),$(".revealTrigger").on("click",function(){return $(".revealMe").toggleClass("hidden"),!1})}),$(function(){function t(){var t=$(this),r=(t.find("h4").text(),t.data("longitude")),o=t.data("latitude"),a=t.data("zoom");"hover"==t[0].className||"active"==t[0].className||($notHovers=i.not($(this)),$notHovers.removeClass("hover"),$notHovers.parent().removeClass("hovered"),$(this).addClass("hover"),$(this).parent().addClass("hovered"),n.removeClass("active"),e(r,o,a))}function e(t,e,i){var n=[t,e];o.jumpTo({center:n,zoom:i,bearing:0,load:function(){}})}var i=$(".timeline li"),n=($(".Maps"),$(".active"));$(".timeline").hoverIntent({over:t,out:function(){console.log("mouseout")},selector:"li",interval:80}),mapboxgl.accessToken="pk.eyJ1IjoiamJpcmQxMTExIiwiYSI6ImNpazVwYzdhNzAwN3BpZm0yZHhhOWp6c3IifQ.6EQjuObxFgOTrafXG9Juig";var r=[-122.4,37.777],o=new mapboxgl.Map({container:"map",style:"mapbox://styles/jbird1111/cil48x6cd000x9jm1ajh9yjw5",center:r,zoom:14,scrollZoom:!1,attributionControl:!1})});